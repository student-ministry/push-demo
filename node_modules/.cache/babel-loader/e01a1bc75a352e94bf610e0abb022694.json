{"ast":null,"code":"/*!\n * Pusher JavaScript Library v5.1.1\n * https://pusher.com/\n *\n * Copyright 2017, Pusher\n * Released under the MIT licence.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Pusher\"] = factory();else root[\"Pusher\"] = factory();\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 2);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      (function (nacl) {\n        'use strict'; // Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n        // Public domain.\n        //\n        // Implementation derived from TweetNaCl version 20140427.\n        // See for details: http://tweetnacl.cr.yp.to/\n\n        var gf = function gf(init) {\n          var i,\n              r = new Float64Array(16);\n          if (init) for (i = 0; i < init.length; i++) {\n            r[i] = init[i];\n          }\n          return r;\n        }; //  Pluggable, initialized in high-level API below.\n\n\n        var randombytes = function randombytes()\n        /* x, n */\n        {\n          throw new Error('no PRNG');\n        };\n\n        var _0 = new Uint8Array(16);\n\n        var _9 = new Uint8Array(32);\n\n        _9[0] = 9;\n\n        var gf0 = gf(),\n            gf1 = gf([1]),\n            _121665 = gf([0xdb41, 1]),\n            D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n            D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n            X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n            Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n            I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\n        function ts64(x, i, h, l) {\n          x[i] = h >> 24 & 0xff;\n          x[i + 1] = h >> 16 & 0xff;\n          x[i + 2] = h >> 8 & 0xff;\n          x[i + 3] = h & 0xff;\n          x[i + 4] = l >> 24 & 0xff;\n          x[i + 5] = l >> 16 & 0xff;\n          x[i + 6] = l >> 8 & 0xff;\n          x[i + 7] = l & 0xff;\n        }\n\n        function vn(x, xi, y, yi, n) {\n          var i,\n              d = 0;\n\n          for (i = 0; i < n; i++) {\n            d |= x[xi + i] ^ y[yi + i];\n          }\n\n          return (1 & d - 1 >>> 8) - 1;\n        }\n\n        function crypto_verify_16(x, xi, y, yi) {\n          return vn(x, xi, y, yi, 16);\n        }\n\n        function crypto_verify_32(x, xi, y, yi) {\n          return vn(x, xi, y, yi, 32);\n        }\n\n        function core_salsa20(o, p, k, c) {\n          var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24,\n              j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24,\n              j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24,\n              j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n              j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n              j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24,\n              j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24,\n              j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24,\n              j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n              j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n              j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n              j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n              j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n              j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n              j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n              j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;\n          var x0 = j0,\n              x1 = j1,\n              x2 = j2,\n              x3 = j3,\n              x4 = j4,\n              x5 = j5,\n              x6 = j6,\n              x7 = j7,\n              x8 = j8,\n              x9 = j9,\n              x10 = j10,\n              x11 = j11,\n              x12 = j12,\n              x13 = j13,\n              x14 = j14,\n              x15 = j15,\n              u;\n\n          for (var i = 0; i < 20; i += 2) {\n            u = x0 + x12 | 0;\n            x4 ^= u << 7 | u >>> 32 - 7;\n            u = x4 + x0 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x4 | 0;\n            x12 ^= u << 13 | u >>> 32 - 13;\n            u = x12 + x8 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x1 | 0;\n            x9 ^= u << 7 | u >>> 32 - 7;\n            u = x9 + x5 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x9 | 0;\n            x1 ^= u << 13 | u >>> 32 - 13;\n            u = x1 + x13 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x6 | 0;\n            x14 ^= u << 7 | u >>> 32 - 7;\n            u = x14 + x10 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x14 | 0;\n            x6 ^= u << 13 | u >>> 32 - 13;\n            u = x6 + x2 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x11 | 0;\n            x3 ^= u << 7 | u >>> 32 - 7;\n            u = x3 + x15 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x3 | 0;\n            x11 ^= u << 13 | u >>> 32 - 13;\n            u = x11 + x7 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n            u = x0 + x3 | 0;\n            x1 ^= u << 7 | u >>> 32 - 7;\n            u = x1 + x0 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x1 | 0;\n            x3 ^= u << 13 | u >>> 32 - 13;\n            u = x3 + x2 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x4 | 0;\n            x6 ^= u << 7 | u >>> 32 - 7;\n            u = x6 + x5 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x6 | 0;\n            x4 ^= u << 13 | u >>> 32 - 13;\n            u = x4 + x7 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x9 | 0;\n            x11 ^= u << 7 | u >>> 32 - 7;\n            u = x11 + x10 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x11 | 0;\n            x9 ^= u << 13 | u >>> 32 - 13;\n            u = x9 + x8 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x14 | 0;\n            x12 ^= u << 7 | u >>> 32 - 7;\n            u = x12 + x15 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x12 | 0;\n            x14 ^= u << 13 | u >>> 32 - 13;\n            u = x14 + x13 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n          }\n\n          x0 = x0 + j0 | 0;\n          x1 = x1 + j1 | 0;\n          x2 = x2 + j2 | 0;\n          x3 = x3 + j3 | 0;\n          x4 = x4 + j4 | 0;\n          x5 = x5 + j5 | 0;\n          x6 = x6 + j6 | 0;\n          x7 = x7 + j7 | 0;\n          x8 = x8 + j8 | 0;\n          x9 = x9 + j9 | 0;\n          x10 = x10 + j10 | 0;\n          x11 = x11 + j11 | 0;\n          x12 = x12 + j12 | 0;\n          x13 = x13 + j13 | 0;\n          x14 = x14 + j14 | 0;\n          x15 = x15 + j15 | 0;\n          o[0] = x0 >>> 0 & 0xff;\n          o[1] = x0 >>> 8 & 0xff;\n          o[2] = x0 >>> 16 & 0xff;\n          o[3] = x0 >>> 24 & 0xff;\n          o[4] = x1 >>> 0 & 0xff;\n          o[5] = x1 >>> 8 & 0xff;\n          o[6] = x1 >>> 16 & 0xff;\n          o[7] = x1 >>> 24 & 0xff;\n          o[8] = x2 >>> 0 & 0xff;\n          o[9] = x2 >>> 8 & 0xff;\n          o[10] = x2 >>> 16 & 0xff;\n          o[11] = x2 >>> 24 & 0xff;\n          o[12] = x3 >>> 0 & 0xff;\n          o[13] = x3 >>> 8 & 0xff;\n          o[14] = x3 >>> 16 & 0xff;\n          o[15] = x3 >>> 24 & 0xff;\n          o[16] = x4 >>> 0 & 0xff;\n          o[17] = x4 >>> 8 & 0xff;\n          o[18] = x4 >>> 16 & 0xff;\n          o[19] = x4 >>> 24 & 0xff;\n          o[20] = x5 >>> 0 & 0xff;\n          o[21] = x5 >>> 8 & 0xff;\n          o[22] = x5 >>> 16 & 0xff;\n          o[23] = x5 >>> 24 & 0xff;\n          o[24] = x6 >>> 0 & 0xff;\n          o[25] = x6 >>> 8 & 0xff;\n          o[26] = x6 >>> 16 & 0xff;\n          o[27] = x6 >>> 24 & 0xff;\n          o[28] = x7 >>> 0 & 0xff;\n          o[29] = x7 >>> 8 & 0xff;\n          o[30] = x7 >>> 16 & 0xff;\n          o[31] = x7 >>> 24 & 0xff;\n          o[32] = x8 >>> 0 & 0xff;\n          o[33] = x8 >>> 8 & 0xff;\n          o[34] = x8 >>> 16 & 0xff;\n          o[35] = x8 >>> 24 & 0xff;\n          o[36] = x9 >>> 0 & 0xff;\n          o[37] = x9 >>> 8 & 0xff;\n          o[38] = x9 >>> 16 & 0xff;\n          o[39] = x9 >>> 24 & 0xff;\n          o[40] = x10 >>> 0 & 0xff;\n          o[41] = x10 >>> 8 & 0xff;\n          o[42] = x10 >>> 16 & 0xff;\n          o[43] = x10 >>> 24 & 0xff;\n          o[44] = x11 >>> 0 & 0xff;\n          o[45] = x11 >>> 8 & 0xff;\n          o[46] = x11 >>> 16 & 0xff;\n          o[47] = x11 >>> 24 & 0xff;\n          o[48] = x12 >>> 0 & 0xff;\n          o[49] = x12 >>> 8 & 0xff;\n          o[50] = x12 >>> 16 & 0xff;\n          o[51] = x12 >>> 24 & 0xff;\n          o[52] = x13 >>> 0 & 0xff;\n          o[53] = x13 >>> 8 & 0xff;\n          o[54] = x13 >>> 16 & 0xff;\n          o[55] = x13 >>> 24 & 0xff;\n          o[56] = x14 >>> 0 & 0xff;\n          o[57] = x14 >>> 8 & 0xff;\n          o[58] = x14 >>> 16 & 0xff;\n          o[59] = x14 >>> 24 & 0xff;\n          o[60] = x15 >>> 0 & 0xff;\n          o[61] = x15 >>> 8 & 0xff;\n          o[62] = x15 >>> 16 & 0xff;\n          o[63] = x15 >>> 24 & 0xff;\n        }\n\n        function core_hsalsa20(o, p, k, c) {\n          var j0 = c[0] & 0xff | (c[1] & 0xff) << 8 | (c[2] & 0xff) << 16 | (c[3] & 0xff) << 24,\n              j1 = k[0] & 0xff | (k[1] & 0xff) << 8 | (k[2] & 0xff) << 16 | (k[3] & 0xff) << 24,\n              j2 = k[4] & 0xff | (k[5] & 0xff) << 8 | (k[6] & 0xff) << 16 | (k[7] & 0xff) << 24,\n              j3 = k[8] & 0xff | (k[9] & 0xff) << 8 | (k[10] & 0xff) << 16 | (k[11] & 0xff) << 24,\n              j4 = k[12] & 0xff | (k[13] & 0xff) << 8 | (k[14] & 0xff) << 16 | (k[15] & 0xff) << 24,\n              j5 = c[4] & 0xff | (c[5] & 0xff) << 8 | (c[6] & 0xff) << 16 | (c[7] & 0xff) << 24,\n              j6 = p[0] & 0xff | (p[1] & 0xff) << 8 | (p[2] & 0xff) << 16 | (p[3] & 0xff) << 24,\n              j7 = p[4] & 0xff | (p[5] & 0xff) << 8 | (p[6] & 0xff) << 16 | (p[7] & 0xff) << 24,\n              j8 = p[8] & 0xff | (p[9] & 0xff) << 8 | (p[10] & 0xff) << 16 | (p[11] & 0xff) << 24,\n              j9 = p[12] & 0xff | (p[13] & 0xff) << 8 | (p[14] & 0xff) << 16 | (p[15] & 0xff) << 24,\n              j10 = c[8] & 0xff | (c[9] & 0xff) << 8 | (c[10] & 0xff) << 16 | (c[11] & 0xff) << 24,\n              j11 = k[16] & 0xff | (k[17] & 0xff) << 8 | (k[18] & 0xff) << 16 | (k[19] & 0xff) << 24,\n              j12 = k[20] & 0xff | (k[21] & 0xff) << 8 | (k[22] & 0xff) << 16 | (k[23] & 0xff) << 24,\n              j13 = k[24] & 0xff | (k[25] & 0xff) << 8 | (k[26] & 0xff) << 16 | (k[27] & 0xff) << 24,\n              j14 = k[28] & 0xff | (k[29] & 0xff) << 8 | (k[30] & 0xff) << 16 | (k[31] & 0xff) << 24,\n              j15 = c[12] & 0xff | (c[13] & 0xff) << 8 | (c[14] & 0xff) << 16 | (c[15] & 0xff) << 24;\n          var x0 = j0,\n              x1 = j1,\n              x2 = j2,\n              x3 = j3,\n              x4 = j4,\n              x5 = j5,\n              x6 = j6,\n              x7 = j7,\n              x8 = j8,\n              x9 = j9,\n              x10 = j10,\n              x11 = j11,\n              x12 = j12,\n              x13 = j13,\n              x14 = j14,\n              x15 = j15,\n              u;\n\n          for (var i = 0; i < 20; i += 2) {\n            u = x0 + x12 | 0;\n            x4 ^= u << 7 | u >>> 32 - 7;\n            u = x4 + x0 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x4 | 0;\n            x12 ^= u << 13 | u >>> 32 - 13;\n            u = x12 + x8 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x1 | 0;\n            x9 ^= u << 7 | u >>> 32 - 7;\n            u = x9 + x5 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x9 | 0;\n            x1 ^= u << 13 | u >>> 32 - 13;\n            u = x1 + x13 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x6 | 0;\n            x14 ^= u << 7 | u >>> 32 - 7;\n            u = x14 + x10 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x14 | 0;\n            x6 ^= u << 13 | u >>> 32 - 13;\n            u = x6 + x2 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x11 | 0;\n            x3 ^= u << 7 | u >>> 32 - 7;\n            u = x3 + x15 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x3 | 0;\n            x11 ^= u << 13 | u >>> 32 - 13;\n            u = x11 + x7 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n            u = x0 + x3 | 0;\n            x1 ^= u << 7 | u >>> 32 - 7;\n            u = x1 + x0 | 0;\n            x2 ^= u << 9 | u >>> 32 - 9;\n            u = x2 + x1 | 0;\n            x3 ^= u << 13 | u >>> 32 - 13;\n            u = x3 + x2 | 0;\n            x0 ^= u << 18 | u >>> 32 - 18;\n            u = x5 + x4 | 0;\n            x6 ^= u << 7 | u >>> 32 - 7;\n            u = x6 + x5 | 0;\n            x7 ^= u << 9 | u >>> 32 - 9;\n            u = x7 + x6 | 0;\n            x4 ^= u << 13 | u >>> 32 - 13;\n            u = x4 + x7 | 0;\n            x5 ^= u << 18 | u >>> 32 - 18;\n            u = x10 + x9 | 0;\n            x11 ^= u << 7 | u >>> 32 - 7;\n            u = x11 + x10 | 0;\n            x8 ^= u << 9 | u >>> 32 - 9;\n            u = x8 + x11 | 0;\n            x9 ^= u << 13 | u >>> 32 - 13;\n            u = x9 + x8 | 0;\n            x10 ^= u << 18 | u >>> 32 - 18;\n            u = x15 + x14 | 0;\n            x12 ^= u << 7 | u >>> 32 - 7;\n            u = x12 + x15 | 0;\n            x13 ^= u << 9 | u >>> 32 - 9;\n            u = x13 + x12 | 0;\n            x14 ^= u << 13 | u >>> 32 - 13;\n            u = x14 + x13 | 0;\n            x15 ^= u << 18 | u >>> 32 - 18;\n          }\n\n          o[0] = x0 >>> 0 & 0xff;\n          o[1] = x0 >>> 8 & 0xff;\n          o[2] = x0 >>> 16 & 0xff;\n          o[3] = x0 >>> 24 & 0xff;\n          o[4] = x5 >>> 0 & 0xff;\n          o[5] = x5 >>> 8 & 0xff;\n          o[6] = x5 >>> 16 & 0xff;\n          o[7] = x5 >>> 24 & 0xff;\n          o[8] = x10 >>> 0 & 0xff;\n          o[9] = x10 >>> 8 & 0xff;\n          o[10] = x10 >>> 16 & 0xff;\n          o[11] = x10 >>> 24 & 0xff;\n          o[12] = x15 >>> 0 & 0xff;\n          o[13] = x15 >>> 8 & 0xff;\n          o[14] = x15 >>> 16 & 0xff;\n          o[15] = x15 >>> 24 & 0xff;\n          o[16] = x6 >>> 0 & 0xff;\n          o[17] = x6 >>> 8 & 0xff;\n          o[18] = x6 >>> 16 & 0xff;\n          o[19] = x6 >>> 24 & 0xff;\n          o[20] = x7 >>> 0 & 0xff;\n          o[21] = x7 >>> 8 & 0xff;\n          o[22] = x7 >>> 16 & 0xff;\n          o[23] = x7 >>> 24 & 0xff;\n          o[24] = x8 >>> 0 & 0xff;\n          o[25] = x8 >>> 8 & 0xff;\n          o[26] = x8 >>> 16 & 0xff;\n          o[27] = x8 >>> 24 & 0xff;\n          o[28] = x9 >>> 0 & 0xff;\n          o[29] = x9 >>> 8 & 0xff;\n          o[30] = x9 >>> 16 & 0xff;\n          o[31] = x9 >>> 24 & 0xff;\n        }\n\n        function crypto_core_salsa20(out, inp, k, c) {\n          core_salsa20(out, inp, k, c);\n        }\n\n        function crypto_core_hsalsa20(out, inp, k, c) {\n          core_hsalsa20(out, inp, k, c);\n        }\n\n        var sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]); // \"expand 32-byte k\"\n\n        function crypto_stream_salsa20_xor(c, cpos, m, mpos, b, n, k) {\n          var z = new Uint8Array(16),\n              x = new Uint8Array(64);\n          var u, i;\n\n          for (i = 0; i < 16; i++) {\n            z[i] = 0;\n          }\n\n          for (i = 0; i < 8; i++) {\n            z[i] = n[i];\n          }\n\n          while (b >= 64) {\n            crypto_core_salsa20(x, z, k, sigma);\n\n            for (i = 0; i < 64; i++) {\n              c[cpos + i] = m[mpos + i] ^ x[i];\n            }\n\n            u = 1;\n\n            for (i = 8; i < 16; i++) {\n              u = u + (z[i] & 0xff) | 0;\n              z[i] = u & 0xff;\n              u >>>= 8;\n            }\n\n            b -= 64;\n            cpos += 64;\n            mpos += 64;\n          }\n\n          if (b > 0) {\n            crypto_core_salsa20(x, z, k, sigma);\n\n            for (i = 0; i < b; i++) {\n              c[cpos + i] = m[mpos + i] ^ x[i];\n            }\n          }\n\n          return 0;\n        }\n\n        function crypto_stream_salsa20(c, cpos, b, n, k) {\n          var z = new Uint8Array(16),\n              x = new Uint8Array(64);\n          var u, i;\n\n          for (i = 0; i < 16; i++) {\n            z[i] = 0;\n          }\n\n          for (i = 0; i < 8; i++) {\n            z[i] = n[i];\n          }\n\n          while (b >= 64) {\n            crypto_core_salsa20(x, z, k, sigma);\n\n            for (i = 0; i < 64; i++) {\n              c[cpos + i] = x[i];\n            }\n\n            u = 1;\n\n            for (i = 8; i < 16; i++) {\n              u = u + (z[i] & 0xff) | 0;\n              z[i] = u & 0xff;\n              u >>>= 8;\n            }\n\n            b -= 64;\n            cpos += 64;\n          }\n\n          if (b > 0) {\n            crypto_core_salsa20(x, z, k, sigma);\n\n            for (i = 0; i < b; i++) {\n              c[cpos + i] = x[i];\n            }\n          }\n\n          return 0;\n        }\n\n        function crypto_stream(c, cpos, d, n, k) {\n          var s = new Uint8Array(32);\n          crypto_core_hsalsa20(s, n, k, sigma);\n          var sn = new Uint8Array(8);\n\n          for (var i = 0; i < 8; i++) {\n            sn[i] = n[i + 16];\n          }\n\n          return crypto_stream_salsa20(c, cpos, d, sn, s);\n        }\n\n        function crypto_stream_xor(c, cpos, m, mpos, d, n, k) {\n          var s = new Uint8Array(32);\n          crypto_core_hsalsa20(s, n, k, sigma);\n          var sn = new Uint8Array(8);\n\n          for (var i = 0; i < 8; i++) {\n            sn[i] = n[i + 16];\n          }\n\n          return crypto_stream_salsa20_xor(c, cpos, m, mpos, d, sn, s);\n        }\n        /*\n        * Port of Andrew Moon's Poly1305-donna-16. Public domain.\n        * https://github.com/floodyberry/poly1305-donna\n        */\n\n\n        var poly1305 = function poly1305(key) {\n          this.buffer = new Uint8Array(16);\n          this.r = new Uint16Array(10);\n          this.h = new Uint16Array(10);\n          this.pad = new Uint16Array(8);\n          this.leftover = 0;\n          this.fin = 0;\n          var t0, t1, t2, t3, t4, t5, t6, t7;\n          t0 = key[0] & 0xff | (key[1] & 0xff) << 8;\n          this.r[0] = t0 & 0x1fff;\n          t1 = key[2] & 0xff | (key[3] & 0xff) << 8;\n          this.r[1] = (t0 >>> 13 | t1 << 3) & 0x1fff;\n          t2 = key[4] & 0xff | (key[5] & 0xff) << 8;\n          this.r[2] = (t1 >>> 10 | t2 << 6) & 0x1f03;\n          t3 = key[6] & 0xff | (key[7] & 0xff) << 8;\n          this.r[3] = (t2 >>> 7 | t3 << 9) & 0x1fff;\n          t4 = key[8] & 0xff | (key[9] & 0xff) << 8;\n          this.r[4] = (t3 >>> 4 | t4 << 12) & 0x00ff;\n          this.r[5] = t4 >>> 1 & 0x1ffe;\n          t5 = key[10] & 0xff | (key[11] & 0xff) << 8;\n          this.r[6] = (t4 >>> 14 | t5 << 2) & 0x1fff;\n          t6 = key[12] & 0xff | (key[13] & 0xff) << 8;\n          this.r[7] = (t5 >>> 11 | t6 << 5) & 0x1f81;\n          t7 = key[14] & 0xff | (key[15] & 0xff) << 8;\n          this.r[8] = (t6 >>> 8 | t7 << 8) & 0x1fff;\n          this.r[9] = t7 >>> 5 & 0x007f;\n          this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n          this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n          this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n          this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n          this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n          this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n          this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n          this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n        };\n\n        poly1305.prototype.blocks = function (m, mpos, bytes) {\n          var hibit = this.fin ? 0 : 1 << 11;\n          var t0, t1, t2, t3, t4, t5, t6, t7, c;\n          var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n          var h0 = this.h[0],\n              h1 = this.h[1],\n              h2 = this.h[2],\n              h3 = this.h[3],\n              h4 = this.h[4],\n              h5 = this.h[5],\n              h6 = this.h[6],\n              h7 = this.h[7],\n              h8 = this.h[8],\n              h9 = this.h[9];\n          var r0 = this.r[0],\n              r1 = this.r[1],\n              r2 = this.r[2],\n              r3 = this.r[3],\n              r4 = this.r[4],\n              r5 = this.r[5],\n              r6 = this.r[6],\n              r7 = this.r[7],\n              r8 = this.r[8],\n              r9 = this.r[9];\n\n          while (bytes >= 16) {\n            t0 = m[mpos + 0] & 0xff | (m[mpos + 1] & 0xff) << 8;\n            h0 += t0 & 0x1fff;\n            t1 = m[mpos + 2] & 0xff | (m[mpos + 3] & 0xff) << 8;\n            h1 += (t0 >>> 13 | t1 << 3) & 0x1fff;\n            t2 = m[mpos + 4] & 0xff | (m[mpos + 5] & 0xff) << 8;\n            h2 += (t1 >>> 10 | t2 << 6) & 0x1fff;\n            t3 = m[mpos + 6] & 0xff | (m[mpos + 7] & 0xff) << 8;\n            h3 += (t2 >>> 7 | t3 << 9) & 0x1fff;\n            t4 = m[mpos + 8] & 0xff | (m[mpos + 9] & 0xff) << 8;\n            h4 += (t3 >>> 4 | t4 << 12) & 0x1fff;\n            h5 += t4 >>> 1 & 0x1fff;\n            t5 = m[mpos + 10] & 0xff | (m[mpos + 11] & 0xff) << 8;\n            h6 += (t4 >>> 14 | t5 << 2) & 0x1fff;\n            t6 = m[mpos + 12] & 0xff | (m[mpos + 13] & 0xff) << 8;\n            h7 += (t5 >>> 11 | t6 << 5) & 0x1fff;\n            t7 = m[mpos + 14] & 0xff | (m[mpos + 15] & 0xff) << 8;\n            h8 += (t6 >>> 8 | t7 << 8) & 0x1fff;\n            h9 += t7 >>> 5 | hibit;\n            c = 0;\n            d0 = c;\n            d0 += h0 * r0;\n            d0 += h1 * (5 * r9);\n            d0 += h2 * (5 * r8);\n            d0 += h3 * (5 * r7);\n            d0 += h4 * (5 * r6);\n            c = d0 >>> 13;\n            d0 &= 0x1fff;\n            d0 += h5 * (5 * r5);\n            d0 += h6 * (5 * r4);\n            d0 += h7 * (5 * r3);\n            d0 += h8 * (5 * r2);\n            d0 += h9 * (5 * r1);\n            c += d0 >>> 13;\n            d0 &= 0x1fff;\n            d1 = c;\n            d1 += h0 * r1;\n            d1 += h1 * r0;\n            d1 += h2 * (5 * r9);\n            d1 += h3 * (5 * r8);\n            d1 += h4 * (5 * r7);\n            c = d1 >>> 13;\n            d1 &= 0x1fff;\n            d1 += h5 * (5 * r6);\n            d1 += h6 * (5 * r5);\n            d1 += h7 * (5 * r4);\n            d1 += h8 * (5 * r3);\n            d1 += h9 * (5 * r2);\n            c += d1 >>> 13;\n            d1 &= 0x1fff;\n            d2 = c;\n            d2 += h0 * r2;\n            d2 += h1 * r1;\n            d2 += h2 * r0;\n            d2 += h3 * (5 * r9);\n            d2 += h4 * (5 * r8);\n            c = d2 >>> 13;\n            d2 &= 0x1fff;\n            d2 += h5 * (5 * r7);\n            d2 += h6 * (5 * r6);\n            d2 += h7 * (5 * r5);\n            d2 += h8 * (5 * r4);\n            d2 += h9 * (5 * r3);\n            c += d2 >>> 13;\n            d2 &= 0x1fff;\n            d3 = c;\n            d3 += h0 * r3;\n            d3 += h1 * r2;\n            d3 += h2 * r1;\n            d3 += h3 * r0;\n            d3 += h4 * (5 * r9);\n            c = d3 >>> 13;\n            d3 &= 0x1fff;\n            d3 += h5 * (5 * r8);\n            d3 += h6 * (5 * r7);\n            d3 += h7 * (5 * r6);\n            d3 += h8 * (5 * r5);\n            d3 += h9 * (5 * r4);\n            c += d3 >>> 13;\n            d3 &= 0x1fff;\n            d4 = c;\n            d4 += h0 * r4;\n            d4 += h1 * r3;\n            d4 += h2 * r2;\n            d4 += h3 * r1;\n            d4 += h4 * r0;\n            c = d4 >>> 13;\n            d4 &= 0x1fff;\n            d4 += h5 * (5 * r9);\n            d4 += h6 * (5 * r8);\n            d4 += h7 * (5 * r7);\n            d4 += h8 * (5 * r6);\n            d4 += h9 * (5 * r5);\n            c += d4 >>> 13;\n            d4 &= 0x1fff;\n            d5 = c;\n            d5 += h0 * r5;\n            d5 += h1 * r4;\n            d5 += h2 * r3;\n            d5 += h3 * r2;\n            d5 += h4 * r1;\n            c = d5 >>> 13;\n            d5 &= 0x1fff;\n            d5 += h5 * r0;\n            d5 += h6 * (5 * r9);\n            d5 += h7 * (5 * r8);\n            d5 += h8 * (5 * r7);\n            d5 += h9 * (5 * r6);\n            c += d5 >>> 13;\n            d5 &= 0x1fff;\n            d6 = c;\n            d6 += h0 * r6;\n            d6 += h1 * r5;\n            d6 += h2 * r4;\n            d6 += h3 * r3;\n            d6 += h4 * r2;\n            c = d6 >>> 13;\n            d6 &= 0x1fff;\n            d6 += h5 * r1;\n            d6 += h6 * r0;\n            d6 += h7 * (5 * r9);\n            d6 += h8 * (5 * r8);\n            d6 += h9 * (5 * r7);\n            c += d6 >>> 13;\n            d6 &= 0x1fff;\n            d7 = c;\n            d7 += h0 * r7;\n            d7 += h1 * r6;\n            d7 += h2 * r5;\n            d7 += h3 * r4;\n            d7 += h4 * r3;\n            c = d7 >>> 13;\n            d7 &= 0x1fff;\n            d7 += h5 * r2;\n            d7 += h6 * r1;\n            d7 += h7 * r0;\n            d7 += h8 * (5 * r9);\n            d7 += h9 * (5 * r8);\n            c += d7 >>> 13;\n            d7 &= 0x1fff;\n            d8 = c;\n            d8 += h0 * r8;\n            d8 += h1 * r7;\n            d8 += h2 * r6;\n            d8 += h3 * r5;\n            d8 += h4 * r4;\n            c = d8 >>> 13;\n            d8 &= 0x1fff;\n            d8 += h5 * r3;\n            d8 += h6 * r2;\n            d8 += h7 * r1;\n            d8 += h8 * r0;\n            d8 += h9 * (5 * r9);\n            c += d8 >>> 13;\n            d8 &= 0x1fff;\n            d9 = c;\n            d9 += h0 * r9;\n            d9 += h1 * r8;\n            d9 += h2 * r7;\n            d9 += h3 * r6;\n            d9 += h4 * r5;\n            c = d9 >>> 13;\n            d9 &= 0x1fff;\n            d9 += h5 * r4;\n            d9 += h6 * r3;\n            d9 += h7 * r2;\n            d9 += h8 * r1;\n            d9 += h9 * r0;\n            c += d9 >>> 13;\n            d9 &= 0x1fff;\n            c = (c << 2) + c | 0;\n            c = c + d0 | 0;\n            d0 = c & 0x1fff;\n            c = c >>> 13;\n            d1 += c;\n            h0 = d0;\n            h1 = d1;\n            h2 = d2;\n            h3 = d3;\n            h4 = d4;\n            h5 = d5;\n            h6 = d6;\n            h7 = d7;\n            h8 = d8;\n            h9 = d9;\n            mpos += 16;\n            bytes -= 16;\n          }\n\n          this.h[0] = h0;\n          this.h[1] = h1;\n          this.h[2] = h2;\n          this.h[3] = h3;\n          this.h[4] = h4;\n          this.h[5] = h5;\n          this.h[6] = h6;\n          this.h[7] = h7;\n          this.h[8] = h8;\n          this.h[9] = h9;\n        };\n\n        poly1305.prototype.finish = function (mac, macpos) {\n          var g = new Uint16Array(10);\n          var c, mask, f, i;\n\n          if (this.leftover) {\n            i = this.leftover;\n            this.buffer[i++] = 1;\n\n            for (; i < 16; i++) {\n              this.buffer[i] = 0;\n            }\n\n            this.fin = 1;\n            this.blocks(this.buffer, 0, 16);\n          }\n\n          c = this.h[1] >>> 13;\n          this.h[1] &= 0x1fff;\n\n          for (i = 2; i < 10; i++) {\n            this.h[i] += c;\n            c = this.h[i] >>> 13;\n            this.h[i] &= 0x1fff;\n          }\n\n          this.h[0] += c * 5;\n          c = this.h[0] >>> 13;\n          this.h[0] &= 0x1fff;\n          this.h[1] += c;\n          c = this.h[1] >>> 13;\n          this.h[1] &= 0x1fff;\n          this.h[2] += c;\n          g[0] = this.h[0] + 5;\n          c = g[0] >>> 13;\n          g[0] &= 0x1fff;\n\n          for (i = 1; i < 10; i++) {\n            g[i] = this.h[i] + c;\n            c = g[i] >>> 13;\n            g[i] &= 0x1fff;\n          }\n\n          g[9] -= 1 << 13;\n          mask = (c ^ 1) - 1;\n\n          for (i = 0; i < 10; i++) {\n            g[i] &= mask;\n          }\n\n          mask = ~mask;\n\n          for (i = 0; i < 10; i++) {\n            this.h[i] = this.h[i] & mask | g[i];\n          }\n\n          this.h[0] = (this.h[0] | this.h[1] << 13) & 0xffff;\n          this.h[1] = (this.h[1] >>> 3 | this.h[2] << 10) & 0xffff;\n          this.h[2] = (this.h[2] >>> 6 | this.h[3] << 7) & 0xffff;\n          this.h[3] = (this.h[3] >>> 9 | this.h[4] << 4) & 0xffff;\n          this.h[4] = (this.h[4] >>> 12 | this.h[5] << 1 | this.h[6] << 14) & 0xffff;\n          this.h[5] = (this.h[6] >>> 2 | this.h[7] << 11) & 0xffff;\n          this.h[6] = (this.h[7] >>> 5 | this.h[8] << 8) & 0xffff;\n          this.h[7] = (this.h[8] >>> 8 | this.h[9] << 5) & 0xffff;\n          f = this.h[0] + this.pad[0];\n          this.h[0] = f & 0xffff;\n\n          for (i = 1; i < 8; i++) {\n            f = (this.h[i] + this.pad[i] | 0) + (f >>> 16) | 0;\n            this.h[i] = f & 0xffff;\n          }\n\n          mac[macpos + 0] = this.h[0] >>> 0 & 0xff;\n          mac[macpos + 1] = this.h[0] >>> 8 & 0xff;\n          mac[macpos + 2] = this.h[1] >>> 0 & 0xff;\n          mac[macpos + 3] = this.h[1] >>> 8 & 0xff;\n          mac[macpos + 4] = this.h[2] >>> 0 & 0xff;\n          mac[macpos + 5] = this.h[2] >>> 8 & 0xff;\n          mac[macpos + 6] = this.h[3] >>> 0 & 0xff;\n          mac[macpos + 7] = this.h[3] >>> 8 & 0xff;\n          mac[macpos + 8] = this.h[4] >>> 0 & 0xff;\n          mac[macpos + 9] = this.h[4] >>> 8 & 0xff;\n          mac[macpos + 10] = this.h[5] >>> 0 & 0xff;\n          mac[macpos + 11] = this.h[5] >>> 8 & 0xff;\n          mac[macpos + 12] = this.h[6] >>> 0 & 0xff;\n          mac[macpos + 13] = this.h[6] >>> 8 & 0xff;\n          mac[macpos + 14] = this.h[7] >>> 0 & 0xff;\n          mac[macpos + 15] = this.h[7] >>> 8 & 0xff;\n        };\n\n        poly1305.prototype.update = function (m, mpos, bytes) {\n          var i, want;\n\n          if (this.leftover) {\n            want = 16 - this.leftover;\n            if (want > bytes) want = bytes;\n\n            for (i = 0; i < want; i++) {\n              this.buffer[this.leftover + i] = m[mpos + i];\n            }\n\n            bytes -= want;\n            mpos += want;\n            this.leftover += want;\n            if (this.leftover < 16) return;\n            this.blocks(this.buffer, 0, 16);\n            this.leftover = 0;\n          }\n\n          if (bytes >= 16) {\n            want = bytes - bytes % 16;\n            this.blocks(m, mpos, want);\n            mpos += want;\n            bytes -= want;\n          }\n\n          if (bytes) {\n            for (i = 0; i < bytes; i++) {\n              this.buffer[this.leftover + i] = m[mpos + i];\n            }\n\n            this.leftover += bytes;\n          }\n        };\n\n        function crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n          var s = new poly1305(k);\n          s.update(m, mpos, n);\n          s.finish(out, outpos);\n          return 0;\n        }\n\n        function crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n          var x = new Uint8Array(16);\n          crypto_onetimeauth(x, 0, m, mpos, n, k);\n          return crypto_verify_16(h, hpos, x, 0);\n        }\n\n        function crypto_secretbox(c, m, d, n, k) {\n          var i;\n          if (d < 32) return -1;\n          crypto_stream_xor(c, 0, m, 0, d, n, k);\n          crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n\n          for (i = 0; i < 16; i++) {\n            c[i] = 0;\n          }\n\n          return 0;\n        }\n\n        function crypto_secretbox_open(m, c, d, n, k) {\n          var i;\n          var x = new Uint8Array(32);\n          if (d < 32) return -1;\n          crypto_stream(x, 0, 32, n, k);\n          if (crypto_onetimeauth_verify(c, 16, c, 32, d - 32, x) !== 0) return -1;\n          crypto_stream_xor(m, 0, c, 0, d, n, k);\n\n          for (i = 0; i < 32; i++) {\n            m[i] = 0;\n          }\n\n          return 0;\n        }\n\n        function set25519(r, a) {\n          var i;\n\n          for (i = 0; i < 16; i++) {\n            r[i] = a[i] | 0;\n          }\n        }\n\n        function car25519(o) {\n          var i,\n              v,\n              c = 1;\n\n          for (i = 0; i < 16; i++) {\n            v = o[i] + c + 65535;\n            c = Math.floor(v / 65536);\n            o[i] = v - c * 65536;\n          }\n\n          o[0] += c - 1 + 37 * (c - 1);\n        }\n\n        function sel25519(p, q, b) {\n          var t,\n              c = ~(b - 1);\n\n          for (var i = 0; i < 16; i++) {\n            t = c & (p[i] ^ q[i]);\n            p[i] ^= t;\n            q[i] ^= t;\n          }\n        }\n\n        function pack25519(o, n) {\n          var i, j, b;\n          var m = gf(),\n              t = gf();\n\n          for (i = 0; i < 16; i++) {\n            t[i] = n[i];\n          }\n\n          car25519(t);\n          car25519(t);\n          car25519(t);\n\n          for (j = 0; j < 2; j++) {\n            m[0] = t[0] - 0xffed;\n\n            for (i = 1; i < 15; i++) {\n              m[i] = t[i] - 0xffff - (m[i - 1] >> 16 & 1);\n              m[i - 1] &= 0xffff;\n            }\n\n            m[15] = t[15] - 0x7fff - (m[14] >> 16 & 1);\n            b = m[15] >> 16 & 1;\n            m[14] &= 0xffff;\n            sel25519(t, m, 1 - b);\n          }\n\n          for (i = 0; i < 16; i++) {\n            o[2 * i] = t[i] & 0xff;\n            o[2 * i + 1] = t[i] >> 8;\n          }\n        }\n\n        function neq25519(a, b) {\n          var c = new Uint8Array(32),\n              d = new Uint8Array(32);\n          pack25519(c, a);\n          pack25519(d, b);\n          return crypto_verify_32(c, 0, d, 0);\n        }\n\n        function par25519(a) {\n          var d = new Uint8Array(32);\n          pack25519(d, a);\n          return d[0] & 1;\n        }\n\n        function unpack25519(o, n) {\n          var i;\n\n          for (i = 0; i < 16; i++) {\n            o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n          }\n\n          o[15] &= 0x7fff;\n        }\n\n        function A(o, a, b) {\n          for (var i = 0; i < 16; i++) {\n            o[i] = a[i] + b[i];\n          }\n        }\n\n        function Z(o, a, b) {\n          for (var i = 0; i < 16; i++) {\n            o[i] = a[i] - b[i];\n          }\n        }\n\n        function M(o, a, b) {\n          var v,\n              c,\n              t0 = 0,\n              t1 = 0,\n              t2 = 0,\n              t3 = 0,\n              t4 = 0,\n              t5 = 0,\n              t6 = 0,\n              t7 = 0,\n              t8 = 0,\n              t9 = 0,\n              t10 = 0,\n              t11 = 0,\n              t12 = 0,\n              t13 = 0,\n              t14 = 0,\n              t15 = 0,\n              t16 = 0,\n              t17 = 0,\n              t18 = 0,\n              t19 = 0,\n              t20 = 0,\n              t21 = 0,\n              t22 = 0,\n              t23 = 0,\n              t24 = 0,\n              t25 = 0,\n              t26 = 0,\n              t27 = 0,\n              t28 = 0,\n              t29 = 0,\n              t30 = 0,\n              b0 = b[0],\n              b1 = b[1],\n              b2 = b[2],\n              b3 = b[3],\n              b4 = b[4],\n              b5 = b[5],\n              b6 = b[6],\n              b7 = b[7],\n              b8 = b[8],\n              b9 = b[9],\n              b10 = b[10],\n              b11 = b[11],\n              b12 = b[12],\n              b13 = b[13],\n              b14 = b[14],\n              b15 = b[15];\n          v = a[0];\n          t0 += v * b0;\n          t1 += v * b1;\n          t2 += v * b2;\n          t3 += v * b3;\n          t4 += v * b4;\n          t5 += v * b5;\n          t6 += v * b6;\n          t7 += v * b7;\n          t8 += v * b8;\n          t9 += v * b9;\n          t10 += v * b10;\n          t11 += v * b11;\n          t12 += v * b12;\n          t13 += v * b13;\n          t14 += v * b14;\n          t15 += v * b15;\n          v = a[1];\n          t1 += v * b0;\n          t2 += v * b1;\n          t3 += v * b2;\n          t4 += v * b3;\n          t5 += v * b4;\n          t6 += v * b5;\n          t7 += v * b6;\n          t8 += v * b7;\n          t9 += v * b8;\n          t10 += v * b9;\n          t11 += v * b10;\n          t12 += v * b11;\n          t13 += v * b12;\n          t14 += v * b13;\n          t15 += v * b14;\n          t16 += v * b15;\n          v = a[2];\n          t2 += v * b0;\n          t3 += v * b1;\n          t4 += v * b2;\n          t5 += v * b3;\n          t6 += v * b4;\n          t7 += v * b5;\n          t8 += v * b6;\n          t9 += v * b7;\n          t10 += v * b8;\n          t11 += v * b9;\n          t12 += v * b10;\n          t13 += v * b11;\n          t14 += v * b12;\n          t15 += v * b13;\n          t16 += v * b14;\n          t17 += v * b15;\n          v = a[3];\n          t3 += v * b0;\n          t4 += v * b1;\n          t5 += v * b2;\n          t6 += v * b3;\n          t7 += v * b4;\n          t8 += v * b5;\n          t9 += v * b6;\n          t10 += v * b7;\n          t11 += v * b8;\n          t12 += v * b9;\n          t13 += v * b10;\n          t14 += v * b11;\n          t15 += v * b12;\n          t16 += v * b13;\n          t17 += v * b14;\n          t18 += v * b15;\n          v = a[4];\n          t4 += v * b0;\n          t5 += v * b1;\n          t6 += v * b2;\n          t7 += v * b3;\n          t8 += v * b4;\n          t9 += v * b5;\n          t10 += v * b6;\n          t11 += v * b7;\n          t12 += v * b8;\n          t13 += v * b9;\n          t14 += v * b10;\n          t15 += v * b11;\n          t16 += v * b12;\n          t17 += v * b13;\n          t18 += v * b14;\n          t19 += v * b15;\n          v = a[5];\n          t5 += v * b0;\n          t6 += v * b1;\n          t7 += v * b2;\n          t8 += v * b3;\n          t9 += v * b4;\n          t10 += v * b5;\n          t11 += v * b6;\n          t12 += v * b7;\n          t13 += v * b8;\n          t14 += v * b9;\n          t15 += v * b10;\n          t16 += v * b11;\n          t17 += v * b12;\n          t18 += v * b13;\n          t19 += v * b14;\n          t20 += v * b15;\n          v = a[6];\n          t6 += v * b0;\n          t7 += v * b1;\n          t8 += v * b2;\n          t9 += v * b3;\n          t10 += v * b4;\n          t11 += v * b5;\n          t12 += v * b6;\n          t13 += v * b7;\n          t14 += v * b8;\n          t15 += v * b9;\n          t16 += v * b10;\n          t17 += v * b11;\n          t18 += v * b12;\n          t19 += v * b13;\n          t20 += v * b14;\n          t21 += v * b15;\n          v = a[7];\n          t7 += v * b0;\n          t8 += v * b1;\n          t9 += v * b2;\n          t10 += v * b3;\n          t11 += v * b4;\n          t12 += v * b5;\n          t13 += v * b6;\n          t14 += v * b7;\n          t15 += v * b8;\n          t16 += v * b9;\n          t17 += v * b10;\n          t18 += v * b11;\n          t19 += v * b12;\n          t20 += v * b13;\n          t21 += v * b14;\n          t22 += v * b15;\n          v = a[8];\n          t8 += v * b0;\n          t9 += v * b1;\n          t10 += v * b2;\n          t11 += v * b3;\n          t12 += v * b4;\n          t13 += v * b5;\n          t14 += v * b6;\n          t15 += v * b7;\n          t16 += v * b8;\n          t17 += v * b9;\n          t18 += v * b10;\n          t19 += v * b11;\n          t20 += v * b12;\n          t21 += v * b13;\n          t22 += v * b14;\n          t23 += v * b15;\n          v = a[9];\n          t9 += v * b0;\n          t10 += v * b1;\n          t11 += v * b2;\n          t12 += v * b3;\n          t13 += v * b4;\n          t14 += v * b5;\n          t15 += v * b6;\n          t16 += v * b7;\n          t17 += v * b8;\n          t18 += v * b9;\n          t19 += v * b10;\n          t20 += v * b11;\n          t21 += v * b12;\n          t22 += v * b13;\n          t23 += v * b14;\n          t24 += v * b15;\n          v = a[10];\n          t10 += v * b0;\n          t11 += v * b1;\n          t12 += v * b2;\n          t13 += v * b3;\n          t14 += v * b4;\n          t15 += v * b5;\n          t16 += v * b6;\n          t17 += v * b7;\n          t18 += v * b8;\n          t19 += v * b9;\n          t20 += v * b10;\n          t21 += v * b11;\n          t22 += v * b12;\n          t23 += v * b13;\n          t24 += v * b14;\n          t25 += v * b15;\n          v = a[11];\n          t11 += v * b0;\n          t12 += v * b1;\n          t13 += v * b2;\n          t14 += v * b3;\n          t15 += v * b4;\n          t16 += v * b5;\n          t17 += v * b6;\n          t18 += v * b7;\n          t19 += v * b8;\n          t20 += v * b9;\n          t21 += v * b10;\n          t22 += v * b11;\n          t23 += v * b12;\n          t24 += v * b13;\n          t25 += v * b14;\n          t26 += v * b15;\n          v = a[12];\n          t12 += v * b0;\n          t13 += v * b1;\n          t14 += v * b2;\n          t15 += v * b3;\n          t16 += v * b4;\n          t17 += v * b5;\n          t18 += v * b6;\n          t19 += v * b7;\n          t20 += v * b8;\n          t21 += v * b9;\n          t22 += v * b10;\n          t23 += v * b11;\n          t24 += v * b12;\n          t25 += v * b13;\n          t26 += v * b14;\n          t27 += v * b15;\n          v = a[13];\n          t13 += v * b0;\n          t14 += v * b1;\n          t15 += v * b2;\n          t16 += v * b3;\n          t17 += v * b4;\n          t18 += v * b5;\n          t19 += v * b6;\n          t20 += v * b7;\n          t21 += v * b8;\n          t22 += v * b9;\n          t23 += v * b10;\n          t24 += v * b11;\n          t25 += v * b12;\n          t26 += v * b13;\n          t27 += v * b14;\n          t28 += v * b15;\n          v = a[14];\n          t14 += v * b0;\n          t15 += v * b1;\n          t16 += v * b2;\n          t17 += v * b3;\n          t18 += v * b4;\n          t19 += v * b5;\n          t20 += v * b6;\n          t21 += v * b7;\n          t22 += v * b8;\n          t23 += v * b9;\n          t24 += v * b10;\n          t25 += v * b11;\n          t26 += v * b12;\n          t27 += v * b13;\n          t28 += v * b14;\n          t29 += v * b15;\n          v = a[15];\n          t15 += v * b0;\n          t16 += v * b1;\n          t17 += v * b2;\n          t18 += v * b3;\n          t19 += v * b4;\n          t20 += v * b5;\n          t21 += v * b6;\n          t22 += v * b7;\n          t23 += v * b8;\n          t24 += v * b9;\n          t25 += v * b10;\n          t26 += v * b11;\n          t27 += v * b12;\n          t28 += v * b13;\n          t29 += v * b14;\n          t30 += v * b15;\n          t0 += 38 * t16;\n          t1 += 38 * t17;\n          t2 += 38 * t18;\n          t3 += 38 * t19;\n          t4 += 38 * t20;\n          t5 += 38 * t21;\n          t6 += 38 * t22;\n          t7 += 38 * t23;\n          t8 += 38 * t24;\n          t9 += 38 * t25;\n          t10 += 38 * t26;\n          t11 += 38 * t27;\n          t12 += 38 * t28;\n          t13 += 38 * t29;\n          t14 += 38 * t30; // t15 left as is\n          // first car\n\n          c = 1;\n          v = t0 + c + 65535;\n          c = Math.floor(v / 65536);\n          t0 = v - c * 65536;\n          v = t1 + c + 65535;\n          c = Math.floor(v / 65536);\n          t1 = v - c * 65536;\n          v = t2 + c + 65535;\n          c = Math.floor(v / 65536);\n          t2 = v - c * 65536;\n          v = t3 + c + 65535;\n          c = Math.floor(v / 65536);\n          t3 = v - c * 65536;\n          v = t4 + c + 65535;\n          c = Math.floor(v / 65536);\n          t4 = v - c * 65536;\n          v = t5 + c + 65535;\n          c = Math.floor(v / 65536);\n          t5 = v - c * 65536;\n          v = t6 + c + 65535;\n          c = Math.floor(v / 65536);\n          t6 = v - c * 65536;\n          v = t7 + c + 65535;\n          c = Math.floor(v / 65536);\n          t7 = v - c * 65536;\n          v = t8 + c + 65535;\n          c = Math.floor(v / 65536);\n          t8 = v - c * 65536;\n          v = t9 + c + 65535;\n          c = Math.floor(v / 65536);\n          t9 = v - c * 65536;\n          v = t10 + c + 65535;\n          c = Math.floor(v / 65536);\n          t10 = v - c * 65536;\n          v = t11 + c + 65535;\n          c = Math.floor(v / 65536);\n          t11 = v - c * 65536;\n          v = t12 + c + 65535;\n          c = Math.floor(v / 65536);\n          t12 = v - c * 65536;\n          v = t13 + c + 65535;\n          c = Math.floor(v / 65536);\n          t13 = v - c * 65536;\n          v = t14 + c + 65535;\n          c = Math.floor(v / 65536);\n          t14 = v - c * 65536;\n          v = t15 + c + 65535;\n          c = Math.floor(v / 65536);\n          t15 = v - c * 65536;\n          t0 += c - 1 + 37 * (c - 1); // second car\n\n          c = 1;\n          v = t0 + c + 65535;\n          c = Math.floor(v / 65536);\n          t0 = v - c * 65536;\n          v = t1 + c + 65535;\n          c = Math.floor(v / 65536);\n          t1 = v - c * 65536;\n          v = t2 + c + 65535;\n          c = Math.floor(v / 65536);\n          t2 = v - c * 65536;\n          v = t3 + c + 65535;\n          c = Math.floor(v / 65536);\n          t3 = v - c * 65536;\n          v = t4 + c + 65535;\n          c = Math.floor(v / 65536);\n          t4 = v - c * 65536;\n          v = t5 + c + 65535;\n          c = Math.floor(v / 65536);\n          t5 = v - c * 65536;\n          v = t6 + c + 65535;\n          c = Math.floor(v / 65536);\n          t6 = v - c * 65536;\n          v = t7 + c + 65535;\n          c = Math.floor(v / 65536);\n          t7 = v - c * 65536;\n          v = t8 + c + 65535;\n          c = Math.floor(v / 65536);\n          t8 = v - c * 65536;\n          v = t9 + c + 65535;\n          c = Math.floor(v / 65536);\n          t9 = v - c * 65536;\n          v = t10 + c + 65535;\n          c = Math.floor(v / 65536);\n          t10 = v - c * 65536;\n          v = t11 + c + 65535;\n          c = Math.floor(v / 65536);\n          t11 = v - c * 65536;\n          v = t12 + c + 65535;\n          c = Math.floor(v / 65536);\n          t12 = v - c * 65536;\n          v = t13 + c + 65535;\n          c = Math.floor(v / 65536);\n          t13 = v - c * 65536;\n          v = t14 + c + 65535;\n          c = Math.floor(v / 65536);\n          t14 = v - c * 65536;\n          v = t15 + c + 65535;\n          c = Math.floor(v / 65536);\n          t15 = v - c * 65536;\n          t0 += c - 1 + 37 * (c - 1);\n          o[0] = t0;\n          o[1] = t1;\n          o[2] = t2;\n          o[3] = t3;\n          o[4] = t4;\n          o[5] = t5;\n          o[6] = t6;\n          o[7] = t7;\n          o[8] = t8;\n          o[9] = t9;\n          o[10] = t10;\n          o[11] = t11;\n          o[12] = t12;\n          o[13] = t13;\n          o[14] = t14;\n          o[15] = t15;\n        }\n\n        function S(o, a) {\n          M(o, a, a);\n        }\n\n        function inv25519(o, i) {\n          var c = gf();\n          var a;\n\n          for (a = 0; a < 16; a++) {\n            c[a] = i[a];\n          }\n\n          for (a = 253; a >= 0; a--) {\n            S(c, c);\n            if (a !== 2 && a !== 4) M(c, c, i);\n          }\n\n          for (a = 0; a < 16; a++) {\n            o[a] = c[a];\n          }\n        }\n\n        function pow2523(o, i) {\n          var c = gf();\n          var a;\n\n          for (a = 0; a < 16; a++) {\n            c[a] = i[a];\n          }\n\n          for (a = 250; a >= 0; a--) {\n            S(c, c);\n            if (a !== 1) M(c, c, i);\n          }\n\n          for (a = 0; a < 16; a++) {\n            o[a] = c[a];\n          }\n        }\n\n        function crypto_scalarmult(q, n, p) {\n          var z = new Uint8Array(32);\n          var x = new Float64Array(80),\n              r,\n              i;\n          var a = gf(),\n              b = gf(),\n              c = gf(),\n              d = gf(),\n              e = gf(),\n              f = gf();\n\n          for (i = 0; i < 31; i++) {\n            z[i] = n[i];\n          }\n\n          z[31] = n[31] & 127 | 64;\n          z[0] &= 248;\n          unpack25519(x, p);\n\n          for (i = 0; i < 16; i++) {\n            b[i] = x[i];\n            d[i] = a[i] = c[i] = 0;\n          }\n\n          a[0] = d[0] = 1;\n\n          for (i = 254; i >= 0; --i) {\n            r = z[i >>> 3] >>> (i & 7) & 1;\n            sel25519(a, b, r);\n            sel25519(c, d, r);\n            A(e, a, c);\n            Z(a, a, c);\n            A(c, b, d);\n            Z(b, b, d);\n            S(d, e);\n            S(f, a);\n            M(a, c, a);\n            M(c, b, e);\n            A(e, a, c);\n            Z(a, a, c);\n            S(b, a);\n            Z(c, d, f);\n            M(a, c, _121665);\n            A(a, a, d);\n            M(c, c, a);\n            M(a, d, f);\n            M(d, b, x);\n            S(b, e);\n            sel25519(a, b, r);\n            sel25519(c, d, r);\n          }\n\n          for (i = 0; i < 16; i++) {\n            x[i + 16] = a[i];\n            x[i + 32] = c[i];\n            x[i + 48] = b[i];\n            x[i + 64] = d[i];\n          }\n\n          var x32 = x.subarray(32);\n          var x16 = x.subarray(16);\n          inv25519(x32, x32);\n          M(x16, x16, x32);\n          pack25519(q, x16);\n          return 0;\n        }\n\n        function crypto_scalarmult_base(q, n) {\n          return crypto_scalarmult(q, n, _9);\n        }\n\n        function crypto_box_keypair(y, x) {\n          randombytes(x, 32);\n          return crypto_scalarmult_base(y, x);\n        }\n\n        function crypto_box_beforenm(k, y, x) {\n          var s = new Uint8Array(32);\n          crypto_scalarmult(s, x, y);\n          return crypto_core_hsalsa20(k, _0, s, sigma);\n        }\n\n        var crypto_box_afternm = crypto_secretbox;\n        var crypto_box_open_afternm = crypto_secretbox_open;\n\n        function crypto_box(c, m, d, n, y, x) {\n          var k = new Uint8Array(32);\n          crypto_box_beforenm(k, y, x);\n          return crypto_box_afternm(c, m, d, n, k);\n        }\n\n        function crypto_box_open(m, c, d, n, y, x) {\n          var k = new Uint8Array(32);\n          crypto_box_beforenm(k, y, x);\n          return crypto_box_open_afternm(m, c, d, n, k);\n        }\n\n        var K = [0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd, 0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc, 0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019, 0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118, 0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe, 0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2, 0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1, 0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694, 0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3, 0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65, 0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483, 0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5, 0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210, 0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4, 0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725, 0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70, 0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926, 0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df, 0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8, 0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b, 0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001, 0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30, 0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910, 0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8, 0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53, 0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8, 0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb, 0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3, 0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60, 0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec, 0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9, 0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b, 0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207, 0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178, 0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6, 0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b, 0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493, 0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c, 0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a, 0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817];\n\n        function crypto_hashblocks_hl(hh, hl, m, n) {\n          var wh = new Int32Array(16),\n              wl = new Int32Array(16),\n              bh0,\n              bh1,\n              bh2,\n              bh3,\n              bh4,\n              bh5,\n              bh6,\n              bh7,\n              bl0,\n              bl1,\n              bl2,\n              bl3,\n              bl4,\n              bl5,\n              bl6,\n              bl7,\n              th,\n              tl,\n              i,\n              j,\n              h,\n              l,\n              a,\n              b,\n              c,\n              d;\n          var ah0 = hh[0],\n              ah1 = hh[1],\n              ah2 = hh[2],\n              ah3 = hh[3],\n              ah4 = hh[4],\n              ah5 = hh[5],\n              ah6 = hh[6],\n              ah7 = hh[7],\n              al0 = hl[0],\n              al1 = hl[1],\n              al2 = hl[2],\n              al3 = hl[3],\n              al4 = hl[4],\n              al5 = hl[5],\n              al6 = hl[6],\n              al7 = hl[7];\n          var pos = 0;\n\n          while (n >= 128) {\n            for (i = 0; i < 16; i++) {\n              j = 8 * i + pos;\n              wh[i] = m[j + 0] << 24 | m[j + 1] << 16 | m[j + 2] << 8 | m[j + 3];\n              wl[i] = m[j + 4] << 24 | m[j + 5] << 16 | m[j + 6] << 8 | m[j + 7];\n            }\n\n            for (i = 0; i < 80; i++) {\n              bh0 = ah0;\n              bh1 = ah1;\n              bh2 = ah2;\n              bh3 = ah3;\n              bh4 = ah4;\n              bh5 = ah5;\n              bh6 = ah6;\n              bh7 = ah7;\n              bl0 = al0;\n              bl1 = al1;\n              bl2 = al2;\n              bl3 = al3;\n              bl4 = al4;\n              bl5 = al5;\n              bl6 = al6;\n              bl7 = al7; // add\n\n              h = ah7;\n              l = al7;\n              a = l & 0xffff;\n              b = l >>> 16;\n              c = h & 0xffff;\n              d = h >>> 16; // Sigma1\n\n              h = (ah4 >>> 14 | al4 << 32 - 14) ^ (ah4 >>> 18 | al4 << 32 - 18) ^ (al4 >>> 41 - 32 | ah4 << 32 - (41 - 32));\n              l = (al4 >>> 14 | ah4 << 32 - 14) ^ (al4 >>> 18 | ah4 << 32 - 18) ^ (ah4 >>> 41 - 32 | al4 << 32 - (41 - 32));\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16; // Ch\n\n              h = ah4 & ah5 ^ ~ah4 & ah6;\n              l = al4 & al5 ^ ~al4 & al6;\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16; // K\n\n              h = K[i * 2];\n              l = K[i * 2 + 1];\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16; // w\n\n              h = wh[i % 16];\n              l = wl[i % 16];\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16;\n              b += a >>> 16;\n              c += b >>> 16;\n              d += c >>> 16;\n              th = c & 0xffff | d << 16;\n              tl = a & 0xffff | b << 16; // add\n\n              h = th;\n              l = tl;\n              a = l & 0xffff;\n              b = l >>> 16;\n              c = h & 0xffff;\n              d = h >>> 16; // Sigma0\n\n              h = (ah0 >>> 28 | al0 << 32 - 28) ^ (al0 >>> 34 - 32 | ah0 << 32 - (34 - 32)) ^ (al0 >>> 39 - 32 | ah0 << 32 - (39 - 32));\n              l = (al0 >>> 28 | ah0 << 32 - 28) ^ (ah0 >>> 34 - 32 | al0 << 32 - (34 - 32)) ^ (ah0 >>> 39 - 32 | al0 << 32 - (39 - 32));\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16; // Maj\n\n              h = ah0 & ah1 ^ ah0 & ah2 ^ ah1 & ah2;\n              l = al0 & al1 ^ al0 & al2 ^ al1 & al2;\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16;\n              b += a >>> 16;\n              c += b >>> 16;\n              d += c >>> 16;\n              bh7 = c & 0xffff | d << 16;\n              bl7 = a & 0xffff | b << 16; // add\n\n              h = bh3;\n              l = bl3;\n              a = l & 0xffff;\n              b = l >>> 16;\n              c = h & 0xffff;\n              d = h >>> 16;\n              h = th;\n              l = tl;\n              a += l & 0xffff;\n              b += l >>> 16;\n              c += h & 0xffff;\n              d += h >>> 16;\n              b += a >>> 16;\n              c += b >>> 16;\n              d += c >>> 16;\n              bh3 = c & 0xffff | d << 16;\n              bl3 = a & 0xffff | b << 16;\n              ah1 = bh0;\n              ah2 = bh1;\n              ah3 = bh2;\n              ah4 = bh3;\n              ah5 = bh4;\n              ah6 = bh5;\n              ah7 = bh6;\n              ah0 = bh7;\n              al1 = bl0;\n              al2 = bl1;\n              al3 = bl2;\n              al4 = bl3;\n              al5 = bl4;\n              al6 = bl5;\n              al7 = bl6;\n              al0 = bl7;\n\n              if (i % 16 === 15) {\n                for (j = 0; j < 16; j++) {\n                  // add\n                  h = wh[j];\n                  l = wl[j];\n                  a = l & 0xffff;\n                  b = l >>> 16;\n                  c = h & 0xffff;\n                  d = h >>> 16;\n                  h = wh[(j + 9) % 16];\n                  l = wl[(j + 9) % 16];\n                  a += l & 0xffff;\n                  b += l >>> 16;\n                  c += h & 0xffff;\n                  d += h >>> 16; // sigma0\n\n                  th = wh[(j + 1) % 16];\n                  tl = wl[(j + 1) % 16];\n                  h = (th >>> 1 | tl << 32 - 1) ^ (th >>> 8 | tl << 32 - 8) ^ th >>> 7;\n                  l = (tl >>> 1 | th << 32 - 1) ^ (tl >>> 8 | th << 32 - 8) ^ (tl >>> 7 | th << 32 - 7);\n                  a += l & 0xffff;\n                  b += l >>> 16;\n                  c += h & 0xffff;\n                  d += h >>> 16; // sigma1\n\n                  th = wh[(j + 14) % 16];\n                  tl = wl[(j + 14) % 16];\n                  h = (th >>> 19 | tl << 32 - 19) ^ (tl >>> 61 - 32 | th << 32 - (61 - 32)) ^ th >>> 6;\n                  l = (tl >>> 19 | th << 32 - 19) ^ (th >>> 61 - 32 | tl << 32 - (61 - 32)) ^ (tl >>> 6 | th << 32 - 6);\n                  a += l & 0xffff;\n                  b += l >>> 16;\n                  c += h & 0xffff;\n                  d += h >>> 16;\n                  b += a >>> 16;\n                  c += b >>> 16;\n                  d += c >>> 16;\n                  wh[j] = c & 0xffff | d << 16;\n                  wl[j] = a & 0xffff | b << 16;\n                }\n              }\n            } // add\n\n\n            h = ah0;\n            l = al0;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[0];\n            l = hl[0];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[0] = ah0 = c & 0xffff | d << 16;\n            hl[0] = al0 = a & 0xffff | b << 16;\n            h = ah1;\n            l = al1;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[1];\n            l = hl[1];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[1] = ah1 = c & 0xffff | d << 16;\n            hl[1] = al1 = a & 0xffff | b << 16;\n            h = ah2;\n            l = al2;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[2];\n            l = hl[2];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[2] = ah2 = c & 0xffff | d << 16;\n            hl[2] = al2 = a & 0xffff | b << 16;\n            h = ah3;\n            l = al3;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[3];\n            l = hl[3];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[3] = ah3 = c & 0xffff | d << 16;\n            hl[3] = al3 = a & 0xffff | b << 16;\n            h = ah4;\n            l = al4;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[4];\n            l = hl[4];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[4] = ah4 = c & 0xffff | d << 16;\n            hl[4] = al4 = a & 0xffff | b << 16;\n            h = ah5;\n            l = al5;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[5];\n            l = hl[5];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[5] = ah5 = c & 0xffff | d << 16;\n            hl[5] = al5 = a & 0xffff | b << 16;\n            h = ah6;\n            l = al6;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[6];\n            l = hl[6];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[6] = ah6 = c & 0xffff | d << 16;\n            hl[6] = al6 = a & 0xffff | b << 16;\n            h = ah7;\n            l = al7;\n            a = l & 0xffff;\n            b = l >>> 16;\n            c = h & 0xffff;\n            d = h >>> 16;\n            h = hh[7];\n            l = hl[7];\n            a += l & 0xffff;\n            b += l >>> 16;\n            c += h & 0xffff;\n            d += h >>> 16;\n            b += a >>> 16;\n            c += b >>> 16;\n            d += c >>> 16;\n            hh[7] = ah7 = c & 0xffff | d << 16;\n            hl[7] = al7 = a & 0xffff | b << 16;\n            pos += 128;\n            n -= 128;\n          }\n\n          return n;\n        }\n\n        function crypto_hash(out, m, n) {\n          var hh = new Int32Array(8),\n              hl = new Int32Array(8),\n              x = new Uint8Array(256),\n              i,\n              b = n;\n          hh[0] = 0x6a09e667;\n          hh[1] = 0xbb67ae85;\n          hh[2] = 0x3c6ef372;\n          hh[3] = 0xa54ff53a;\n          hh[4] = 0x510e527f;\n          hh[5] = 0x9b05688c;\n          hh[6] = 0x1f83d9ab;\n          hh[7] = 0x5be0cd19;\n          hl[0] = 0xf3bcc908;\n          hl[1] = 0x84caa73b;\n          hl[2] = 0xfe94f82b;\n          hl[3] = 0x5f1d36f1;\n          hl[4] = 0xade682d1;\n          hl[5] = 0x2b3e6c1f;\n          hl[6] = 0xfb41bd6b;\n          hl[7] = 0x137e2179;\n          crypto_hashblocks_hl(hh, hl, m, n);\n          n %= 128;\n\n          for (i = 0; i < n; i++) {\n            x[i] = m[b - n + i];\n          }\n\n          x[n] = 128;\n          n = 256 - 128 * (n < 112 ? 1 : 0);\n          x[n - 9] = 0;\n          ts64(x, n - 8, b / 0x20000000 | 0, b << 3);\n          crypto_hashblocks_hl(hh, hl, x, n);\n\n          for (i = 0; i < 8; i++) {\n            ts64(out, 8 * i, hh[i], hl[i]);\n          }\n\n          return 0;\n        }\n\n        function add(p, q) {\n          var a = gf(),\n              b = gf(),\n              c = gf(),\n              d = gf(),\n              e = gf(),\n              f = gf(),\n              g = gf(),\n              h = gf(),\n              t = gf();\n          Z(a, p[1], p[0]);\n          Z(t, q[1], q[0]);\n          M(a, a, t);\n          A(b, p[0], p[1]);\n          A(t, q[0], q[1]);\n          M(b, b, t);\n          M(c, p[3], q[3]);\n          M(c, c, D2);\n          M(d, p[2], q[2]);\n          A(d, d, d);\n          Z(e, b, a);\n          Z(f, d, c);\n          A(g, d, c);\n          A(h, b, a);\n          M(p[0], e, f);\n          M(p[1], h, g);\n          M(p[2], g, f);\n          M(p[3], e, h);\n        }\n\n        function cswap(p, q, b) {\n          var i;\n\n          for (i = 0; i < 4; i++) {\n            sel25519(p[i], q[i], b);\n          }\n        }\n\n        function pack(r, p) {\n          var tx = gf(),\n              ty = gf(),\n              zi = gf();\n          inv25519(zi, p[2]);\n          M(tx, p[0], zi);\n          M(ty, p[1], zi);\n          pack25519(r, ty);\n          r[31] ^= par25519(tx) << 7;\n        }\n\n        function scalarmult(p, q, s) {\n          var b, i;\n          set25519(p[0], gf0);\n          set25519(p[1], gf1);\n          set25519(p[2], gf1);\n          set25519(p[3], gf0);\n\n          for (i = 255; i >= 0; --i) {\n            b = s[i / 8 | 0] >> (i & 7) & 1;\n            cswap(p, q, b);\n            add(q, p);\n            add(p, p);\n            cswap(p, q, b);\n          }\n        }\n\n        function scalarbase(p, s) {\n          var q = [gf(), gf(), gf(), gf()];\n          set25519(q[0], X);\n          set25519(q[1], Y);\n          set25519(q[2], gf1);\n          M(q[3], X, Y);\n          scalarmult(p, q, s);\n        }\n\n        function crypto_sign_keypair(pk, sk, seeded) {\n          var d = new Uint8Array(64);\n          var p = [gf(), gf(), gf(), gf()];\n          var i;\n          if (!seeded) randombytes(sk, 32);\n          crypto_hash(d, sk, 32);\n          d[0] &= 248;\n          d[31] &= 127;\n          d[31] |= 64;\n          scalarbase(p, d);\n          pack(pk, p);\n\n          for (i = 0; i < 32; i++) {\n            sk[i + 32] = pk[i];\n          }\n\n          return 0;\n        }\n\n        var L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\n        function modL(r, x) {\n          var carry, i, j, k;\n\n          for (i = 63; i >= 32; --i) {\n            carry = 0;\n\n            for (j = i - 32, k = i - 12; j < k; ++j) {\n              x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n              carry = x[j] + 128 >> 8;\n              x[j] -= carry * 256;\n            }\n\n            x[j] += carry;\n            x[i] = 0;\n          }\n\n          carry = 0;\n\n          for (j = 0; j < 32; j++) {\n            x[j] += carry - (x[31] >> 4) * L[j];\n            carry = x[j] >> 8;\n            x[j] &= 255;\n          }\n\n          for (j = 0; j < 32; j++) {\n            x[j] -= carry * L[j];\n          }\n\n          for (i = 0; i < 32; i++) {\n            x[i + 1] += x[i] >> 8;\n            r[i] = x[i] & 255;\n          }\n        }\n\n        function reduce(r) {\n          var x = new Float64Array(64),\n              i;\n\n          for (i = 0; i < 64; i++) {\n            x[i] = r[i];\n          }\n\n          for (i = 0; i < 64; i++) {\n            r[i] = 0;\n          }\n\n          modL(r, x);\n        } // Note: difference from C - smlen returned, not passed as argument.\n\n\n        function crypto_sign(sm, m, n, sk) {\n          var d = new Uint8Array(64),\n              h = new Uint8Array(64),\n              r = new Uint8Array(64);\n          var i,\n              j,\n              x = new Float64Array(64);\n          var p = [gf(), gf(), gf(), gf()];\n          crypto_hash(d, sk, 32);\n          d[0] &= 248;\n          d[31] &= 127;\n          d[31] |= 64;\n          var smlen = n + 64;\n\n          for (i = 0; i < n; i++) {\n            sm[64 + i] = m[i];\n          }\n\n          for (i = 0; i < 32; i++) {\n            sm[32 + i] = d[32 + i];\n          }\n\n          crypto_hash(r, sm.subarray(32), n + 32);\n          reduce(r);\n          scalarbase(p, r);\n          pack(sm, p);\n\n          for (i = 32; i < 64; i++) {\n            sm[i] = sk[i];\n          }\n\n          crypto_hash(h, sm, n + 64);\n          reduce(h);\n\n          for (i = 0; i < 64; i++) {\n            x[i] = 0;\n          }\n\n          for (i = 0; i < 32; i++) {\n            x[i] = r[i];\n          }\n\n          for (i = 0; i < 32; i++) {\n            for (j = 0; j < 32; j++) {\n              x[i + j] += h[i] * d[j];\n            }\n          }\n\n          modL(sm.subarray(32), x);\n          return smlen;\n        }\n\n        function unpackneg(r, p) {\n          var t = gf(),\n              chk = gf(),\n              num = gf(),\n              den = gf(),\n              den2 = gf(),\n              den4 = gf(),\n              den6 = gf();\n          set25519(r[2], gf1);\n          unpack25519(r[1], p);\n          S(num, r[1]);\n          M(den, num, D);\n          Z(num, num, r[2]);\n          A(den, r[2], den);\n          S(den2, den);\n          S(den4, den2);\n          M(den6, den4, den2);\n          M(t, den6, num);\n          M(t, t, den);\n          pow2523(t, t);\n          M(t, t, num);\n          M(t, t, den);\n          M(t, t, den);\n          M(r[0], t, den);\n          S(chk, r[0]);\n          M(chk, chk, den);\n          if (neq25519(chk, num)) M(r[0], r[0], I);\n          S(chk, r[0]);\n          M(chk, chk, den);\n          if (neq25519(chk, num)) return -1;\n          if (par25519(r[0]) === p[31] >> 7) Z(r[0], gf0, r[0]);\n          M(r[3], r[0], r[1]);\n          return 0;\n        }\n\n        function crypto_sign_open(m, sm, n, pk) {\n          var i;\n          var t = new Uint8Array(32),\n              h = new Uint8Array(64);\n          var p = [gf(), gf(), gf(), gf()],\n              q = [gf(), gf(), gf(), gf()];\n          if (n < 64) return -1;\n          if (unpackneg(q, pk)) return -1;\n\n          for (i = 0; i < n; i++) {\n            m[i] = sm[i];\n          }\n\n          for (i = 0; i < 32; i++) {\n            m[i + 32] = pk[i];\n          }\n\n          crypto_hash(h, m, n);\n          reduce(h);\n          scalarmult(p, q, h);\n          scalarbase(q, sm.subarray(32));\n          add(p, q);\n          pack(t, p);\n          n -= 64;\n\n          if (crypto_verify_32(sm, 0, t, 0)) {\n            for (i = 0; i < n; i++) {\n              m[i] = 0;\n            }\n\n            return -1;\n          }\n\n          for (i = 0; i < n; i++) {\n            m[i] = sm[i + 64];\n          }\n\n          return n;\n        }\n\n        var crypto_secretbox_KEYBYTES = 32,\n            crypto_secretbox_NONCEBYTES = 24,\n            crypto_secretbox_ZEROBYTES = 32,\n            crypto_secretbox_BOXZEROBYTES = 16,\n            crypto_scalarmult_BYTES = 32,\n            crypto_scalarmult_SCALARBYTES = 32,\n            crypto_box_PUBLICKEYBYTES = 32,\n            crypto_box_SECRETKEYBYTES = 32,\n            crypto_box_BEFORENMBYTES = 32,\n            crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n            crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n            crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n            crypto_sign_BYTES = 64,\n            crypto_sign_PUBLICKEYBYTES = 32,\n            crypto_sign_SECRETKEYBYTES = 64,\n            crypto_sign_SEEDBYTES = 32,\n            crypto_hash_BYTES = 64;\n        nacl.lowlevel = {\n          crypto_core_hsalsa20: crypto_core_hsalsa20,\n          crypto_stream_xor: crypto_stream_xor,\n          crypto_stream: crypto_stream,\n          crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n          crypto_stream_salsa20: crypto_stream_salsa20,\n          crypto_onetimeauth: crypto_onetimeauth,\n          crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n          crypto_verify_16: crypto_verify_16,\n          crypto_verify_32: crypto_verify_32,\n          crypto_secretbox: crypto_secretbox,\n          crypto_secretbox_open: crypto_secretbox_open,\n          crypto_scalarmult: crypto_scalarmult,\n          crypto_scalarmult_base: crypto_scalarmult_base,\n          crypto_box_beforenm: crypto_box_beforenm,\n          crypto_box_afternm: crypto_box_afternm,\n          crypto_box: crypto_box,\n          crypto_box_open: crypto_box_open,\n          crypto_box_keypair: crypto_box_keypair,\n          crypto_hash: crypto_hash,\n          crypto_sign: crypto_sign,\n          crypto_sign_keypair: crypto_sign_keypair,\n          crypto_sign_open: crypto_sign_open,\n          crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n          crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n          crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n          crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n          crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n          crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n          crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n          crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n          crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n          crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n          crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n          crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n          crypto_sign_BYTES: crypto_sign_BYTES,\n          crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n          crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n          crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n          crypto_hash_BYTES: crypto_hash_BYTES,\n          gf: gf,\n          D: D,\n          L: L,\n          pack25519: pack25519,\n          unpack25519: unpack25519,\n          M: M,\n          A: A,\n          S: S,\n          Z: Z,\n          pow2523: pow2523,\n          add: add,\n          set25519: set25519,\n          modL: modL,\n          scalarmult: scalarmult,\n          scalarbase: scalarbase\n        };\n        /* High-level API */\n\n        function checkLengths(k, n) {\n          if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n          if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n        }\n\n        function checkBoxLengths(pk, sk) {\n          if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n          if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n        }\n\n        function checkArrayTypes() {\n          for (var i = 0; i < arguments.length; i++) {\n            if (!(arguments[i] instanceof Uint8Array)) throw new TypeError('unexpected type, use Uint8Array');\n          }\n        }\n\n        function cleanup(arr) {\n          for (var i = 0; i < arr.length; i++) {\n            arr[i] = 0;\n          }\n        }\n\n        nacl.randomBytes = function (n) {\n          var b = new Uint8Array(n);\n          randombytes(b, n);\n          return b;\n        };\n\n        nacl.secretbox = function (msg, nonce, key) {\n          checkArrayTypes(msg, nonce, key);\n          checkLengths(key, nonce);\n          var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n          var c = new Uint8Array(m.length);\n\n          for (var i = 0; i < msg.length; i++) {\n            m[i + crypto_secretbox_ZEROBYTES] = msg[i];\n          }\n\n          crypto_secretbox(c, m, m.length, nonce, key);\n          return c.subarray(crypto_secretbox_BOXZEROBYTES);\n        };\n\n        nacl.secretbox.open = function (box, nonce, key) {\n          checkArrayTypes(box, nonce, key);\n          checkLengths(key, nonce);\n          var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n          var m = new Uint8Array(c.length);\n\n          for (var i = 0; i < box.length; i++) {\n            c[i + crypto_secretbox_BOXZEROBYTES] = box[i];\n          }\n\n          if (c.length < 32) return null;\n          if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n          return m.subarray(crypto_secretbox_ZEROBYTES);\n        };\n\n        nacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\n        nacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\n        nacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\n        nacl.scalarMult = function (n, p) {\n          checkArrayTypes(n, p);\n          if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n          if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n          var q = new Uint8Array(crypto_scalarmult_BYTES);\n          crypto_scalarmult(q, n, p);\n          return q;\n        };\n\n        nacl.scalarMult.base = function (n) {\n          checkArrayTypes(n);\n          if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n          var q = new Uint8Array(crypto_scalarmult_BYTES);\n          crypto_scalarmult_base(q, n);\n          return q;\n        };\n\n        nacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\n        nacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\n        nacl.box = function (msg, nonce, publicKey, secretKey) {\n          var k = nacl.box.before(publicKey, secretKey);\n          return nacl.secretbox(msg, nonce, k);\n        };\n\n        nacl.box.before = function (publicKey, secretKey) {\n          checkArrayTypes(publicKey, secretKey);\n          checkBoxLengths(publicKey, secretKey);\n          var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n          crypto_box_beforenm(k, publicKey, secretKey);\n          return k;\n        };\n\n        nacl.box.after = nacl.secretbox;\n\n        nacl.box.open = function (msg, nonce, publicKey, secretKey) {\n          var k = nacl.box.before(publicKey, secretKey);\n          return nacl.secretbox.open(msg, nonce, k);\n        };\n\n        nacl.box.open.after = nacl.secretbox.open;\n\n        nacl.box.keyPair = function () {\n          var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n          var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n          crypto_box_keypair(pk, sk);\n          return {\n            publicKey: pk,\n            secretKey: sk\n          };\n        };\n\n        nacl.box.keyPair.fromSecretKey = function (secretKey) {\n          checkArrayTypes(secretKey);\n          if (secretKey.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n          var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n          crypto_scalarmult_base(pk, secretKey);\n          return {\n            publicKey: pk,\n            secretKey: new Uint8Array(secretKey)\n          };\n        };\n\n        nacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\n        nacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\n        nacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\n        nacl.box.nonceLength = crypto_box_NONCEBYTES;\n        nacl.box.overheadLength = nacl.secretbox.overheadLength;\n\n        nacl.sign = function (msg, secretKey) {\n          checkArrayTypes(msg, secretKey);\n          if (secretKey.length !== crypto_sign_SECRETKEYBYTES) throw new Error('bad secret key size');\n          var signedMsg = new Uint8Array(crypto_sign_BYTES + msg.length);\n          crypto_sign(signedMsg, msg, msg.length, secretKey);\n          return signedMsg;\n        };\n\n        nacl.sign.open = function (signedMsg, publicKey) {\n          checkArrayTypes(signedMsg, publicKey);\n          if (publicKey.length !== crypto_sign_PUBLICKEYBYTES) throw new Error('bad public key size');\n          var tmp = new Uint8Array(signedMsg.length);\n          var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n          if (mlen < 0) return null;\n          var m = new Uint8Array(mlen);\n\n          for (var i = 0; i < m.length; i++) {\n            m[i] = tmp[i];\n          }\n\n          return m;\n        };\n\n        nacl.sign.detached = function (msg, secretKey) {\n          var signedMsg = nacl.sign(msg, secretKey);\n          var sig = new Uint8Array(crypto_sign_BYTES);\n\n          for (var i = 0; i < sig.length; i++) {\n            sig[i] = signedMsg[i];\n          }\n\n          return sig;\n        };\n\n        nacl.sign.detached.verify = function (msg, sig, publicKey) {\n          checkArrayTypes(msg, sig, publicKey);\n          if (sig.length !== crypto_sign_BYTES) throw new Error('bad signature size');\n          if (publicKey.length !== crypto_sign_PUBLICKEYBYTES) throw new Error('bad public key size');\n          var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n          var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n          var i;\n\n          for (i = 0; i < crypto_sign_BYTES; i++) {\n            sm[i] = sig[i];\n          }\n\n          for (i = 0; i < msg.length; i++) {\n            sm[i + crypto_sign_BYTES] = msg[i];\n          }\n\n          return crypto_sign_open(m, sm, sm.length, publicKey) >= 0;\n        };\n\n        nacl.sign.keyPair = function () {\n          var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n          var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n          crypto_sign_keypair(pk, sk);\n          return {\n            publicKey: pk,\n            secretKey: sk\n          };\n        };\n\n        nacl.sign.keyPair.fromSecretKey = function (secretKey) {\n          checkArrayTypes(secretKey);\n          if (secretKey.length !== crypto_sign_SECRETKEYBYTES) throw new Error('bad secret key size');\n          var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n\n          for (var i = 0; i < pk.length; i++) {\n            pk[i] = secretKey[32 + i];\n          }\n\n          return {\n            publicKey: pk,\n            secretKey: new Uint8Array(secretKey)\n          };\n        };\n\n        nacl.sign.keyPair.fromSeed = function (seed) {\n          checkArrayTypes(seed);\n          if (seed.length !== crypto_sign_SEEDBYTES) throw new Error('bad seed size');\n          var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n          var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n\n          for (var i = 0; i < 32; i++) {\n            sk[i] = seed[i];\n          }\n\n          crypto_sign_keypair(pk, sk, true);\n          return {\n            publicKey: pk,\n            secretKey: sk\n          };\n        };\n\n        nacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\n        nacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\n        nacl.sign.seedLength = crypto_sign_SEEDBYTES;\n        nacl.sign.signatureLength = crypto_sign_BYTES;\n\n        nacl.hash = function (msg) {\n          checkArrayTypes(msg);\n          var h = new Uint8Array(crypto_hash_BYTES);\n          crypto_hash(h, msg, msg.length);\n          return h;\n        };\n\n        nacl.hash.hashLength = crypto_hash_BYTES;\n\n        nacl.verify = function (x, y) {\n          checkArrayTypes(x, y); // Zero length arguments are considered not equal.\n\n          if (x.length === 0 || y.length === 0) return false;\n          if (x.length !== y.length) return false;\n          return vn(x, 0, y, 0, x.length) === 0 ? true : false;\n        };\n\n        nacl.setPRNG = function (fn) {\n          randombytes = fn;\n        };\n\n        (function () {\n          // Initialize PRNG if environment provides CSPRNG.\n          // If not, methods calling randombytes will throw.\n          var crypto = typeof self !== 'undefined' ? self.crypto || self.msCrypto : null;\n\n          if (crypto && crypto.getRandomValues) {\n            // Browsers.\n            var QUOTA = 65536;\n            nacl.setPRNG(function (x, n) {\n              var i,\n                  v = new Uint8Array(n);\n\n              for (i = 0; i < n; i += QUOTA) {\n                crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n              }\n\n              for (i = 0; i < n; i++) {\n                x[i] = v[i];\n              }\n\n              cleanup(v);\n            });\n          } else if (true) {\n            // Node.js.\n            crypto = __webpack_require__(3);\n\n            if (crypto && crypto.randomBytes) {\n              nacl.setPRNG(function (x, n) {\n                var i,\n                    v = crypto.randomBytes(n);\n\n                for (i = 0; i < n; i++) {\n                  x[i] = v[i];\n                }\n\n                cleanup(v);\n              });\n            }\n          }\n        })();\n      })(true && module.exports ? module.exports : self.nacl = self.nacl || {});\n      /***/\n\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      // Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n      // Public domain.\n      (function (root, f) {\n        'use strict';\n\n        if (true && module.exports) module.exports = f();else if (root.nacl) root.nacl.util = f();else {\n          root.nacl = {};\n          root.nacl.util = f();\n        }\n      })(this, function () {\n        'use strict';\n\n        var util = {};\n\n        function validateBase64(s) {\n          if (!/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s)) {\n            throw new TypeError('invalid encoding');\n          }\n        }\n\n        util.decodeUTF8 = function (s) {\n          if (typeof s !== 'string') throw new TypeError('expected string');\n          var i,\n              d = unescape(encodeURIComponent(s)),\n              b = new Uint8Array(d.length);\n\n          for (i = 0; i < d.length; i++) {\n            b[i] = d.charCodeAt(i);\n          }\n\n          return b;\n        };\n\n        util.encodeUTF8 = function (arr) {\n          var i,\n              s = [];\n\n          for (i = 0; i < arr.length; i++) {\n            s.push(String.fromCharCode(arr[i]));\n          }\n\n          return decodeURIComponent(escape(s.join('')));\n        };\n\n        if (typeof atob === 'undefined') {\n          // Node.js\n          if (typeof Buffer.from !== 'undefined') {\n            // Node v6 and later\n            util.encodeBase64 = function (arr) {\n              // v6 and later\n              return Buffer.from(arr).toString('base64');\n            };\n\n            util.decodeBase64 = function (s) {\n              validateBase64(s);\n              return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n            };\n          } else {\n            // Node earlier than v6\n            util.encodeBase64 = function (arr) {\n              // v6 and later\n              return new Buffer(arr).toString('base64');\n            };\n\n            util.decodeBase64 = function (s) {\n              validateBase64(s);\n              return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n            };\n          }\n        } else {\n          // Browsers\n          util.encodeBase64 = function (arr) {\n            var i,\n                s = [],\n                len = arr.length;\n\n            for (i = 0; i < len; i++) {\n              s.push(String.fromCharCode(arr[i]));\n            }\n\n            return btoa(s.join(''));\n          };\n\n          util.decodeBase64 = function (s) {\n            validateBase64(s);\n            var i,\n                d = atob(s),\n                b = new Uint8Array(d.length);\n\n            for (i = 0; i < d.length; i++) {\n              b[i] = d.charCodeAt(i);\n            }\n\n            return b;\n          };\n        }\n\n        return util;\n      });\n      /***/\n\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      // required so we don't have to do require('pusher').default etc.\n      module.exports = __webpack_require__(4).default;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports) {\n      /* (ignored) */\n\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, __webpack_exports__, __webpack_require__) {\n      \"use strict\";\n\n      __webpack_require__.r(__webpack_exports__); // CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\n\n\n      var ScriptReceiverFactory = function () {\n        function ScriptReceiverFactory(prefix, name) {\n          this.lastId = 0;\n          this.prefix = prefix;\n          this.name = name;\n        }\n\n        ScriptReceiverFactory.prototype.create = function (callback) {\n          this.lastId++;\n          var number = this.lastId;\n          var id = this.prefix + number;\n          var name = this.name + '[' + number + ']';\n          var called = false;\n\n          var callbackWrapper = function callbackWrapper() {\n            if (!called) {\n              callback.apply(null, arguments);\n              called = true;\n            }\n          };\n\n          this[number] = callbackWrapper;\n          return {\n            number: number,\n            id: id,\n            name: name,\n            callback: callbackWrapper\n          };\n        };\n\n        ScriptReceiverFactory.prototype.remove = function (receiver) {\n          delete this[receiver.number];\n        };\n\n        return ScriptReceiverFactory;\n      }();\n\n      var ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers'); // CONCATENATED MODULE: ./src/core/defaults.ts\n\n      var Defaults = {\n        VERSION: \"5.1.1\",\n        PROTOCOL: 7,\n        host: 'ws.pusherapp.com',\n        ws_port: 80,\n        wss_port: 443,\n        ws_path: '',\n        sockjs_host: 'sockjs.pusher.com',\n        sockjs_http_port: 80,\n        sockjs_https_port: 443,\n        sockjs_path: '/pusher',\n        stats_host: 'stats.pusher.com',\n        channel_auth_endpoint: '/pusher/auth',\n        channel_auth_transport: 'ajax',\n        activity_timeout: 120000,\n        pong_timeout: 30000,\n        unavailable_timeout: 10000,\n        cdn_http: \"http://js.pusher.com\",\n        cdn_https: \"https://js.pusher.com\",\n        dependency_suffix: \"\"\n      };\n      /* harmony default export */\n\n      var defaults = Defaults; // CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n      var dependency_loader_DependencyLoader = function () {\n        function DependencyLoader(options) {\n          this.options = options;\n          this.receivers = options.receivers || ScriptReceivers;\n          this.loading = {};\n        }\n\n        DependencyLoader.prototype.load = function (name, options, callback) {\n          var self = this;\n\n          if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n          } else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n              self.receivers.remove(receiver);\n\n              if (self.loading[name]) {\n                var callbacks = self.loading[name];\n                delete self.loading[name];\n\n                var successCallback = function successCallback(wasSuccessful) {\n                  if (!wasSuccessful) {\n                    request.cleanup();\n                  }\n                };\n\n                for (var i = 0; i < callbacks.length; i++) {\n                  callbacks[i](error, successCallback);\n                }\n              }\n            });\n            request.send(receiver);\n          }\n        };\n\n        DependencyLoader.prototype.getRoot = function (options) {\n          var cdn;\n          var protocol = runtime.getDocument().location.protocol;\n\n          if (options && options.useTLS || protocol === 'https:') {\n            cdn = this.options.cdn_https;\n          } else {\n            cdn = this.options.cdn_http;\n          }\n\n          return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n        };\n\n        DependencyLoader.prototype.getPath = function (name, options) {\n          return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n        };\n\n        return DependencyLoader;\n      }();\n      /* harmony default export */\n\n\n      var dependency_loader = dependency_loader_DependencyLoader; // CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n      var DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');\n      var Dependencies = new dependency_loader({\n        cdn_http: defaults.cdn_http,\n        cdn_https: defaults.cdn_https,\n        version: defaults.VERSION,\n        suffix: defaults.dependency_suffix,\n        receivers: DependenciesReceivers\n      }); // CONCATENATED MODULE: ./src/core/base64.ts\n\n      function encode(s) {\n        return btoa(utob(s));\n      }\n\n      var fromCharCode = String.fromCharCode;\n      var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n      var b64tab = {};\n\n      for (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n        b64tab[b64chars.charAt(base64_i)] = base64_i;\n      }\n\n      var cb_utob = function cb_utob(c) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c : cc < 0x800 ? fromCharCode(0xc0 | cc >>> 6) + fromCharCode(0x80 | cc & 0x3f) : fromCharCode(0xe0 | cc >>> 12 & 0x0f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);\n      };\n\n      var utob = function utob(u) {\n        return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n      };\n\n      var cb_encode = function cb_encode(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3];\n        var ord = ccc.charCodeAt(0) << 16 | (ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8 | (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n        var chars = [b64chars.charAt(ord >>> 18), b64chars.charAt(ord >>> 12 & 63), padlen >= 2 ? '=' : b64chars.charAt(ord >>> 6 & 63), padlen >= 1 ? '=' : b64chars.charAt(ord & 63)];\n        return chars.join('');\n      };\n\n      var btoa = window.btoa || function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n      }; // CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\n\n\n      var Timer = function () {\n        function Timer(set, clear, delay, callback) {\n          var _this = this;\n\n          this.clear = clear;\n          this.timer = set(function () {\n            if (_this.timer) {\n              _this.timer = callback(_this.timer);\n            }\n          }, delay);\n        }\n\n        Timer.prototype.isRunning = function () {\n          return this.timer !== null;\n        };\n\n        Timer.prototype.ensureAborted = function () {\n          if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n          }\n        };\n\n        return Timer;\n      }();\n      /* harmony default export */\n\n\n      var abstract_timer = Timer; // CONCATENATED MODULE: ./src/core/utils/timers/index.ts\n\n      var __extends = undefined && undefined.__extends || function () {\n        var _extendStatics = function extendStatics(d, b) {\n          _extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      function timers_clearTimeout(timer) {\n        window.clearTimeout(timer);\n      }\n\n      function timers_clearInterval(timer) {\n        window.clearInterval(timer);\n      }\n\n      var OneOffTimer = function (_super) {\n        __extends(OneOffTimer, _super);\n\n        function OneOffTimer(delay, callback) {\n          return _super.call(this, setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n          }) || this;\n        }\n\n        return OneOffTimer;\n      }(abstract_timer);\n\n      var PeriodicTimer = function (_super) {\n        __extends(PeriodicTimer, _super);\n\n        function PeriodicTimer(delay, callback) {\n          return _super.call(this, setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n          }) || this;\n        }\n\n        return PeriodicTimer;\n      }(abstract_timer); // CONCATENATED MODULE: ./src/core/util.ts\n\n\n      var Util = {\n        now: function now() {\n          if (Date.now) {\n            return Date.now();\n          } else {\n            return new Date().valueOf();\n          }\n        },\n        defer: function defer(callback) {\n          return new OneOffTimer(0, callback);\n        },\n        method: function method(name) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          var boundArguments = Array.prototype.slice.call(arguments, 1);\n          return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n          };\n        }\n      };\n      /* harmony default export */\n\n      var util = Util; // CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n      function extend(target) {\n        var sources = [];\n\n        for (var _i = 1; _i < arguments.length; _i++) {\n          sources[_i - 1] = arguments[_i];\n        }\n\n        for (var i = 0; i < sources.length; i++) {\n          var extensions = sources[i];\n\n          for (var property in extensions) {\n            if (extensions[property] && extensions[property].constructor && extensions[property].constructor === Object) {\n              target[property] = extend(target[property] || {}, extensions[property]);\n            } else {\n              target[property] = extensions[property];\n            }\n          }\n        }\n\n        return target;\n      }\n\n      function stringify() {\n        var m = ['Pusher'];\n\n        for (var i = 0; i < arguments.length; i++) {\n          if (typeof arguments[i] === 'string') {\n            m.push(arguments[i]);\n          } else {\n            m.push(safeJSONStringify(arguments[i]));\n          }\n        }\n\n        return m.join(' : ');\n      }\n\n      function arrayIndexOf(array, item) {\n        var nativeIndexOf = Array.prototype.indexOf;\n\n        if (array === null) {\n          return -1;\n        }\n\n        if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n          return array.indexOf(item);\n        }\n\n        for (var i = 0, l = array.length; i < l; i++) {\n          if (array[i] === item) {\n            return i;\n          }\n        }\n\n        return -1;\n      }\n\n      function objectApply(object, f) {\n        for (var key in object) {\n          if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n          }\n        }\n      }\n\n      function keys(object) {\n        var keys = [];\n        objectApply(object, function (_, key) {\n          keys.push(key);\n        });\n        return keys;\n      }\n\n      function values(object) {\n        var values = [];\n        objectApply(object, function (value) {\n          values.push(value);\n        });\n        return values;\n      }\n\n      function apply(array, f, context) {\n        for (var i = 0; i < array.length; i++) {\n          f.call(context || window, array[i], i, array);\n        }\n      }\n\n      function map(array, f) {\n        var result = [];\n\n        for (var i = 0; i < array.length; i++) {\n          result.push(f(array[i], i, array, result));\n        }\n\n        return result;\n      }\n\n      function mapObject(object, f) {\n        var result = {};\n        objectApply(object, function (value, key) {\n          result[key] = f(value);\n        });\n        return result;\n      }\n\n      function filter(array, test) {\n        test = test || function (value) {\n          return !!value;\n        };\n\n        var result = [];\n\n        for (var i = 0; i < array.length; i++) {\n          if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n          }\n        }\n\n        return result;\n      }\n\n      function filterObject(object, test) {\n        var result = {};\n        objectApply(object, function (value, key) {\n          if (test && test(value, key, object, result) || Boolean(value)) {\n            result[key] = value;\n          }\n        });\n        return result;\n      }\n\n      function flatten(object) {\n        var result = [];\n        objectApply(object, function (value, key) {\n          result.push([key, value]);\n        });\n        return result;\n      }\n\n      function any(array, test) {\n        for (var i = 0; i < array.length; i++) {\n          if (test(array[i], i, array)) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n\n      function collections_all(array, test) {\n        for (var i = 0; i < array.length; i++) {\n          if (!test(array[i], i, array)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      function encodeParamsObject(data) {\n        return mapObject(data, function (value) {\n          if (typeof value === 'object') {\n            value = safeJSONStringify(value);\n          }\n\n          return encodeURIComponent(encode(value.toString()));\n        });\n      }\n\n      function buildQueryString(data) {\n        var params = filterObject(data, function (value) {\n          return value !== undefined;\n        });\n        var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');\n        return query;\n      }\n\n      function decycleObject(object) {\n        var objects = [],\n            paths = [];\n        return function derez(value, path) {\n          var i, name, nu;\n\n          switch (typeof value) {\n            case 'object':\n              if (!value) {\n                return null;\n              }\n\n              for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                  return {\n                    $ref: paths[i]\n                  };\n                }\n              }\n\n              objects.push(value);\n              paths.push(path);\n\n              if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n\n                for (i = 0; i < value.length; i += 1) {\n                  nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n              } else {\n                nu = {};\n\n                for (name in value) {\n                  if (Object.prototype.hasOwnProperty.call(value, name)) {\n                    nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                  }\n                }\n              }\n\n              return nu;\n\n            case 'number':\n            case 'string':\n            case 'boolean':\n              return value;\n          }\n        }(object, '$');\n      }\n\n      function safeJSONStringify(source) {\n        try {\n          return JSON.stringify(source);\n        } catch (e) {\n          return JSON.stringify(decycleObject(source));\n        }\n      } // CONCATENATED MODULE: ./src/core/logger.ts\n\n\n      var logger_Logger = function () {\n        function Logger() {\n          this.globalLog = function (message) {\n            if (window.console && window.console.log) {\n              window.console.log(message);\n            }\n          };\n        }\n\n        Logger.prototype.debug = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          this.log(this.globalLog, args);\n        };\n\n        Logger.prototype.warn = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          this.log(this.globalLogWarn, args);\n        };\n\n        Logger.prototype.error = function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          this.log(this.globalLogError, args);\n        };\n\n        Logger.prototype.globalLogWarn = function (message) {\n          if (window.console && window.console.warn) {\n            window.console.warn(message);\n          } else {\n            this.globalLog(message);\n          }\n        };\n\n        Logger.prototype.globalLogError = function (message) {\n          if (window.console && window.console.error) {\n            window.console.error(message);\n          } else {\n            this.globalLogWarn(message);\n          }\n        };\n\n        Logger.prototype.log = function (defaultLoggingFunction) {\n          var args = [];\n\n          for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n          }\n\n          var message = stringify.apply(this, arguments);\n\n          if (core_pusher.log) {\n            core_pusher.log(message);\n          } else if (core_pusher.logToConsole) {\n            var log = defaultLoggingFunction.bind(this);\n            log(message);\n          }\n        };\n\n        return Logger;\n      }();\n      /* harmony default export */\n\n\n      var logger = new logger_Logger(); // CONCATENATED MODULE: ./src/core/utils/url_store.ts\n\n      var urlStore = {\n        baseUrl: 'https://pusher.com',\n        urls: {\n          authenticationEndpoint: {\n            path: '/docs/authenticating_users'\n          },\n          javascriptQuickStart: {\n            path: '/docs/javascript_quick_start'\n          },\n          triggeringClientEvents: {\n            path: '/docs/client_api_guide/client_events#trigger-events'\n          }\n        }\n      };\n\n      var buildLogSuffix = function buildLogSuffix(key) {\n        var urlPrefix = 'See:';\n        var urlObj = urlStore.urls[key];\n        if (!urlObj) return '';\n        var url;\n\n        if (urlObj.fullUrl) {\n          url = urlObj.fullUrl;\n        } else if (urlObj.path) {\n          url = urlStore.baseUrl + urlObj.path;\n        }\n\n        if (!url) return '';\n        return urlPrefix + \" \" + url;\n      };\n      /* harmony default export */\n\n\n      var url_store = {\n        buildLogSuffix: buildLogSuffix\n      }; // CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n      var ajax = function ajax(context, socketId, callback) {\n        var self = this,\n            xhr;\n        xhr = runtime.createXHR();\n        xhr.open('POST', self.options.authEndpoint, true);\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\n        for (var headerName in this.authOptions.headers) {\n          xhr.setRequestHeader(headerName, this.authOptions.headers[headerName]);\n        }\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n              var data,\n                  parsed = false;\n\n              try {\n                data = JSON.parse(xhr.responseText);\n                parsed = true;\n              } catch (e) {\n                callback(true, 'JSON returned from auth endpoint was invalid, yet status code was 200. Data was: ' + xhr.responseText);\n              }\n\n              if (parsed) {\n                callback(false, data);\n              }\n            } else {\n              var suffix = url_store.buildLogSuffix('authenticationEndpoint');\n              logger.error('Unable to retrieve auth string from auth endpoint - ' + (\"received status \" + xhr.status + \" from \" + self.options.authEndpoint + \". \") + (\"Clients must be authenticated to join private or presence channels. \" + suffix));\n              callback(true, xhr.status);\n            }\n          }\n        };\n\n        xhr.send(this.composeQuery(socketId));\n        return xhr;\n      };\n      /* harmony default export */\n\n\n      var xhr_auth = ajax; // CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\n      var jsonp = function jsonp(context, socketId, callback) {\n        if (this.authOptions.headers !== undefined) {\n          logger.warn('To send headers with the auth request, you must use AJAX, rather than JSONP.');\n        }\n\n        var callbackName = context.nextAuthCallbackID.toString();\n        context.nextAuthCallbackID++;\n        var document = context.getDocument();\n        var script = document.createElement('script');\n\n        context.auth_callbacks[callbackName] = function (data) {\n          callback(false, data);\n        };\n\n        var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n        script.src = this.options.authEndpoint + '?callback=' + encodeURIComponent(callback_name) + '&' + this.composeQuery(socketId);\n        var head = document.getElementsByTagName('head')[0] || document.documentElement;\n        head.insertBefore(script, head.firstChild);\n      };\n      /* harmony default export */\n\n\n      var jsonp_auth = jsonp; // CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\n\n      var ScriptRequest = function () {\n        function ScriptRequest(src) {\n          this.src = src;\n        }\n\n        ScriptRequest.prototype.send = function (receiver) {\n          var self = this;\n          var errorString = 'Error loading ' + self.src;\n          self.script = document.createElement('script');\n          self.script.id = receiver.id;\n          self.script.src = self.src;\n          self.script.type = 'text/javascript';\n          self.script.charset = 'UTF-8';\n\n          if (self.script.addEventListener) {\n            self.script.onerror = function () {\n              receiver.callback(errorString);\n            };\n\n            self.script.onload = function () {\n              receiver.callback(null);\n            };\n          } else {\n            self.script.onreadystatechange = function () {\n              if (self.script.readyState === 'loaded' || self.script.readyState === 'complete') {\n                receiver.callback(null);\n              }\n            };\n          }\n\n          if (self.script.async === undefined && document.attachEvent && /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement('script');\n            self.errorScript.id = receiver.id + '_error';\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n          } else {\n            self.script.async = true;\n          }\n\n          var head = document.getElementsByTagName('head')[0];\n          head.insertBefore(self.script, head.firstChild);\n\n          if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n          }\n        };\n\n        ScriptRequest.prototype.cleanup = function () {\n          if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n          }\n\n          if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n          }\n\n          if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n          }\n\n          this.script = null;\n          this.errorScript = null;\n        };\n\n        return ScriptRequest;\n      }();\n      /* harmony default export */\n\n\n      var script_request = ScriptRequest; // CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n      var jsonp_request_JSONPRequest = function () {\n        function JSONPRequest(url, data) {\n          this.url = url;\n          this.data = data;\n        }\n\n        JSONPRequest.prototype.send = function (receiver) {\n          if (this.request) {\n            return;\n          }\n\n          var query = buildQueryString(this.data);\n          var url = this.url + '/' + receiver.number + '?' + query;\n          this.request = runtime.createScriptRequest(url);\n          this.request.send(receiver);\n        };\n\n        JSONPRequest.prototype.cleanup = function () {\n          if (this.request) {\n            this.request.cleanup();\n          }\n        };\n\n        return JSONPRequest;\n      }();\n      /* harmony default export */\n\n\n      var jsonp_request = jsonp_request_JSONPRequest; // CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n      var getAgent = function getAgent(sender, useTLS) {\n        return function (data, callback) {\n          var scheme = 'http' + (useTLS ? 's' : '') + '://';\n          var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n          var request = runtime.createJSONPRequest(url, data);\n          var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n\n            if (result && result.host) {\n              sender.host = result.host;\n            }\n\n            if (callback) {\n              callback(error, result);\n            }\n          });\n          request.send(receiver);\n        };\n      };\n\n      var jsonp_timeline_jsonp = {\n        name: 'jsonp',\n        getAgent: getAgent\n      };\n      /* harmony default export */\n\n      var jsonp_timeline = jsonp_timeline_jsonp; // CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\n      function getGenericURL(baseScheme, params, path) {\n        var scheme = baseScheme + (params.useTLS ? 's' : '');\n        var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n        return scheme + '://' + host + path;\n      }\n\n      function getGenericPath(key, queryString) {\n        var path = '/app/' + key;\n        var query = '?protocol=' + defaults.PROTOCOL + '&client=js' + '&version=' + defaults.VERSION + (queryString ? '&' + queryString : '');\n        return path + query;\n      }\n\n      var ws = {\n        getInitial: function getInitial(key, params) {\n          var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n          return getGenericURL('ws', params, path);\n        }\n      };\n      var http = {\n        getInitial: function getInitial(key, params) {\n          var path = (params.httpPath || '/pusher') + getGenericPath(key);\n          return getGenericURL('http', params, path);\n        }\n      };\n      var sockjs = {\n        getInitial: function getInitial(key, params) {\n          return getGenericURL('http', params, params.httpPath || '/pusher');\n        },\n        getPath: function getPath(key, params) {\n          return getGenericPath(key);\n        }\n      }; // CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\n      var callback_registry_CallbackRegistry = function () {\n        function CallbackRegistry() {\n          this._callbacks = {};\n        }\n\n        CallbackRegistry.prototype.get = function (name) {\n          return this._callbacks[prefix(name)];\n        };\n\n        CallbackRegistry.prototype.add = function (name, callback, context) {\n          var prefixedEventName = prefix(name);\n          this._callbacks[prefixedEventName] = this._callbacks[prefixedEventName] || [];\n\n          this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context\n          });\n        };\n\n        CallbackRegistry.prototype.remove = function (name, callback, context) {\n          if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n          }\n\n          var names = name ? [prefix(name)] : keys(this._callbacks);\n\n          if (callback || context) {\n            this.removeCallback(names, callback, context);\n          } else {\n            this.removeAllCallbacks(names);\n          }\n        };\n\n        CallbackRegistry.prototype.removeCallback = function (names, callback, context) {\n          apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n              return callback && callback !== binding.fn || context && context !== binding.context;\n            });\n\n            if (this._callbacks[name].length === 0) {\n              delete this._callbacks[name];\n            }\n          }, this);\n        };\n\n        CallbackRegistry.prototype.removeAllCallbacks = function (names) {\n          apply(names, function (name) {\n            delete this._callbacks[name];\n          }, this);\n        };\n\n        return CallbackRegistry;\n      }();\n      /* harmony default export */\n\n\n      var callback_registry = callback_registry_CallbackRegistry;\n\n      function prefix(name) {\n        return '_' + name;\n      } // CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\n      var dispatcher_Dispatcher = function () {\n        function Dispatcher(failThrough) {\n          this.callbacks = new callback_registry();\n          this.global_callbacks = [];\n          this.failThrough = failThrough;\n        }\n\n        Dispatcher.prototype.bind = function (eventName, callback, context) {\n          this.callbacks.add(eventName, callback, context);\n          return this;\n        };\n\n        Dispatcher.prototype.bind_global = function (callback) {\n          this.global_callbacks.push(callback);\n          return this;\n        };\n\n        Dispatcher.prototype.unbind = function (eventName, callback, context) {\n          this.callbacks.remove(eventName, callback, context);\n          return this;\n        };\n\n        Dispatcher.prototype.unbind_global = function (callback) {\n          if (!callback) {\n            this.global_callbacks = [];\n            return this;\n          }\n\n          this.global_callbacks = filter(this.global_callbacks || [], function (c) {\n            return c !== callback;\n          });\n          return this;\n        };\n\n        Dispatcher.prototype.unbind_all = function () {\n          this.unbind();\n          this.unbind_global();\n          return this;\n        };\n\n        Dispatcher.prototype.emit = function (eventName, data, metadata) {\n          for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n          }\n\n          var callbacks = this.callbacks.get(eventName);\n          var args = [];\n\n          if (metadata) {\n            args.push(data, metadata);\n          } else if (data) {\n            args.push(data);\n          }\n\n          if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n              callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n          } else if (this.failThrough) {\n            this.failThrough(eventName, data);\n          }\n\n          return this;\n        };\n\n        return Dispatcher;\n      }();\n      /* harmony default export */\n\n\n      var dispatcher = dispatcher_Dispatcher; // CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\n\n      var transport_connection_extends = undefined && undefined.__extends || function () {\n        var _extendStatics2 = function extendStatics(d, b) {\n          _extendStatics2 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics2(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics2(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var transport_connection_TransportConnection = function (_super) {\n        transport_connection_extends(TransportConnection, _super);\n\n        function TransportConnection(hooks, name, priority, key, options) {\n          var _this = _super.call(this) || this;\n\n          _this.initialize = runtime.transportConnectionInitializer;\n          _this.hooks = hooks;\n          _this.name = name;\n          _this.priority = priority;\n          _this.key = key;\n          _this.options = options;\n          _this.state = 'new';\n          _this.timeline = options.timeline;\n          _this.activityTimeout = options.activityTimeout;\n          _this.id = _this.timeline.generateUniqueID();\n          return _this;\n        }\n\n        TransportConnection.prototype.handlesActivityChecks = function () {\n          return Boolean(this.hooks.handlesActivityChecks);\n        };\n\n        TransportConnection.prototype.supportsPing = function () {\n          return Boolean(this.hooks.supportsPing);\n        };\n\n        TransportConnection.prototype.connect = function () {\n          var _this = this;\n\n          if (this.socket || this.state !== 'initialized') {\n            return false;\n          }\n\n          var url = this.hooks.urls.getInitial(this.key, this.options);\n\n          try {\n            this.socket = this.hooks.getSocket(url, this.options);\n          } catch (e) {\n            util.defer(function () {\n              _this.onError(e);\n\n              _this.changeState('closed');\n            });\n            return false;\n          }\n\n          this.bindListeners();\n          logger.debug('Connecting', {\n            transport: this.name,\n            url: url\n          });\n          this.changeState('connecting');\n          return true;\n        };\n\n        TransportConnection.prototype.close = function () {\n          if (this.socket) {\n            this.socket.close();\n            return true;\n          } else {\n            return false;\n          }\n        };\n\n        TransportConnection.prototype.send = function (data) {\n          var _this = this;\n\n          if (this.state === 'open') {\n            util.defer(function () {\n              if (_this.socket) {\n                _this.socket.send(data);\n              }\n            });\n            return true;\n          } else {\n            return false;\n          }\n        };\n\n        TransportConnection.prototype.ping = function () {\n          if (this.state === 'open' && this.supportsPing()) {\n            this.socket.ping();\n          }\n        };\n\n        TransportConnection.prototype.onOpen = function () {\n          if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n          }\n\n          this.changeState('open');\n          this.socket.onopen = undefined;\n        };\n\n        TransportConnection.prototype.onError = function (error) {\n          this.emit('error', {\n            type: 'WebSocketError',\n            error: error\n          });\n          this.timeline.error(this.buildTimelineMessage({\n            error: error.toString()\n          }));\n        };\n\n        TransportConnection.prototype.onClose = function (closeEvent) {\n          if (closeEvent) {\n            this.changeState('closed', {\n              code: closeEvent.code,\n              reason: closeEvent.reason,\n              wasClean: closeEvent.wasClean\n            });\n          } else {\n            this.changeState('closed');\n          }\n\n          this.unbindListeners();\n          this.socket = undefined;\n        };\n\n        TransportConnection.prototype.onMessage = function (message) {\n          this.emit('message', message);\n        };\n\n        TransportConnection.prototype.onActivity = function () {\n          this.emit('activity');\n        };\n\n        TransportConnection.prototype.bindListeners = function () {\n          var _this = this;\n\n          this.socket.onopen = function () {\n            _this.onOpen();\n          };\n\n          this.socket.onerror = function (error) {\n            _this.onError(error);\n          };\n\n          this.socket.onclose = function (closeEvent) {\n            _this.onClose(closeEvent);\n          };\n\n          this.socket.onmessage = function (message) {\n            _this.onMessage(message);\n          };\n\n          if (this.supportsPing()) {\n            this.socket.onactivity = function () {\n              _this.onActivity();\n            };\n          }\n        };\n\n        TransportConnection.prototype.unbindListeners = function () {\n          if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n\n            if (this.supportsPing()) {\n              this.socket.onactivity = undefined;\n            }\n          }\n        };\n\n        TransportConnection.prototype.changeState = function (state, params) {\n          this.state = state;\n          this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params\n          }));\n          this.emit(state, params);\n        };\n\n        TransportConnection.prototype.buildTimelineMessage = function (message) {\n          return extend({\n            cid: this.id\n          }, message);\n        };\n\n        return TransportConnection;\n      }(dispatcher);\n      /* harmony default export */\n\n\n      var transport_connection = transport_connection_TransportConnection; // CONCATENATED MODULE: ./src/core/transports/transport.ts\n\n      var transport_Transport = function () {\n        function Transport(hooks) {\n          this.hooks = hooks;\n        }\n\n        Transport.prototype.isSupported = function (environment) {\n          return this.hooks.isSupported(environment);\n        };\n\n        Transport.prototype.createConnection = function (name, priority, key, options) {\n          return new transport_connection(this.hooks, name, priority, key, options);\n        };\n\n        return Transport;\n      }();\n      /* harmony default export */\n\n\n      var transports_transport = transport_Transport; // CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n      var WSTransport = new transports_transport({\n        urls: ws,\n        handlesActivityChecks: false,\n        supportsPing: false,\n        isInitialized: function isInitialized() {\n          return Boolean(runtime.getWebSocketAPI());\n        },\n        isSupported: function isSupported() {\n          return Boolean(runtime.getWebSocketAPI());\n        },\n        getSocket: function getSocket(url) {\n          return runtime.createWebSocket(url);\n        }\n      });\n      var httpConfiguration = {\n        urls: http,\n        handlesActivityChecks: false,\n        supportsPing: true,\n        isInitialized: function isInitialized() {\n          return true;\n        }\n      };\n      var streamingConfiguration = extend({\n        getSocket: function getSocket(url) {\n          return runtime.HTTPFactory.createStreamingSocket(url);\n        }\n      }, httpConfiguration);\n      var pollingConfiguration = extend({\n        getSocket: function getSocket(url) {\n          return runtime.HTTPFactory.createPollingSocket(url);\n        }\n      }, httpConfiguration);\n      var xhrConfiguration = {\n        isSupported: function isSupported() {\n          return runtime.isXHRSupported();\n        }\n      };\n      var XHRStreamingTransport = new transports_transport(extend({}, streamingConfiguration, xhrConfiguration));\n      var XHRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xhrConfiguration));\n      var Transports = {\n        ws: WSTransport,\n        xhr_streaming: XHRStreamingTransport,\n        xhr_polling: XHRPollingTransport\n      };\n      /* harmony default export */\n\n      var transports = Transports; // CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n      var SockJSTransport = new transports_transport({\n        file: 'sockjs',\n        urls: sockjs,\n        handlesActivityChecks: true,\n        supportsPing: false,\n        isSupported: function isSupported() {\n          return true;\n        },\n        isInitialized: function isInitialized() {\n          return window.SockJS !== undefined;\n        },\n        getSocket: function getSocket(url, options) {\n          return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath('sockjs', {\n              useTLS: options.useTLS\n            }),\n            ignore_null_origin: options.ignoreNullOrigin\n          });\n        },\n        beforeOpen: function beforeOpen(socket, path) {\n          socket.send(JSON.stringify({\n            path: path\n          }));\n        }\n      });\n      var xdrConfiguration = {\n        isSupported: function isSupported(environment) {\n          var yes = runtime.isXDRSupported(environment.useTLS);\n          return yes;\n        }\n      };\n      var XDRStreamingTransport = new transports_transport(extend({}, streamingConfiguration, xdrConfiguration));\n      var XDRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xdrConfiguration));\n      transports.xdr_streaming = XDRStreamingTransport;\n      transports.xdr_polling = XDRPollingTransport;\n      transports.sockjs = SockJSTransport;\n      /* harmony default export */\n\n      var transports_transports = transports; // CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\n\n      var net_info_extends = undefined && undefined.__extends || function () {\n        var _extendStatics3 = function extendStatics(d, b) {\n          _extendStatics3 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics3(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics3(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var NetInfo = function (_super) {\n        net_info_extends(NetInfo, _super);\n\n        function NetInfo() {\n          var _this = _super.call(this) || this;\n\n          var self = _this;\n\n          if (window.addEventListener !== undefined) {\n            window.addEventListener('online', function () {\n              self.emit('online');\n            }, false);\n            window.addEventListener('offline', function () {\n              self.emit('offline');\n            }, false);\n          }\n\n          return _this;\n        }\n\n        NetInfo.prototype.isOnline = function () {\n          if (window.navigator.onLine === undefined) {\n            return true;\n          } else {\n            return window.navigator.onLine;\n          }\n        };\n\n        return NetInfo;\n      }(dispatcher);\n\n      var net_info_Network = new NetInfo(); // CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n      var assistant_to_the_transport_manager_AssistantToTheTransportManager = function () {\n        function AssistantToTheTransportManager(manager, transport, options) {\n          this.manager = manager;\n          this.transport = transport;\n          this.minPingDelay = options.minPingDelay;\n          this.maxPingDelay = options.maxPingDelay;\n          this.pingDelay = undefined;\n        }\n\n        AssistantToTheTransportManager.prototype.createConnection = function (name, priority, key, options) {\n          var _this = this;\n\n          options = extend({}, options, {\n            activityTimeout: this.pingDelay\n          });\n          var connection = this.transport.createConnection(name, priority, key, options);\n          var openTimestamp = null;\n\n          var onOpen = function onOpen() {\n            connection.unbind('open', onOpen);\n            connection.bind('closed', onClosed);\n            openTimestamp = util.now();\n          };\n\n          var onClosed = function onClosed(closeEvent) {\n            connection.unbind('closed', onClosed);\n\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n              _this.manager.reportDeath();\n            } else if (!closeEvent.wasClean && openTimestamp) {\n              var lifespan = util.now() - openTimestamp;\n\n              if (lifespan < 2 * _this.maxPingDelay) {\n                _this.manager.reportDeath();\n\n                _this.pingDelay = Math.max(lifespan / 2, _this.minPingDelay);\n              }\n            }\n          };\n\n          connection.bind('open', onOpen);\n          return connection;\n        };\n\n        AssistantToTheTransportManager.prototype.isSupported = function (environment) {\n          return this.manager.isAlive() && this.transport.isSupported(environment);\n        };\n\n        return AssistantToTheTransportManager;\n      }();\n      /* harmony default export */\n\n\n      var assistant_to_the_transport_manager = assistant_to_the_transport_manager_AssistantToTheTransportManager; // CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\n\n      var Protocol = {\n        decodeMessage: function decodeMessage(messageEvent) {\n          try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n\n            if (typeof pusherEventData === 'string') {\n              try {\n                pusherEventData = JSON.parse(messageData.data);\n              } catch (e) {}\n            }\n\n            var pusherEvent = {\n              event: messageData.event,\n              channel: messageData.channel,\n              data: pusherEventData\n            };\n\n            if (messageData.user_id) {\n              pusherEvent.user_id = messageData.user_id;\n            }\n\n            return pusherEvent;\n          } catch (e) {\n            throw {\n              type: 'MessageParseError',\n              error: e,\n              data: messageEvent.data\n            };\n          }\n        },\n        encodeMessage: function encodeMessage(event) {\n          return JSON.stringify(event);\n        },\n        processHandshake: function processHandshake(messageEvent) {\n          var message = Protocol.decodeMessage(messageEvent);\n\n          if (message.event === 'pusher:connection_established') {\n            if (!message.data.activity_timeout) {\n              throw 'No activity timeout specified in handshake';\n            }\n\n            return {\n              action: 'connected',\n              id: message.data.socket_id,\n              activityTimeout: message.data.activity_timeout * 1000\n            };\n          } else if (message.event === 'pusher:error') {\n            return {\n              action: this.getCloseAction(message.data),\n              error: this.getCloseError(message.data)\n            };\n          } else {\n            throw 'Invalid handshake';\n          }\n        },\n        getCloseAction: function getCloseAction(closeEvent) {\n          if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n              return 'backoff';\n            } else {\n              return null;\n            }\n          } else if (closeEvent.code === 4000) {\n            return 'tls_only';\n          } else if (closeEvent.code < 4100) {\n            return 'refused';\n          } else if (closeEvent.code < 4200) {\n            return 'backoff';\n          } else if (closeEvent.code < 4300) {\n            return 'retry';\n          } else {\n            return 'refused';\n          }\n        },\n        getCloseError: function getCloseError(closeEvent) {\n          if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n              type: 'PusherError',\n              data: {\n                code: closeEvent.code,\n                message: closeEvent.reason || closeEvent.message\n              }\n            };\n          } else {\n            return null;\n          }\n        }\n      };\n      /* harmony default export */\n\n      var protocol_protocol = Protocol; // CONCATENATED MODULE: ./src/core/connection/connection.ts\n\n      var connection_extends = undefined && undefined.__extends || function () {\n        var _extendStatics4 = function extendStatics(d, b) {\n          _extendStatics4 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics4(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics4(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var connection_Connection = function (_super) {\n        connection_extends(Connection, _super);\n\n        function Connection(id, transport) {\n          var _this = _super.call(this) || this;\n\n          _this.id = id;\n          _this.transport = transport;\n          _this.activityTimeout = transport.activityTimeout;\n\n          _this.bindListeners();\n\n          return _this;\n        }\n\n        Connection.prototype.handlesActivityChecks = function () {\n          return this.transport.handlesActivityChecks();\n        };\n\n        Connection.prototype.send = function (data) {\n          return this.transport.send(data);\n        };\n\n        Connection.prototype.send_event = function (name, data, channel) {\n          var event = {\n            event: name,\n            data: data\n          };\n\n          if (channel) {\n            event.channel = channel;\n          }\n\n          logger.debug('Event sent', event);\n          return this.send(protocol_protocol.encodeMessage(event));\n        };\n\n        Connection.prototype.ping = function () {\n          if (this.transport.supportsPing()) {\n            this.transport.ping();\n          } else {\n            this.send_event('pusher:ping', {});\n          }\n        };\n\n        Connection.prototype.close = function () {\n          this.transport.close();\n        };\n\n        Connection.prototype.bindListeners = function () {\n          var _this = this;\n\n          var listeners = {\n            message: function message(messageEvent) {\n              var pusherEvent;\n\n              try {\n                pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n              } catch (e) {\n                _this.emit('error', {\n                  type: 'MessageParseError',\n                  error: e,\n                  data: messageEvent.data\n                });\n              }\n\n              if (pusherEvent !== undefined) {\n                logger.debug('Event recd', pusherEvent);\n\n                switch (pusherEvent.event) {\n                  case 'pusher:error':\n                    _this.emit('error', {\n                      type: 'PusherError',\n                      data: pusherEvent.data\n                    });\n\n                    break;\n\n                  case 'pusher:ping':\n                    _this.emit('ping');\n\n                    break;\n\n                  case 'pusher:pong':\n                    _this.emit('pong');\n\n                    break;\n                }\n\n                _this.emit('message', pusherEvent);\n              }\n            },\n            activity: function activity() {\n              _this.emit('activity');\n            },\n            error: function error(_error) {\n              _this.emit('error', {\n                type: 'WebSocketError',\n                error: _error\n              });\n            },\n            closed: function closed(closeEvent) {\n              unbindListeners();\n\n              if (closeEvent && closeEvent.code) {\n                _this.handleCloseEvent(closeEvent);\n              }\n\n              _this.transport = null;\n\n              _this.emit('closed');\n            }\n          };\n\n          var unbindListeners = function unbindListeners() {\n            objectApply(listeners, function (listener, event) {\n              _this.transport.unbind(event, listener);\n            });\n          };\n\n          objectApply(listeners, function (listener, event) {\n            _this.transport.bind(event, listener);\n          });\n        };\n\n        Connection.prototype.handleCloseEvent = function (closeEvent) {\n          var action = protocol_protocol.getCloseAction(closeEvent);\n          var error = protocol_protocol.getCloseError(closeEvent);\n\n          if (error) {\n            this.emit('error', error);\n          }\n\n          if (action) {\n            this.emit(action, {\n              action: action,\n              error: error\n            });\n          }\n        };\n\n        return Connection;\n      }(dispatcher);\n      /* harmony default export */\n\n\n      var connection_connection = connection_Connection; // CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n      var handshake_Handshake = function () {\n        function Handshake(transport, callback) {\n          this.transport = transport;\n          this.callback = callback;\n          this.bindListeners();\n        }\n\n        Handshake.prototype.close = function () {\n          this.unbindListeners();\n          this.transport.close();\n        };\n\n        Handshake.prototype.bindListeners = function () {\n          var _this = this;\n\n          this.onMessage = function (m) {\n            _this.unbindListeners();\n\n            var result;\n\n            try {\n              result = protocol_protocol.processHandshake(m);\n            } catch (e) {\n              _this.finish('error', {\n                error: e\n              });\n\n              _this.transport.close();\n\n              return;\n            }\n\n            if (result.action === 'connected') {\n              _this.finish('connected', {\n                connection: new connection_connection(result.id, _this.transport),\n                activityTimeout: result.activityTimeout\n              });\n            } else {\n              _this.finish(result.action, {\n                error: result.error\n              });\n\n              _this.transport.close();\n            }\n          };\n\n          this.onClosed = function (closeEvent) {\n            _this.unbindListeners();\n\n            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';\n            var error = protocol_protocol.getCloseError(closeEvent);\n\n            _this.finish(action, {\n              error: error\n            });\n          };\n\n          this.transport.bind('message', this.onMessage);\n          this.transport.bind('closed', this.onClosed);\n        };\n\n        Handshake.prototype.unbindListeners = function () {\n          this.transport.unbind('message', this.onMessage);\n          this.transport.unbind('closed', this.onClosed);\n        };\n\n        Handshake.prototype.finish = function (action, params) {\n          this.callback(extend({\n            transport: this.transport,\n            action: action\n          }, params));\n        };\n\n        return Handshake;\n      }();\n      /* harmony default export */\n\n\n      var connection_handshake = handshake_Handshake; // CONCATENATED MODULE: ./src/core/auth/pusher_authorizer.ts\n\n      var pusher_authorizer_PusherAuthorizer = function () {\n        function PusherAuthorizer(channel, options) {\n          this.channel = channel;\n          var authTransport = options.authTransport;\n\n          if (typeof runtime.getAuthorizers()[authTransport] === 'undefined') {\n            throw \"'\" + authTransport + \"' is not a recognized auth transport\";\n          }\n\n          this.type = authTransport;\n          this.options = options;\n          this.authOptions = (options || {}).auth || {};\n        }\n\n        PusherAuthorizer.prototype.composeQuery = function (socketId) {\n          var query = 'socket_id=' + encodeURIComponent(socketId) + '&channel_name=' + encodeURIComponent(this.channel.name);\n\n          for (var i in this.authOptions.params) {\n            query += '&' + encodeURIComponent(i) + '=' + encodeURIComponent(this.authOptions.params[i]);\n          }\n\n          return query;\n        };\n\n        PusherAuthorizer.prototype.authorize = function (socketId, callback) {\n          PusherAuthorizer.authorizers = PusherAuthorizer.authorizers || runtime.getAuthorizers();\n          PusherAuthorizer.authorizers[this.type].call(this, runtime, socketId, callback);\n        };\n\n        return PusherAuthorizer;\n      }();\n      /* harmony default export */\n\n\n      var pusher_authorizer = pusher_authorizer_PusherAuthorizer; // CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\n      var timeline_sender_TimelineSender = function () {\n        function TimelineSender(timeline, options) {\n          this.timeline = timeline;\n          this.options = options || {};\n        }\n\n        TimelineSender.prototype.send = function (useTLS, callback) {\n          if (this.timeline.isEmpty()) {\n            return;\n          }\n\n          this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n        };\n\n        return TimelineSender;\n      }();\n      /* harmony default export */\n\n\n      var timeline_sender = timeline_sender_TimelineSender; // CONCATENATED MODULE: ./src/core/errors.ts\n\n      var errors_extends = undefined && undefined.__extends || function () {\n        var _extendStatics5 = function extendStatics(d, b) {\n          _extendStatics5 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics5(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics5(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var BadEventName = function (_super) {\n        errors_extends(BadEventName, _super);\n\n        function BadEventName(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return BadEventName;\n      }(Error);\n\n      var RequestTimedOut = function (_super) {\n        errors_extends(RequestTimedOut, _super);\n\n        function RequestTimedOut(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return RequestTimedOut;\n      }(Error);\n\n      var TransportPriorityTooLow = function (_super) {\n        errors_extends(TransportPriorityTooLow, _super);\n\n        function TransportPriorityTooLow(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return TransportPriorityTooLow;\n      }(Error);\n\n      var TransportClosed = function (_super) {\n        errors_extends(TransportClosed, _super);\n\n        function TransportClosed(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return TransportClosed;\n      }(Error);\n\n      var UnsupportedFeature = function (_super) {\n        errors_extends(UnsupportedFeature, _super);\n\n        function UnsupportedFeature(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return UnsupportedFeature;\n      }(Error);\n\n      var UnsupportedTransport = function (_super) {\n        errors_extends(UnsupportedTransport, _super);\n\n        function UnsupportedTransport(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return UnsupportedTransport;\n      }(Error);\n\n      var UnsupportedStrategy = function (_super) {\n        errors_extends(UnsupportedStrategy, _super);\n\n        function UnsupportedStrategy(msg) {\n          var _newTarget = this.constructor;\n\n          var _this = _super.call(this, msg) || this;\n\n          Object.setPrototypeOf(_this, _newTarget.prototype);\n          return _this;\n        }\n\n        return UnsupportedStrategy;\n      }(Error); // CONCATENATED MODULE: ./src/core/channels/channel.ts\n\n\n      var channel_extends = undefined && undefined.__extends || function () {\n        var _extendStatics6 = function extendStatics(d, b) {\n          _extendStatics6 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics6(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics6(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var channel_Channel = function (_super) {\n        channel_extends(Channel, _super);\n\n        function Channel(name, pusher) {\n          var _this = _super.call(this, function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n          }) || this;\n\n          _this.name = name;\n          _this.pusher = pusher;\n          _this.subscribed = false;\n          _this.subscriptionPending = false;\n          _this.subscriptionCancelled = false;\n          return _this;\n        }\n\n        Channel.prototype.authorize = function (socketId, callback) {\n          return callback(false, {\n            auth: ''\n          });\n        };\n\n        Channel.prototype.trigger = function (event, data) {\n          if (event.indexOf('client-') !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n          }\n\n          if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix('triggeringClientEvents');\n            logger.warn(\"Client event triggered before channel 'subscription_succeeded' event . \" + suffix);\n          }\n\n          return this.pusher.send_event(event, data, this.name);\n        };\n\n        Channel.prototype.disconnect = function () {\n          this.subscribed = false;\n          this.subscriptionPending = false;\n        };\n\n        Channel.prototype.handleEvent = function (event) {\n          var eventName = event.event;\n          var data = event.data;\n\n          if (eventName === 'pusher_internal:subscription_succeeded') {\n            this.handleSubscriptionSucceededEvent(event);\n          } else if (eventName.indexOf('pusher_internal:') !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n          }\n        };\n\n        Channel.prototype.handleSubscriptionSucceededEvent = function (event) {\n          this.subscriptionPending = false;\n          this.subscribed = true;\n\n          if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n          } else {\n            this.emit('pusher:subscription_succeeded', event.data);\n          }\n        };\n\n        Channel.prototype.subscribe = function () {\n          var _this = this;\n\n          if (this.subscribed) {\n            return;\n          }\n\n          this.subscriptionPending = true;\n          this.subscriptionCancelled = false;\n          this.authorize(this.pusher.connection.socket_id, function (error, data) {\n            if (error) {\n              logger.error(data);\n\n              _this.emit('pusher:subscription_error', data);\n            } else {\n              data = data;\n\n              _this.pusher.send_event('pusher:subscribe', {\n                auth: data.auth,\n                channel_data: data.channel_data,\n                channel: _this.name\n              });\n            }\n          });\n        };\n\n        Channel.prototype.unsubscribe = function () {\n          this.subscribed = false;\n          this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name\n          });\n        };\n\n        Channel.prototype.cancelSubscription = function () {\n          this.subscriptionCancelled = true;\n        };\n\n        Channel.prototype.reinstateSubscription = function () {\n          this.subscriptionCancelled = false;\n        };\n\n        return Channel;\n      }(dispatcher);\n      /* harmony default export */\n\n\n      var channels_channel = channel_Channel; // CONCATENATED MODULE: ./src/core/channels/private_channel.ts\n\n      var private_channel_extends = undefined && undefined.__extends || function () {\n        var _extendStatics7 = function extendStatics(d, b) {\n          _extendStatics7 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics7(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics7(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var private_channel_PrivateChannel = function (_super) {\n        private_channel_extends(PrivateChannel, _super);\n\n        function PrivateChannel() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        PrivateChannel.prototype.authorize = function (socketId, callback) {\n          var authorizer = factory.createAuthorizer(this, this.pusher.config);\n          return authorizer.authorize(socketId, callback);\n        };\n\n        return PrivateChannel;\n      }(channels_channel);\n      /* harmony default export */\n\n\n      var private_channel = private_channel_PrivateChannel; // CONCATENATED MODULE: ./src/core/channels/members.ts\n\n      var members_Members = function () {\n        function Members() {\n          this.reset();\n        }\n\n        Members.prototype.get = function (id) {\n          if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n              id: id,\n              info: this.members[id]\n            };\n          } else {\n            return null;\n          }\n        };\n\n        Members.prototype.each = function (callback) {\n          var _this = this;\n\n          objectApply(this.members, function (member, id) {\n            callback(_this.get(id));\n          });\n        };\n\n        Members.prototype.setMyID = function (id) {\n          this.myID = id;\n        };\n\n        Members.prototype.onSubscription = function (subscriptionData) {\n          this.members = subscriptionData.presence.hash;\n          this.count = subscriptionData.presence.count;\n          this.me = this.get(this.myID);\n        };\n\n        Members.prototype.addMember = function (memberData) {\n          if (this.get(memberData.user_id) === null) {\n            this.count++;\n          }\n\n          this.members[memberData.user_id] = memberData.user_info;\n          return this.get(memberData.user_id);\n        };\n\n        Members.prototype.removeMember = function (memberData) {\n          var member = this.get(memberData.user_id);\n\n          if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n          }\n\n          return member;\n        };\n\n        Members.prototype.reset = function () {\n          this.members = {};\n          this.count = 0;\n          this.myID = null;\n          this.me = null;\n        };\n\n        return Members;\n      }();\n      /* harmony default export */\n\n\n      var members = members_Members; // CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\n\n      var presence_channel_extends = undefined && undefined.__extends || function () {\n        var _extendStatics8 = function extendStatics(d, b) {\n          _extendStatics8 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics8(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics8(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var presence_channel_PresenceChannel = function (_super) {\n        presence_channel_extends(PresenceChannel, _super);\n\n        function PresenceChannel(name, pusher) {\n          var _this = _super.call(this, name, pusher) || this;\n\n          _this.members = new members();\n          return _this;\n        }\n\n        PresenceChannel.prototype.authorize = function (socketId, callback) {\n          var _this = this;\n\n          _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (!error) {\n              authData = authData;\n\n              if (authData.channel_data === undefined) {\n                var suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                logger.error(\"Invalid auth response for channel '\" + _this.name + \"',\" + (\"expected 'channel_data' field. \" + suffix));\n                callback('Invalid auth response');\n                return;\n              }\n\n              var channelData = JSON.parse(authData.channel_data);\n\n              _this.members.setMyID(channelData.user_id);\n            }\n\n            callback(error, authData);\n          });\n        };\n\n        PresenceChannel.prototype.handleEvent = function (event) {\n          var eventName = event.event;\n\n          if (eventName.indexOf('pusher_internal:') === 0) {\n            this.handleInternalEvent(event);\n          } else {\n            var data = event.data;\n            var metadata = {};\n\n            if (event.user_id) {\n              metadata.user_id = event.user_id;\n            }\n\n            this.emit(eventName, data, metadata);\n          }\n        };\n\n        PresenceChannel.prototype.handleInternalEvent = function (event) {\n          var eventName = event.event;\n          var data = event.data;\n\n          switch (eventName) {\n            case 'pusher_internal:subscription_succeeded':\n              this.handleSubscriptionSucceededEvent(event);\n              break;\n\n            case 'pusher_internal:member_added':\n              var addedMember = this.members.addMember(data);\n              this.emit('pusher:member_added', addedMember);\n              break;\n\n            case 'pusher_internal:member_removed':\n              var removedMember = this.members.removeMember(data);\n\n              if (removedMember) {\n                this.emit('pusher:member_removed', removedMember);\n              }\n\n              break;\n          }\n        };\n\n        PresenceChannel.prototype.handleSubscriptionSucceededEvent = function (event) {\n          this.subscriptionPending = false;\n          this.subscribed = true;\n\n          if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n          } else {\n            this.members.onSubscription(event.data);\n            this.emit('pusher:subscription_succeeded', this.members);\n          }\n        };\n\n        PresenceChannel.prototype.disconnect = function () {\n          this.members.reset();\n\n          _super.prototype.disconnect.call(this);\n        };\n\n        return PresenceChannel;\n      }(private_channel);\n      /* harmony default export */\n\n\n      var presence_channel = presence_channel_PresenceChannel; // EXTERNAL MODULE: ./node_modules/tweetnacl/nacl-fast.js\n\n      var nacl_fast = __webpack_require__(0); // EXTERNAL MODULE: ./node_modules/tweetnacl-util/nacl-util.js\n\n\n      var nacl_util = __webpack_require__(1); // CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\n\n\n      var encrypted_channel_extends = undefined && undefined.__extends || function () {\n        var _extendStatics9 = function extendStatics(d, b) {\n          _extendStatics9 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics9(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics9(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var encrypted_channel_EncryptedChannel = function (_super) {\n        encrypted_channel_extends(EncryptedChannel, _super);\n\n        function EncryptedChannel() {\n          var _this = _super !== null && _super.apply(this, arguments) || this;\n\n          _this.key = null;\n          return _this;\n        }\n\n        EncryptedChannel.prototype.authorize = function (socketId, callback) {\n          var _this = this;\n\n          _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (error) {\n              callback(true, authData);\n              return;\n            }\n\n            var sharedSecret = authData['shared_secret'];\n\n            if (!sharedSecret) {\n              var errorMsg = \"No shared_secret key in auth payload for encrypted channel: \" + _this.name;\n              callback(true, errorMsg);\n              return;\n            }\n\n            _this.key = Object(nacl_util[\"decodeBase64\"])(sharedSecret);\n            delete authData['shared_secret'];\n            callback(false, authData);\n          });\n        };\n\n        EncryptedChannel.prototype.trigger = function (event, data) {\n          throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n        };\n\n        EncryptedChannel.prototype.handleEvent = function (event) {\n          var eventName = event.event;\n          var data = event.data;\n\n          if (eventName.indexOf('pusher_internal:') === 0 || eventName.indexOf('pusher:') === 0) {\n            _super.prototype.handleEvent.call(this, event);\n\n            return;\n          }\n\n          this.handleEncryptedEvent(eventName, data);\n        };\n\n        EncryptedChannel.prototype.handleEncryptedEvent = function (event, data) {\n          var _this = this;\n\n          if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n          }\n\n          if (!data.ciphertext || !data.nonce) {\n            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' + data);\n            return;\n          }\n\n          var cipherText = Object(nacl_util[\"decodeBase64\"])(data.ciphertext);\n\n          if (cipherText.length < nacl_fast[\"secretbox\"].overheadLength) {\n            logger.error(\"Expected encrypted event ciphertext length to be \" + nacl_fast[\"secretbox\"].overheadLength + \", got: \" + cipherText.length);\n            return;\n          }\n\n          var nonce = Object(nacl_util[\"decodeBase64\"])(data.nonce);\n\n          if (nonce.length < nacl_fast[\"secretbox\"].nonceLength) {\n            logger.error(\"Expected encrypted event nonce length to be \" + nacl_fast[\"secretbox\"].nonceLength + \", got: \" + nonce.length);\n            return;\n          }\n\n          var bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, this.key);\n\n          if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, function (error, authData) {\n              if (error) {\n                logger.error(\"Failed to make a request to the authEndpoint: \" + authData + \". Unable to fetch new key, so dropping encrypted event\");\n                return;\n              }\n\n              bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, _this.key);\n\n              if (bytes === null) {\n                logger.error(\"Failed to decrypt event with new key. Dropping encrypted event\");\n                return;\n              }\n\n              _this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n\n              return;\n            });\n            return;\n          }\n\n          this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n        };\n\n        EncryptedChannel.prototype.emitJSON = function (eventName, data) {\n          try {\n            this.emit(eventName, JSON.parse(data));\n          } catch (e) {\n            this.emit(eventName, data);\n          }\n\n          return this;\n        };\n\n        return EncryptedChannel;\n      }(private_channel);\n      /* harmony default export */\n\n\n      var encrypted_channel = encrypted_channel_EncryptedChannel; // CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\n\n      var connection_manager_extends = undefined && undefined.__extends || function () {\n        var _extendStatics10 = function extendStatics(d, b) {\n          _extendStatics10 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics10(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics10(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var connection_manager_ConnectionManager = function (_super) {\n        connection_manager_extends(ConnectionManager, _super);\n\n        function ConnectionManager(key, options) {\n          var _this = _super.call(this) || this;\n\n          _this.key = key;\n          _this.options = options || {};\n          _this.state = 'initialized';\n          _this.connection = null;\n          _this.usingTLS = !!options.useTLS;\n          _this.timeline = _this.options.timeline;\n          _this.errorCallbacks = _this.buildErrorCallbacks();\n          _this.connectionCallbacks = _this.buildConnectionCallbacks(_this.errorCallbacks);\n          _this.handshakeCallbacks = _this.buildHandshakeCallbacks(_this.errorCallbacks);\n          var Network = runtime.getNetwork();\n          Network.bind('online', function () {\n            _this.timeline.info({\n              netinfo: 'online'\n            });\n\n            if (_this.state === 'connecting' || _this.state === 'unavailable') {\n              _this.retryIn(0);\n            }\n          });\n          Network.bind('offline', function () {\n            _this.timeline.info({\n              netinfo: 'offline'\n            });\n\n            if (_this.connection) {\n              _this.sendActivityCheck();\n            }\n          });\n\n          _this.updateStrategy();\n\n          return _this;\n        }\n\n        ConnectionManager.prototype.connect = function () {\n          if (this.connection || this.runner) {\n            return;\n          }\n\n          if (!this.strategy.isSupported()) {\n            this.updateState('failed');\n            return;\n          }\n\n          this.updateState('connecting');\n          this.startConnecting();\n          this.setUnavailableTimer();\n        };\n\n        ConnectionManager.prototype.send = function (data) {\n          if (this.connection) {\n            return this.connection.send(data);\n          } else {\n            return false;\n          }\n        };\n\n        ConnectionManager.prototype.send_event = function (name, data, channel) {\n          if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n          } else {\n            return false;\n          }\n        };\n\n        ConnectionManager.prototype.disconnect = function () {\n          this.disconnectInternally();\n          this.updateState('disconnected');\n        };\n\n        ConnectionManager.prototype.isUsingTLS = function () {\n          return this.usingTLS;\n        };\n\n        ConnectionManager.prototype.startConnecting = function () {\n          var _this = this;\n\n          var callback = function callback(error, handshake) {\n            if (error) {\n              _this.runner = _this.strategy.connect(0, callback);\n            } else {\n              if (handshake.action === 'error') {\n                _this.emit('error', {\n                  type: 'HandshakeError',\n                  error: handshake.error\n                });\n\n                _this.timeline.error({\n                  handshakeError: handshake.error\n                });\n              } else {\n                _this.abortConnecting();\n\n                _this.handshakeCallbacks[handshake.action](handshake);\n              }\n            }\n          };\n\n          this.runner = this.strategy.connect(0, callback);\n        };\n\n        ConnectionManager.prototype.abortConnecting = function () {\n          if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n          }\n        };\n\n        ConnectionManager.prototype.disconnectInternally = function () {\n          this.abortConnecting();\n          this.clearRetryTimer();\n          this.clearUnavailableTimer();\n\n          if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n          }\n        };\n\n        ConnectionManager.prototype.updateStrategy = function () {\n          this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS\n          });\n        };\n\n        ConnectionManager.prototype.retryIn = function (delay) {\n          var _this = this;\n\n          this.timeline.info({\n            action: 'retry',\n            delay: delay\n          });\n\n          if (delay > 0) {\n            this.emit('connecting_in', Math.round(delay / 1000));\n          }\n\n          this.retryTimer = new OneOffTimer(delay || 0, function () {\n            _this.disconnectInternally();\n\n            _this.connect();\n          });\n        };\n\n        ConnectionManager.prototype.clearRetryTimer = function () {\n          if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n          }\n        };\n\n        ConnectionManager.prototype.setUnavailableTimer = function () {\n          var _this = this;\n\n          this.unavailableTimer = new OneOffTimer(this.options.unavailableTimeout, function () {\n            _this.updateState('unavailable');\n          });\n        };\n\n        ConnectionManager.prototype.clearUnavailableTimer = function () {\n          if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n          }\n        };\n\n        ConnectionManager.prototype.sendActivityCheck = function () {\n          var _this = this;\n\n          this.stopActivityCheck();\n          this.connection.ping();\n          this.activityTimer = new OneOffTimer(this.options.pongTimeout, function () {\n            _this.timeline.error({\n              pong_timed_out: _this.options.pongTimeout\n            });\n\n            _this.retryIn(0);\n          });\n        };\n\n        ConnectionManager.prototype.resetActivityCheck = function () {\n          var _this = this;\n\n          this.stopActivityCheck();\n\n          if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new OneOffTimer(this.activityTimeout, function () {\n              _this.sendActivityCheck();\n            });\n          }\n        };\n\n        ConnectionManager.prototype.stopActivityCheck = function () {\n          if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n          }\n        };\n\n        ConnectionManager.prototype.buildConnectionCallbacks = function (errorCallbacks) {\n          var _this = this;\n\n          return extend({}, errorCallbacks, {\n            message: function message(_message) {\n              _this.resetActivityCheck();\n\n              _this.emit('message', _message);\n            },\n            ping: function ping() {\n              _this.send_event('pusher:pong', {});\n            },\n            activity: function activity() {\n              _this.resetActivityCheck();\n            },\n            error: function error(_error2) {\n              _this.emit('error', {\n                type: 'WebSocketError',\n                error: _error2\n              });\n            },\n            closed: function closed() {\n              _this.abandonConnection();\n\n              if (_this.shouldRetry()) {\n                _this.retryIn(1000);\n              }\n            }\n          });\n        };\n\n        ConnectionManager.prototype.buildHandshakeCallbacks = function (errorCallbacks) {\n          var _this = this;\n\n          return extend({}, errorCallbacks, {\n            connected: function connected(handshake) {\n              _this.activityTimeout = Math.min(_this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n\n              _this.clearUnavailableTimer();\n\n              _this.setConnection(handshake.connection);\n\n              _this.socket_id = _this.connection.id;\n\n              _this.updateState('connected', {\n                socket_id: _this.socket_id\n              });\n            }\n          });\n        };\n\n        ConnectionManager.prototype.buildErrorCallbacks = function () {\n          var _this = this;\n\n          var withErrorEmitted = function withErrorEmitted(callback) {\n            return function (result) {\n              if (result.error) {\n                _this.emit('error', {\n                  type: 'WebSocketError',\n                  error: result.error\n                });\n              }\n\n              callback(result);\n            };\n          };\n\n          return {\n            tls_only: withErrorEmitted(function () {\n              _this.usingTLS = true;\n\n              _this.updateStrategy();\n\n              _this.retryIn(0);\n            }),\n            refused: withErrorEmitted(function () {\n              _this.disconnect();\n            }),\n            backoff: withErrorEmitted(function () {\n              _this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(function () {\n              _this.retryIn(0);\n            })\n          };\n        };\n\n        ConnectionManager.prototype.setConnection = function (connection) {\n          this.connection = connection;\n\n          for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n          }\n\n          this.resetActivityCheck();\n        };\n\n        ConnectionManager.prototype.abandonConnection = function () {\n          if (!this.connection) {\n            return;\n          }\n\n          this.stopActivityCheck();\n\n          for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n          }\n\n          var connection = this.connection;\n          this.connection = null;\n          return connection;\n        };\n\n        ConnectionManager.prototype.updateState = function (newState, data) {\n          var previousState = this.state;\n          this.state = newState;\n\n          if (previousState !== newState) {\n            var newStateDescription = newState;\n\n            if (newStateDescription === 'connected') {\n              newStateDescription += ' with new socket ID ' + data.socket_id;\n            }\n\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({\n              state: newState,\n              params: data\n            });\n            this.emit('state_change', {\n              previous: previousState,\n              current: newState\n            });\n            this.emit(newState, data);\n          }\n        };\n\n        ConnectionManager.prototype.shouldRetry = function () {\n          return this.state === 'connecting' || this.state === 'connected';\n        };\n\n        return ConnectionManager;\n      }(dispatcher);\n      /* harmony default export */\n\n\n      var connection_manager = connection_manager_ConnectionManager; // CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n      var channels_Channels = function () {\n        function Channels() {\n          this.channels = {};\n        }\n\n        Channels.prototype.add = function (name, pusher) {\n          if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n          }\n\n          return this.channels[name];\n        };\n\n        Channels.prototype.all = function () {\n          return values(this.channels);\n        };\n\n        Channels.prototype.find = function (name) {\n          return this.channels[name];\n        };\n\n        Channels.prototype.remove = function (name) {\n          var channel = this.channels[name];\n          delete this.channels[name];\n          return channel;\n        };\n\n        Channels.prototype.disconnect = function () {\n          objectApply(this.channels, function (channel) {\n            channel.disconnect();\n          });\n        };\n\n        return Channels;\n      }();\n      /* harmony default export */\n\n\n      var channels = channels_Channels;\n\n      function createChannel(name, pusher) {\n        if (name.indexOf('private-encrypted-') === 0) {\n          if (false) {\n            var errorMsg;\n          }\n\n          return factory.createEncryptedChannel(name, pusher);\n        } else if (name.indexOf('private-') === 0) {\n          return factory.createPrivateChannel(name, pusher);\n        } else if (name.indexOf('presence-') === 0) {\n          return factory.createPresenceChannel(name, pusher);\n        } else {\n          return factory.createChannel(name, pusher);\n        }\n      } // CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n      var Factory = {\n        createChannels: function createChannels() {\n          return new channels();\n        },\n        createConnectionManager: function createConnectionManager(key, options) {\n          return new connection_manager(key, options);\n        },\n        createChannel: function createChannel(name, pusher) {\n          return new channels_channel(name, pusher);\n        },\n        createPrivateChannel: function createPrivateChannel(name, pusher) {\n          return new private_channel(name, pusher);\n        },\n        createPresenceChannel: function createPresenceChannel(name, pusher) {\n          return new presence_channel(name, pusher);\n        },\n        createEncryptedChannel: function createEncryptedChannel(name, pusher) {\n          return new encrypted_channel(name, pusher);\n        },\n        createTimelineSender: function createTimelineSender(timeline, options) {\n          return new timeline_sender(timeline, options);\n        },\n        createAuthorizer: function createAuthorizer(channel, options) {\n          if (options.authorizer) {\n            return options.authorizer(channel, options);\n          }\n\n          return new pusher_authorizer(channel, options);\n        },\n        createHandshake: function createHandshake(transport, callback) {\n          return new connection_handshake(transport, callback);\n        },\n        createAssistantToTheTransportManager: function createAssistantToTheTransportManager(manager, transport, options) {\n          return new assistant_to_the_transport_manager(manager, transport, options);\n        }\n      };\n      /* harmony default export */\n\n      var factory = Factory; // CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\n      var transport_manager_TransportManager = function () {\n        function TransportManager(options) {\n          this.options = options || {};\n          this.livesLeft = this.options.lives || Infinity;\n        }\n\n        TransportManager.prototype.getAssistant = function (transport) {\n          return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay\n          });\n        };\n\n        TransportManager.prototype.isAlive = function () {\n          return this.livesLeft > 0;\n        };\n\n        TransportManager.prototype.reportDeath = function () {\n          this.livesLeft -= 1;\n        };\n\n        return TransportManager;\n      }();\n      /* harmony default export */\n\n\n      var transport_manager = transport_manager_TransportManager; // CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n      var sequential_strategy_SequentialStrategy = function () {\n        function SequentialStrategy(strategies, options) {\n          this.strategies = strategies;\n          this.loop = Boolean(options.loop);\n          this.failFast = Boolean(options.failFast);\n          this.timeout = options.timeout;\n          this.timeoutLimit = options.timeoutLimit;\n        }\n\n        SequentialStrategy.prototype.isSupported = function () {\n          return any(this.strategies, util.method('isSupported'));\n        };\n\n        SequentialStrategy.prototype.connect = function (minPriority, callback) {\n          var _this = this;\n\n          var strategies = this.strategies;\n          var current = 0;\n          var timeout = this.timeout;\n          var runner = null;\n\n          var tryNextStrategy = function tryNextStrategy(error, handshake) {\n            if (handshake) {\n              callback(null, handshake);\n            } else {\n              current = current + 1;\n\n              if (_this.loop) {\n                current = current % strategies.length;\n              }\n\n              if (current < strategies.length) {\n                if (timeout) {\n                  timeout = timeout * 2;\n\n                  if (_this.timeoutLimit) {\n                    timeout = Math.min(timeout, _this.timeoutLimit);\n                  }\n                }\n\n                runner = _this.tryStrategy(strategies[current], minPriority, {\n                  timeout: timeout,\n                  failFast: _this.failFast\n                }, tryNextStrategy);\n              } else {\n                callback(true);\n              }\n            }\n          };\n\n          runner = this.tryStrategy(strategies[current], minPriority, {\n            timeout: timeout,\n            failFast: this.failFast\n          }, tryNextStrategy);\n          return {\n            abort: function abort() {\n              runner.abort();\n            },\n            forceMinPriority: function forceMinPriority(p) {\n              minPriority = p;\n\n              if (runner) {\n                runner.forceMinPriority(p);\n              }\n            }\n          };\n        };\n\n        SequentialStrategy.prototype.tryStrategy = function (strategy, minPriority, options, callback) {\n          var timer = null;\n          var runner = null;\n\n          if (options.timeout > 0) {\n            timer = new OneOffTimer(options.timeout, function () {\n              runner.abort();\n              callback(true);\n            });\n          }\n\n          runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n              return;\n            }\n\n            if (timer) {\n              timer.ensureAborted();\n            }\n\n            callback(error, handshake);\n          });\n          return {\n            abort: function abort() {\n              if (timer) {\n                timer.ensureAborted();\n              }\n\n              runner.abort();\n            },\n            forceMinPriority: function forceMinPriority(p) {\n              runner.forceMinPriority(p);\n            }\n          };\n        };\n\n        return SequentialStrategy;\n      }();\n      /* harmony default export */\n\n\n      var sequential_strategy = sequential_strategy_SequentialStrategy; // CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n      var best_connected_ever_strategy_BestConnectedEverStrategy = function () {\n        function BestConnectedEverStrategy(strategies) {\n          this.strategies = strategies;\n        }\n\n        BestConnectedEverStrategy.prototype.isSupported = function () {\n          return any(this.strategies, util.method('isSupported'));\n        };\n\n        BestConnectedEverStrategy.prototype.connect = function (minPriority, callback) {\n          return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n              runners[i].error = error;\n\n              if (error) {\n                if (allRunnersFailed(runners)) {\n                  callback(true);\n                }\n\n                return;\n              }\n\n              apply(runners, function (runner) {\n                runner.forceMinPriority(handshake.transport.priority);\n              });\n              callback(null, handshake);\n            };\n          });\n        };\n\n        return BestConnectedEverStrategy;\n      }();\n      /* harmony default export */\n\n\n      var best_connected_ever_strategy = best_connected_ever_strategy_BestConnectedEverStrategy;\n\n      function connect(strategies, minPriority, callbackBuilder) {\n        var runners = map(strategies, function (strategy, i, _, rs) {\n          return strategy.connect(minPriority, callbackBuilder(i, rs));\n        });\n        return {\n          abort: function abort() {\n            apply(runners, abortRunner);\n          },\n          forceMinPriority: function forceMinPriority(p) {\n            apply(runners, function (runner) {\n              runner.forceMinPriority(p);\n            });\n          }\n        };\n      }\n\n      function allRunnersFailed(runners) {\n        return collections_all(runners, function (runner) {\n          return Boolean(runner.error);\n        });\n      }\n\n      function abortRunner(runner) {\n        if (!runner.error && !runner.aborted) {\n          runner.abort();\n          runner.aborted = true;\n        }\n      } // CONCATENATED MODULE: ./src/core/strategies/cached_strategy.ts\n\n\n      var cached_strategy_CachedStrategy = function () {\n        function CachedStrategy(strategy, transports, options) {\n          this.strategy = strategy;\n          this.transports = transports;\n          this.ttl = options.ttl || 1800 * 1000;\n          this.usingTLS = options.useTLS;\n          this.timeline = options.timeline;\n        }\n\n        CachedStrategy.prototype.isSupported = function () {\n          return this.strategy.isSupported();\n        };\n\n        CachedStrategy.prototype.connect = function (minPriority, callback) {\n          var usingTLS = this.usingTLS;\n          var info = fetchTransportCache(usingTLS);\n          var strategies = [this.strategy];\n\n          if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n\n            if (transport) {\n              this.timeline.info({\n                cached: true,\n                transport: info.transport,\n                latency: info.latency\n              });\n              strategies.push(new sequential_strategy([transport], {\n                timeout: info.latency * 2 + 1000,\n                failFast: true\n              }));\n            }\n          }\n\n          var startTimestamp = util.now();\n          var runner = strategies.pop().connect(minPriority, function cb(error, handshake) {\n            if (error) {\n              flushTransportCache(usingTLS);\n\n              if (strategies.length > 0) {\n                startTimestamp = util.now();\n                runner = strategies.pop().connect(minPriority, cb);\n              } else {\n                callback(error);\n              }\n            } else {\n              storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp);\n              callback(null, handshake);\n            }\n          });\n          return {\n            abort: function abort() {\n              runner.abort();\n            },\n            forceMinPriority: function forceMinPriority(p) {\n              minPriority = p;\n\n              if (runner) {\n                runner.forceMinPriority(p);\n              }\n            }\n          };\n        };\n\n        return CachedStrategy;\n      }();\n      /* harmony default export */\n\n\n      var cached_strategy = cached_strategy_CachedStrategy;\n\n      function getTransportCacheKey(usingTLS) {\n        return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n      }\n\n      function fetchTransportCache(usingTLS) {\n        var storage = runtime.getLocalStorage();\n\n        if (storage) {\n          try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n\n            if (serializedCache) {\n              return JSON.parse(serializedCache);\n            }\n          } catch (e) {\n            flushTransportCache(usingTLS);\n          }\n        }\n\n        return null;\n      }\n\n      function storeTransportCache(usingTLS, transport, latency) {\n        var storage = runtime.getLocalStorage();\n\n        if (storage) {\n          try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n              timestamp: util.now(),\n              transport: transport,\n              latency: latency\n            });\n          } catch (e) {}\n        }\n      }\n\n      function flushTransportCache(usingTLS) {\n        var storage = runtime.getLocalStorage();\n\n        if (storage) {\n          try {\n            delete storage[getTransportCacheKey(usingTLS)];\n          } catch (e) {}\n        }\n      } // CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\n\n      var delayed_strategy_DelayedStrategy = function () {\n        function DelayedStrategy(strategy, _a) {\n          var number = _a.delay;\n          this.strategy = strategy;\n          this.options = {\n            delay: number\n          };\n        }\n\n        DelayedStrategy.prototype.isSupported = function () {\n          return this.strategy.isSupported();\n        };\n\n        DelayedStrategy.prototype.connect = function (minPriority, callback) {\n          var strategy = this.strategy;\n          var runner;\n          var timer = new OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n          });\n          return {\n            abort: function abort() {\n              timer.ensureAborted();\n\n              if (runner) {\n                runner.abort();\n              }\n            },\n            forceMinPriority: function forceMinPriority(p) {\n              minPriority = p;\n\n              if (runner) {\n                runner.forceMinPriority(p);\n              }\n            }\n          };\n        };\n\n        return DelayedStrategy;\n      }();\n      /* harmony default export */\n\n\n      var delayed_strategy = delayed_strategy_DelayedStrategy; // CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\n\n      var IfStrategy = function () {\n        function IfStrategy(test, trueBranch, falseBranch) {\n          this.test = test;\n          this.trueBranch = trueBranch;\n          this.falseBranch = falseBranch;\n        }\n\n        IfStrategy.prototype.isSupported = function () {\n          var branch = this.test() ? this.trueBranch : this.falseBranch;\n          return branch.isSupported();\n        };\n\n        IfStrategy.prototype.connect = function (minPriority, callback) {\n          var branch = this.test() ? this.trueBranch : this.falseBranch;\n          return branch.connect(minPriority, callback);\n        };\n\n        return IfStrategy;\n      }();\n      /* harmony default export */\n\n\n      var if_strategy = IfStrategy; // CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\n\n      var FirstConnectedStrategy = function () {\n        function FirstConnectedStrategy(strategy) {\n          this.strategy = strategy;\n        }\n\n        FirstConnectedStrategy.prototype.isSupported = function () {\n          return this.strategy.isSupported();\n        };\n\n        FirstConnectedStrategy.prototype.connect = function (minPriority, callback) {\n          var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n              runner.abort();\n            }\n\n            callback(error, handshake);\n          });\n          return runner;\n        };\n\n        return FirstConnectedStrategy;\n      }();\n      /* harmony default export */\n\n\n      var first_connected_strategy = FirstConnectedStrategy; // CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n      function testSupportsStrategy(strategy) {\n        return function () {\n          return strategy.isSupported();\n        };\n      }\n\n      var getDefaultStrategy = function getDefaultStrategy(config, defineTransport) {\n        var definedTransports = {};\n\n        function defineTransportStrategy(name, type, priority, options, manager) {\n          var transport = defineTransport(config, name, type, priority, options, manager);\n          definedTransports[name] = transport;\n          return transport;\n        }\n\n        var ws_options = {\n          hostNonTLS: config.wsHost + ':' + config.wsPort,\n          hostTLS: config.wsHost + ':' + config.wssPort,\n          httpPath: config.wsPath\n        };\n        var wss_options = extend({}, ws_options, {\n          useTLS: true\n        });\n        var sockjs_options = {\n          hostNonTLS: config.httpHost + ':' + config.httpPort,\n          hostTLS: config.httpHost + ':' + config.httpsPort,\n          httpPath: config.httpPath\n        };\n        var timeouts = {\n          loop: true,\n          timeout: 15000,\n          timeoutLimit: 60000\n        };\n        var ws_manager = new transport_manager({\n          lives: 2,\n          minPingDelay: 10000,\n          maxPingDelay: config.activity_timeout\n        });\n        var streaming_manager = new transport_manager({\n          lives: 2,\n          minPingDelay: 10000,\n          maxPingDelay: config.activity_timeout\n        });\n        var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);\n        var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);\n        var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);\n        var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);\n        var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);\n        var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);\n        var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);\n        var ws_loop = new sequential_strategy([ws_transport], timeouts);\n        var wss_loop = new sequential_strategy([wss_transport], timeouts);\n        var sockjs_loop = new sequential_strategy([sockjs_transport], timeouts);\n        var streaming_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)], timeouts);\n        var polling_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)], timeouts);\n        var http_loop = new sequential_strategy([new if_strategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy([streaming_loop, new delayed_strategy(polling_loop, {\n          delay: 4000\n        })]), polling_loop)], timeouts);\n        var http_fallback_loop = new if_strategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n        var wsStrategy;\n\n        if (config.useTLS) {\n          wsStrategy = new best_connected_ever_strategy([ws_loop, new delayed_strategy(http_fallback_loop, {\n            delay: 2000\n          })]);\n        } else {\n          wsStrategy = new best_connected_ever_strategy([ws_loop, new delayed_strategy(wss_loop, {\n            delay: 2000\n          }), new delayed_strategy(http_fallback_loop, {\n            delay: 5000\n          })]);\n        }\n\n        return new cached_strategy(new first_connected_strategy(new if_strategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n          ttl: 1800000,\n          timeline: config.timeline,\n          useTLS: config.useTLS\n        });\n      };\n      /* harmony default export */\n\n\n      var default_strategy = getDefaultStrategy; // CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n      /* harmony default export */\n\n      var transport_connection_initializer = function transport_connection_initializer() {\n        var self = this;\n        self.timeline.info(self.buildTimelineMessage({\n          transport: self.name + (self.options.useTLS ? 's' : '')\n        }));\n\n        if (self.hooks.isInitialized()) {\n          self.changeState('initialized');\n        } else if (self.hooks.file) {\n          self.changeState('initializing');\n          Dependencies.load(self.hooks.file, {\n            useTLS: self.options.useTLS\n          }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n              self.changeState('initialized');\n              callback(true);\n            } else {\n              if (error) {\n                self.onError(error);\n              }\n\n              self.onClose();\n              callback(false);\n            }\n          });\n        } else {\n          self.onClose();\n        }\n      }; // CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\n\n      var http_xdomain_request_hooks = {\n        getRequest: function getRequest(socket) {\n          var xdr = new window.XDomainRequest();\n\n          xdr.ontimeout = function () {\n            socket.emit('error', new RequestTimedOut());\n            socket.close();\n          };\n\n          xdr.onerror = function (e) {\n            socket.emit('error', e);\n            socket.close();\n          };\n\n          xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n              socket.onChunk(200, xdr.responseText);\n            }\n          };\n\n          xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n              socket.onChunk(200, xdr.responseText);\n            }\n\n            socket.emit('finished', 200);\n            socket.close();\n          };\n\n          return xdr;\n        },\n        abortRequest: function abortRequest(xdr) {\n          xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n          xdr.abort();\n        }\n      };\n      /* harmony default export */\n\n      var http_xdomain_request = http_xdomain_request_hooks; // CONCATENATED MODULE: ./src/core/http/http_request.ts\n\n      var http_request_extends = undefined && undefined.__extends || function () {\n        var _extendStatics11 = function extendStatics(d, b) {\n          _extendStatics11 = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) {\n              if (b.hasOwnProperty(p)) d[p] = b[p];\n            }\n          };\n\n          return _extendStatics11(d, b);\n        };\n\n        return function (d, b) {\n          _extendStatics11(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        };\n      }();\n\n      var MAX_BUFFER_LENGTH = 256 * 1024;\n\n      var http_request_HTTPRequest = function (_super) {\n        http_request_extends(HTTPRequest, _super);\n\n        function HTTPRequest(hooks, method, url) {\n          var _this = _super.call(this) || this;\n\n          _this.hooks = hooks;\n          _this.method = method;\n          _this.url = url;\n          return _this;\n        }\n\n        HTTPRequest.prototype.start = function (payload) {\n          var _this = this;\n\n          this.position = 0;\n          this.xhr = this.hooks.getRequest(this);\n\n          this.unloader = function () {\n            _this.close();\n          };\n\n          runtime.addUnloadListener(this.unloader);\n          this.xhr.open(this.method, this.url, true);\n\n          if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader('Content-Type', 'application/json');\n          }\n\n          this.xhr.send(payload);\n        };\n\n        HTTPRequest.prototype.close = function () {\n          if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n          }\n\n          if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n          }\n        };\n\n        HTTPRequest.prototype.onChunk = function (status, data) {\n          while (true) {\n            var chunk = this.advanceBuffer(data);\n\n            if (chunk) {\n              this.emit('chunk', {\n                status: status,\n                data: chunk\n              });\n            } else {\n              break;\n            }\n          }\n\n          if (this.isBufferTooLong(data)) {\n            this.emit('buffer_too_long');\n          }\n        };\n\n        HTTPRequest.prototype.advanceBuffer = function (buffer) {\n          var unreadData = buffer.slice(this.position);\n          var endOfLinePosition = unreadData.indexOf('\\n');\n\n          if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n          } else {\n            return null;\n          }\n        };\n\n        HTTPRequest.prototype.isBufferTooLong = function (buffer) {\n          return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n        };\n\n        return HTTPRequest;\n      }(dispatcher);\n      /* harmony default export */\n\n\n      var http_request = http_request_HTTPRequest; // CONCATENATED MODULE: ./src/core/http/state.ts\n\n      var State;\n\n      (function (State) {\n        State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n        State[State[\"OPEN\"] = 1] = \"OPEN\";\n        State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n      })(State || (State = {}));\n      /* harmony default export */\n\n\n      var state = State; // CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n      var autoIncrement = 1;\n\n      var http_socket_HTTPSocket = function () {\n        function HTTPSocket(hooks, url) {\n          this.hooks = hooks;\n          this.session = randomNumber(1000) + '/' + randomString(8);\n          this.location = getLocation(url);\n          this.readyState = state.CONNECTING;\n          this.openStream();\n        }\n\n        HTTPSocket.prototype.send = function (payload) {\n          return this.sendRaw(JSON.stringify([payload]));\n        };\n\n        HTTPSocket.prototype.ping = function () {\n          this.hooks.sendHeartbeat(this);\n        };\n\n        HTTPSocket.prototype.close = function (code, reason) {\n          this.onClose(code, reason, true);\n        };\n\n        HTTPSocket.prototype.sendRaw = function (payload) {\n          if (this.readyState === state.OPEN) {\n            try {\n              runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n              return true;\n            } catch (e) {\n              return false;\n            }\n          } else {\n            return false;\n          }\n        };\n\n        HTTPSocket.prototype.reconnect = function () {\n          this.closeStream();\n          this.openStream();\n        };\n\n        HTTPSocket.prototype.onClose = function (code, reason, wasClean) {\n          this.closeStream();\n          this.readyState = state.CLOSED;\n\n          if (this.onclose) {\n            this.onclose({\n              code: code,\n              reason: reason,\n              wasClean: wasClean\n            });\n          }\n        };\n\n        HTTPSocket.prototype.onChunk = function (chunk) {\n          if (chunk.status !== 200) {\n            return;\n          }\n\n          if (this.readyState === state.OPEN) {\n            this.onActivity();\n          }\n\n          var payload;\n          var type = chunk.data.slice(0, 1);\n\n          switch (type) {\n            case 'o':\n              payload = JSON.parse(chunk.data.slice(1) || '{}');\n              this.onOpen(payload);\n              break;\n\n            case 'a':\n              payload = JSON.parse(chunk.data.slice(1) || '[]');\n\n              for (var i = 0; i < payload.length; i++) {\n                this.onEvent(payload[i]);\n              }\n\n              break;\n\n            case 'm':\n              payload = JSON.parse(chunk.data.slice(1) || 'null');\n              this.onEvent(payload);\n              break;\n\n            case 'h':\n              this.hooks.onHeartbeat(this);\n              break;\n\n            case 'c':\n              payload = JSON.parse(chunk.data.slice(1) || '[]');\n              this.onClose(payload[0], payload[1], true);\n              break;\n          }\n        };\n\n        HTTPSocket.prototype.onOpen = function (options) {\n          if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n              this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n\n            this.readyState = state.OPEN;\n\n            if (this.onopen) {\n              this.onopen();\n            }\n          } else {\n            this.onClose(1006, 'Server lost session', true);\n          }\n        };\n\n        HTTPSocket.prototype.onEvent = function (event) {\n          if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({\n              data: event\n            });\n          }\n        };\n\n        HTTPSocket.prototype.onActivity = function () {\n          if (this.onactivity) {\n            this.onactivity();\n          }\n        };\n\n        HTTPSocket.prototype.onError = function (error) {\n          if (this.onerror) {\n            this.onerror(error);\n          }\n        };\n\n        HTTPSocket.prototype.openStream = function () {\n          var _this = this;\n\n          this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n          this.stream.bind('chunk', function (chunk) {\n            _this.onChunk(chunk);\n          });\n          this.stream.bind('finished', function (status) {\n            _this.hooks.onFinished(_this, status);\n          });\n          this.stream.bind('buffer_too_long', function () {\n            _this.reconnect();\n          });\n\n          try {\n            this.stream.start();\n          } catch (error) {\n            util.defer(function () {\n              _this.onError(error);\n\n              _this.onClose(1006, 'Could not start streaming', false);\n            });\n          }\n        };\n\n        HTTPSocket.prototype.closeStream = function () {\n          if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n          }\n        };\n\n        return HTTPSocket;\n      }();\n\n      function getLocation(url) {\n        var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n        return {\n          base: parts[1],\n          queryString: parts[2]\n        };\n      }\n\n      function getSendURL(url, session) {\n        return url.base + '/' + session + '/xhr_send';\n      }\n\n      function getUniqueURL(url) {\n        var separator = url.indexOf('?') === -1 ? '?' : '&';\n        return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n      }\n\n      function replaceHost(url, hostname) {\n        var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n        return urlParts[1] + hostname + urlParts[3];\n      }\n\n      function randomNumber(max) {\n        return Math.floor(Math.random() * max);\n      }\n\n      function randomString(length) {\n        var result = [];\n\n        for (var i = 0; i < length; i++) {\n          result.push(randomNumber(32).toString(32));\n        }\n\n        return result.join('');\n      }\n      /* harmony default export */\n\n\n      var http_socket = http_socket_HTTPSocket; // CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\n\n      var http_streaming_socket_hooks = {\n        getReceiveURL: function getReceiveURL(url, session) {\n          return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n        },\n        onHeartbeat: function onHeartbeat(socket) {\n          socket.sendRaw('[]');\n        },\n        sendHeartbeat: function sendHeartbeat(socket) {\n          socket.sendRaw('[]');\n        },\n        onFinished: function onFinished(socket, status) {\n          socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n        }\n      };\n      /* harmony default export */\n\n      var http_streaming_socket = http_streaming_socket_hooks; // CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\n\n      var http_polling_socket_hooks = {\n        getReceiveURL: function getReceiveURL(url, session) {\n          return url.base + '/' + session + '/xhr' + url.queryString;\n        },\n        onHeartbeat: function onHeartbeat() {},\n        sendHeartbeat: function sendHeartbeat(socket) {\n          socket.sendRaw('[]');\n        },\n        onFinished: function onFinished(socket, status) {\n          if (status === 200) {\n            socket.reconnect();\n          } else {\n            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n          }\n        }\n      };\n      /* harmony default export */\n\n      var http_polling_socket = http_polling_socket_hooks; // CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\n      var http_xhr_request_hooks = {\n        getRequest: function getRequest(socket) {\n          var Constructor = runtime.getXHRAPI();\n          var xhr = new Constructor();\n\n          xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n              case 3:\n                if (xhr.responseText && xhr.responseText.length > 0) {\n                  socket.onChunk(xhr.status, xhr.responseText);\n                }\n\n                break;\n\n              case 4:\n                if (xhr.responseText && xhr.responseText.length > 0) {\n                  socket.onChunk(xhr.status, xhr.responseText);\n                }\n\n                socket.emit('finished', xhr.status);\n                socket.close();\n                break;\n            }\n          };\n\n          return xhr;\n        },\n        abortRequest: function abortRequest(xhr) {\n          xhr.onreadystatechange = null;\n          xhr.abort();\n        }\n      };\n      /* harmony default export */\n\n      var http_xhr_request = http_xhr_request_hooks; // CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n      var HTTP = {\n        createStreamingSocket: function createStreamingSocket(url) {\n          return this.createSocket(http_streaming_socket, url);\n        },\n        createPollingSocket: function createPollingSocket(url) {\n          return this.createSocket(http_polling_socket, url);\n        },\n        createSocket: function createSocket(hooks, url) {\n          return new http_socket(hooks, url);\n        },\n        createXHR: function createXHR(method, url) {\n          return this.createRequest(http_xhr_request, method, url);\n        },\n        createRequest: function createRequest(hooks, method, url) {\n          return new http_request(hooks, method, url);\n        }\n      };\n      /* harmony default export */\n\n      var http_http = HTTP; // CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n      http_http.createXDR = function (method, url) {\n        return this.createRequest(http_xdomain_request, method, url);\n      };\n      /* harmony default export */\n\n\n      var web_http_http = http_http; // CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n      var Runtime = {\n        nextAuthCallbackID: 1,\n        auth_callbacks: {},\n        ScriptReceivers: ScriptReceivers,\n        DependenciesReceivers: DependenciesReceivers,\n        getDefaultStrategy: default_strategy,\n        Transports: transports_transports,\n        transportConnectionInitializer: transport_connection_initializer,\n        HTTPFactory: web_http_http,\n        TimelineTransport: jsonp_timeline,\n        getXHRAPI: function getXHRAPI() {\n          return window.XMLHttpRequest;\n        },\n        getWebSocketAPI: function getWebSocketAPI() {\n          return window.WebSocket || window.MozWebSocket;\n        },\n        setup: function setup(PusherClass) {\n          var _this = this;\n\n          window.Pusher = PusherClass;\n\n          var initializeOnDocumentBody = function initializeOnDocumentBody() {\n            _this.onDocumentBody(PusherClass.ready);\n          };\n\n          if (!window.JSON) {\n            Dependencies.load('json2', {}, initializeOnDocumentBody);\n          } else {\n            initializeOnDocumentBody();\n          }\n        },\n        getDocument: function getDocument() {\n          return document;\n        },\n        getProtocol: function getProtocol() {\n          return this.getDocument().location.protocol;\n        },\n        getAuthorizers: function getAuthorizers() {\n          return {\n            ajax: xhr_auth,\n            jsonp: jsonp_auth\n          };\n        },\n        onDocumentBody: function onDocumentBody(callback) {\n          var _this = this;\n\n          if (document.body) {\n            callback();\n          } else {\n            setTimeout(function () {\n              _this.onDocumentBody(callback);\n            }, 0);\n          }\n        },\n        createJSONPRequest: function createJSONPRequest(url, data) {\n          return new jsonp_request(url, data);\n        },\n        createScriptRequest: function createScriptRequest(src) {\n          return new script_request(src);\n        },\n        getLocalStorage: function getLocalStorage() {\n          try {\n            return window.localStorage;\n          } catch (e) {\n            return undefined;\n          }\n        },\n        createXHR: function createXHR() {\n          if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n          } else {\n            return this.createMicrosoftXHR();\n          }\n        },\n        createXMLHttpRequest: function createXMLHttpRequest() {\n          var Constructor = this.getXHRAPI();\n          return new Constructor();\n        },\n        createMicrosoftXHR: function createMicrosoftXHR() {\n          return new ActiveXObject('Microsoft.XMLHTTP');\n        },\n        getNetwork: function getNetwork() {\n          return net_info_Network;\n        },\n        createWebSocket: function createWebSocket(url) {\n          var Constructor = this.getWebSocketAPI();\n          return new Constructor(url);\n        },\n        createSocketRequest: function createSocketRequest(method, url) {\n          if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n          } else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n          } else {\n            throw 'Cross-origin HTTP requests are not supported';\n          }\n        },\n        isXHRSupported: function isXHRSupported() {\n          var Constructor = this.getXHRAPI();\n          return Boolean(Constructor) && new Constructor().withCredentials !== undefined;\n        },\n        isXDRSupported: function isXDRSupported(useTLS) {\n          var protocol = useTLS ? 'https:' : 'http:';\n          var documentProtocol = this.getProtocol();\n          return Boolean(window['XDomainRequest']) && documentProtocol === protocol;\n        },\n        addUnloadListener: function addUnloadListener(listener) {\n          if (window.addEventListener !== undefined) {\n            window.addEventListener('unload', listener, false);\n          } else if (window.attachEvent !== undefined) {\n            window.attachEvent('onunload', listener);\n          }\n        },\n        removeUnloadListener: function removeUnloadListener(listener) {\n          if (window.addEventListener !== undefined) {\n            window.removeEventListener('unload', listener, false);\n          } else if (window.detachEvent !== undefined) {\n            window.detachEvent('onunload', listener);\n          }\n        }\n      };\n      /* harmony default export */\n\n      var runtime = Runtime; // CONCATENATED MODULE: ./src/core/timeline/level.ts\n\n      var TimelineLevel;\n\n      (function (TimelineLevel) {\n        TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n        TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n        TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n      })(TimelineLevel || (TimelineLevel = {}));\n      /* harmony default export */\n\n\n      var timeline_level = TimelineLevel; // CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n      var timeline_Timeline = function () {\n        function Timeline(key, session, options) {\n          this.key = key;\n          this.session = session;\n          this.events = [];\n          this.options = options || {};\n          this.sent = 0;\n          this.uniqueID = 0;\n        }\n\n        Timeline.prototype.log = function (level, event) {\n          if (level <= this.options.level) {\n            this.events.push(extend({}, event, {\n              timestamp: util.now()\n            }));\n\n            if (this.options.limit && this.events.length > this.options.limit) {\n              this.events.shift();\n            }\n          }\n        };\n\n        Timeline.prototype.error = function (event) {\n          this.log(timeline_level.ERROR, event);\n        };\n\n        Timeline.prototype.info = function (event) {\n          this.log(timeline_level.INFO, event);\n        };\n\n        Timeline.prototype.debug = function (event) {\n          this.log(timeline_level.DEBUG, event);\n        };\n\n        Timeline.prototype.isEmpty = function () {\n          return this.events.length === 0;\n        };\n\n        Timeline.prototype.send = function (sendfn, callback) {\n          var _this = this;\n\n          var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: 'js',\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events\n          }, this.options.params);\n          this.events = [];\n          sendfn(data, function (error, result) {\n            if (!error) {\n              _this.sent++;\n            }\n\n            if (callback) {\n              callback(error, result);\n            }\n          });\n          return true;\n        };\n\n        Timeline.prototype.generateUniqueID = function () {\n          this.uniqueID++;\n          return this.uniqueID;\n        };\n\n        return Timeline;\n      }();\n      /* harmony default export */\n\n\n      var timeline_timeline = timeline_Timeline; // CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n      var transport_strategy_TransportStrategy = function () {\n        function TransportStrategy(name, priority, transport, options) {\n          this.name = name;\n          this.priority = priority;\n          this.transport = transport;\n          this.options = options || {};\n        }\n\n        TransportStrategy.prototype.isSupported = function () {\n          return this.transport.isSupported({\n            useTLS: this.options.useTLS\n          });\n        };\n\n        TransportStrategy.prototype.connect = function (minPriority, callback) {\n          var _this = this;\n\n          if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n          } else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n          }\n\n          var connected = false;\n          var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n          var handshake = null;\n\n          var onInitialized = function onInitialized() {\n            transport.unbind('initialized', onInitialized);\n            transport.connect();\n          };\n\n          var onOpen = function onOpen() {\n            handshake = factory.createHandshake(transport, function (result) {\n              connected = true;\n              unbindListeners();\n              callback(null, result);\n            });\n          };\n\n          var onError = function onError(error) {\n            unbindListeners();\n            callback(error);\n          };\n\n          var onClosed = function onClosed() {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n          };\n\n          var unbindListeners = function unbindListeners() {\n            transport.unbind('initialized', onInitialized);\n            transport.unbind('open', onOpen);\n            transport.unbind('error', onError);\n            transport.unbind('closed', onClosed);\n          };\n\n          transport.bind('initialized', onInitialized);\n          transport.bind('open', onOpen);\n          transport.bind('error', onError);\n          transport.bind('closed', onClosed);\n          transport.initialize();\n          return {\n            abort: function abort() {\n              if (connected) {\n                return;\n              }\n\n              unbindListeners();\n\n              if (handshake) {\n                handshake.close();\n              } else {\n                transport.close();\n              }\n            },\n            forceMinPriority: function forceMinPriority(p) {\n              if (connected) {\n                return;\n              }\n\n              if (_this.priority < p) {\n                if (handshake) {\n                  handshake.close();\n                } else {\n                  transport.close();\n                }\n              }\n            }\n          };\n        };\n\n        return TransportStrategy;\n      }();\n      /* harmony default export */\n\n\n      var transport_strategy = transport_strategy_TransportStrategy;\n\n      function failAttempt(error, callback) {\n        util.defer(function () {\n          callback(error);\n        });\n        return {\n          abort: function abort() {},\n          forceMinPriority: function forceMinPriority() {}\n        };\n      } // CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n      var strategy_builder_Transports = runtime.Transports;\n\n      var strategy_builder_defineTransport = function strategy_builder_defineTransport(config, name, type, priority, options, manager) {\n        var transportClass = strategy_builder_Transports[type];\n\n        if (!transportClass) {\n          throw new UnsupportedTransport(type);\n        }\n\n        var enabled = (!config.enabledTransports || arrayIndexOf(config.enabledTransports, name) !== -1) && (!config.disabledTransports || arrayIndexOf(config.disabledTransports, name) === -1);\n        var transport;\n\n        if (enabled) {\n          transport = new transport_strategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, extend({\n            key: config.key,\n            useTLS: config.useTLS,\n            timeline: config.timeline,\n            ignoreNullOrigin: config.ignoreNullOrigin\n          }, options));\n        } else {\n          transport = strategy_builder_UnsupportedStrategy;\n        }\n\n        return transport;\n      };\n\n      var strategy_builder_UnsupportedStrategy = {\n        isSupported: function isSupported() {\n          return false;\n        },\n        connect: function connect(_, callback) {\n          var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n          });\n          return {\n            abort: function abort() {\n              deferred.ensureAborted();\n            },\n            forceMinPriority: function forceMinPriority() {}\n          };\n        }\n      }; // CONCATENATED MODULE: ./src/core/config.ts\n\n      var getGlobalConfig = function getGlobalConfig() {\n        return {\n          wsHost: defaults.host,\n          wsPort: defaults.ws_port,\n          wssPort: defaults.wss_port,\n          wsPath: defaults.ws_path,\n          httpHost: defaults.sockjs_host,\n          httpPort: defaults.sockjs_http_port,\n          httpsPort: defaults.sockjs_https_port,\n          httpPath: defaults.sockjs_path,\n          statsHost: defaults.stats_host,\n          authEndpoint: defaults.channel_auth_endpoint,\n          authTransport: defaults.channel_auth_transport,\n          activity_timeout: defaults.activity_timeout,\n          pong_timeout: defaults.pong_timeout,\n          unavailable_timeout: defaults.unavailable_timeout\n        };\n      };\n\n      var getClusterConfig = function getClusterConfig(clusterName) {\n        return {\n          wsHost: 'ws-' + clusterName + '.pusher.com',\n          httpHost: 'sockjs-' + clusterName + '.pusher.com'\n        };\n      }; // CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n      var pusher_Pusher = function () {\n        function Pusher(app_key, options) {\n          var _this = this;\n\n          checkAppKey(app_key);\n          options = options || {};\n\n          if (!options.cluster && !(options.wsHost || options.httpHost)) {\n            var suffix = url_store.buildLogSuffix('javascriptQuickStart');\n            logger.warn(\"You should always specify a cluster when connecting. \" + suffix);\n          }\n\n          if ('disableStats' in options) {\n            logger.warn('The disableStats option is deprecated in favor of enableStats');\n\n            if (!('enableStats' in options)) {\n              options.enableStats = !options.disableStats;\n            }\n          }\n\n          this.key = app_key;\n          this.config = extend(getGlobalConfig(), options.cluster ? getClusterConfig(options.cluster) : {}, options);\n          this.channels = factory.createChannels();\n          this.global_emitter = new dispatcher();\n          this.sessionID = Math.floor(Math.random() * 1000000000);\n          this.timeline = new timeline_timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION\n          });\n\n          if (this.config.enableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n              host: this.config.statsHost,\n              path: '/timeline/v2/' + runtime.TimelineTransport.name\n            });\n          }\n\n          var getStrategy = function getStrategy(options) {\n            var config = extend({}, _this.config, options);\n            return runtime.getDefaultStrategy(config, strategy_builder_defineTransport);\n          };\n\n          this.connection = factory.createConnectionManager(this.key, extend({\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activity_timeout,\n            pongTimeout: this.config.pong_timeout,\n            unavailableTimeout: this.config.unavailable_timeout\n          }, this.config, {\n            useTLS: this.shouldUseTLS()\n          }));\n          this.connection.bind('connected', function () {\n            _this.subscribeAll();\n\n            if (_this.timelineSender) {\n              _this.timelineSender.send(_this.connection.isUsingTLS());\n            }\n          });\n          this.connection.bind('message', function (event) {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n\n            if (event.channel) {\n              var channel = _this.channel(event.channel);\n\n              if (channel) {\n                channel.handleEvent(event);\n              }\n            }\n\n            if (!internal) {\n              _this.global_emitter.emit(event.event, event.data);\n            }\n          });\n          this.connection.bind('connecting', function () {\n            _this.channels.disconnect();\n          });\n          this.connection.bind('disconnected', function () {\n            _this.channels.disconnect();\n          });\n          this.connection.bind('error', function (err) {\n            logger.warn(err);\n          });\n          Pusher.instances.push(this);\n          this.timeline.info({\n            instances: Pusher.instances.length\n          });\n\n          if (Pusher.isReady) {\n            this.connect();\n          }\n        }\n\n        Pusher.ready = function () {\n          Pusher.isReady = true;\n\n          for (var i = 0, l = Pusher.instances.length; i < l; i++) {\n            Pusher.instances[i].connect();\n          }\n        };\n\n        Pusher.getClientFeatures = function () {\n          return keys(filterObject({\n            ws: runtime.Transports.ws\n          }, function (t) {\n            return t.isSupported({});\n          }));\n        };\n\n        Pusher.prototype.channel = function (name) {\n          return this.channels.find(name);\n        };\n\n        Pusher.prototype.allChannels = function () {\n          return this.channels.all();\n        };\n\n        Pusher.prototype.connect = function () {\n          this.connection.connect();\n\n          if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n              var usingTLS = this.connection.isUsingTLS();\n              var timelineSender = this.timelineSender;\n              this.timelineSenderTimer = new PeriodicTimer(60000, function () {\n                timelineSender.send(usingTLS);\n              });\n            }\n          }\n        };\n\n        Pusher.prototype.disconnect = function () {\n          this.connection.disconnect();\n\n          if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n          }\n        };\n\n        Pusher.prototype.bind = function (event_name, callback, context) {\n          this.global_emitter.bind(event_name, callback, context);\n          return this;\n        };\n\n        Pusher.prototype.unbind = function (event_name, callback, context) {\n          this.global_emitter.unbind(event_name, callback, context);\n          return this;\n        };\n\n        Pusher.prototype.bind_global = function (callback) {\n          this.global_emitter.bind_global(callback);\n          return this;\n        };\n\n        Pusher.prototype.unbind_global = function (callback) {\n          this.global_emitter.unbind_global(callback);\n          return this;\n        };\n\n        Pusher.prototype.unbind_all = function (callback) {\n          this.global_emitter.unbind_all();\n          return this;\n        };\n\n        Pusher.prototype.subscribeAll = function () {\n          var channelName;\n\n          for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n              this.subscribe(channelName);\n            }\n          }\n        };\n\n        Pusher.prototype.subscribe = function (channel_name) {\n          var channel = this.channels.add(channel_name, this);\n\n          if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n          } else if (!channel.subscriptionPending && this.connection.state === 'connected') {\n            channel.subscribe();\n          }\n\n          return channel;\n        };\n\n        Pusher.prototype.unsubscribe = function (channel_name) {\n          var channel = this.channels.find(channel_name);\n\n          if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n          } else {\n            channel = this.channels.remove(channel_name);\n\n            if (channel && this.connection.state === 'connected') {\n              channel.unsubscribe();\n            }\n          }\n        };\n\n        Pusher.prototype.send_event = function (event_name, data, channel) {\n          return this.connection.send_event(event_name, data, channel);\n        };\n\n        Pusher.prototype.shouldUseTLS = function () {\n          if (runtime.getProtocol() === 'https:') {\n            return true;\n          } else if (this.config.forceTLS === true) {\n            return true;\n          } else {\n            return Boolean(this.config.encrypted);\n          }\n        };\n\n        Pusher.instances = [];\n        Pusher.isReady = false;\n        Pusher.logToConsole = false;\n        Pusher.Runtime = runtime;\n        Pusher.ScriptReceivers = runtime.ScriptReceivers;\n        Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\n        Pusher.auth_callbacks = runtime.auth_callbacks;\n        return Pusher;\n      }();\n      /* harmony default export */\n\n\n      var core_pusher = __webpack_exports__[\"default\"] = pusher_Pusher;\n\n      function checkAppKey(key) {\n        if (key === null || key === undefined) {\n          throw 'You must pass your app key when you instantiate Pusher.';\n        }\n      }\n\n      runtime.setup(pusher_Pusher);\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["/home/youpeng.huang/test/react-native/my-app/node_modules/pusher-js/dist/web/pusher.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","nacl","gf","init","Float64Array","length","randombytes","Error","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","vn","xi","y","yi","crypto_verify_16","crypto_verify_32","core_salsa20","k","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","u","core_hsalsa20","crypto_core_salsa20","out","inp","crypto_core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","b","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","buffer","Uint16Array","pad","leftover","fin","t0","t1","t2","t3","t4","t5","t6","t7","blocks","bytes","hibit","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","finish","mac","macpos","g","mask","f","update","want","crypto_onetimeauth","outpos","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","a","car25519","v","Math","floor","sel25519","q","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","e","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","crypto_box_afternm","crypto_box_open_afternm","crypto_box","crypto_box_open","K","crypto_hashblocks_hl","hh","hl","wh","Int32Array","wl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","unpackneg","chk","num","den","den2","den4","den6","crypto_sign_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","lowlevel","checkLengths","checkBoxLengths","checkArrayTypes","arguments","TypeError","cleanup","arr","randomBytes","secretbox","msg","nonce","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","publicKey","secretKey","before","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hash","hashLength","setPRNG","fn","crypto","self","msCrypto","getRandomValues","QUOTA","min","util","validateBase64","test","decodeUTF8","unescape","encodeURIComponent","charCodeAt","encodeUTF8","push","String","fromCharCode","decodeURIComponent","escape","join","atob","Buffer","from","encodeBase64","toString","decodeBase64","Array","slice","len","btoa","default","__webpack_exports__","ScriptReceiverFactory","prefix","lastId","callback","number","id","called","callbackWrapper","apply","remove","receiver","ScriptReceivers","Defaults","VERSION","PROTOCOL","host","ws_port","wss_port","ws_path","sockjs_host","sockjs_http_port","sockjs_https_port","sockjs_path","stats_host","channel_auth_endpoint","channel_auth_transport","activity_timeout","pong_timeout","unavailable_timeout","cdn_http","cdn_https","dependency_suffix","defaults","dependency_loader_DependencyLoader","DependencyLoader","options","receivers","loading","load","request","runtime","createScriptRequest","getPath","error","callbacks","successCallback","wasSuccessful","send","getRoot","cdn","protocol","getDocument","location","useTLS","replace","version","suffix","dependency_loader","DependenciesReceivers","Dependencies","encode","utob","b64chars","b64tab","base64_i","charAt","cb_utob","cc","cb_encode","ccc","padlen","ord","chars","Timer","set","clear","delay","_this","timer","isRunning","ensureAborted","abstract_timer","__extends","undefined","extendStatics","setPrototypeOf","__proto__","__","constructor","timers_clearTimeout","clearTimeout","timers_clearInterval","clearInterval","OneOffTimer","_super","setTimeout","PeriodicTimer","setInterval","Util","now","Date","valueOf","defer","method","args","_i","boundArguments","concat","extend","target","sources","extensions","stringify","safeJSONStringify","arrayIndexOf","array","item","nativeIndexOf","indexOf","objectApply","keys","_","values","context","map","result","mapObject","filter","filterObject","Boolean","flatten","any","collections_all","encodeParamsObject","data","buildQueryString","params","query","decycleObject","objects","paths","derez","path","nu","$ref","JSON","source","logger_Logger","Logger","globalLog","message","console","log","debug","warn","globalLogWarn","globalLogError","defaultLoggingFunction","core_pusher","logToConsole","logger","urlStore","baseUrl","urls","authenticationEndpoint","javascriptQuickStart","triggeringClientEvents","buildLogSuffix","urlPrefix","urlObj","url","fullUrl","url_store","ajax","socketId","xhr","createXHR","authEndpoint","setRequestHeader","headerName","authOptions","headers","onreadystatechange","readyState","status","parsed","parse","responseText","composeQuery","xhr_auth","jsonp","callbackName","nextAuthCallbackID","document","script","createElement","auth_callbacks","callback_name","src","head","getElementsByTagName","documentElement","insertBefore","firstChild","jsonp_auth","ScriptRequest","errorString","type","charset","addEventListener","onerror","onload","async","attachEvent","navigator","userAgent","errorScript","text","nextSibling","parentNode","removeChild","script_request","jsonp_request_JSONPRequest","JSONPRequest","jsonp_request","getAgent","sender","scheme","createJSONPRequest","jsonp_timeline_jsonp","jsonp_timeline","getGenericURL","baseScheme","hostTLS","hostNonTLS","getGenericPath","queryString","ws","getInitial","httpPath","http","sockjs","callback_registry_CallbackRegistry","CallbackRegistry","_callbacks","prefixedEventName","names","removeCallback","removeAllCallbacks","binding","callback_registry","dispatcher_Dispatcher","Dispatcher","failThrough","global_callbacks","eventName","bind_global","unbind","unbind_global","unbind_all","emit","metadata","dispatcher","transport_connection_extends","transport_connection_TransportConnection","TransportConnection","hooks","priority","initialize","transportConnectionInitializer","state","timeline","activityTimeout","generateUniqueID","handlesActivityChecks","supportsPing","connect","socket","getSocket","onError","changeState","bindListeners","transport","close","ping","onOpen","beforeOpen","onopen","buildTimelineMessage","onClose","closeEvent","code","reason","wasClean","unbindListeners","onMessage","onActivity","onclose","onmessage","onactivity","info","cid","transport_connection","transport_Transport","Transport","isSupported","environment","createConnection","transports_transport","WSTransport","isInitialized","getWebSocketAPI","createWebSocket","httpConfiguration","streamingConfiguration","HTTPFactory","createStreamingSocket","pollingConfiguration","createPollingSocket","xhrConfiguration","isXHRSupported","XHRStreamingTransport","XHRPollingTransport","Transports","xhr_streaming","xhr_polling","transports","SockJSTransport","file","SockJS","js_path","ignore_null_origin","ignoreNullOrigin","xdrConfiguration","yes","isXDRSupported","XDRStreamingTransport","XDRPollingTransport","xdr_streaming","xdr_polling","transports_transports","net_info_extends","NetInfo","isOnline","onLine","net_info_Network","assistant_to_the_transport_manager_AssistantToTheTransportManager","AssistantToTheTransportManager","manager","minPingDelay","maxPingDelay","pingDelay","connection","openTimestamp","onClosed","reportDeath","lifespan","max","isAlive","assistant_to_the_transport_manager","Protocol","decodeMessage","messageEvent","messageData","pusherEventData","pusherEvent","event","channel","user_id","encodeMessage","processHandshake","action","socket_id","getCloseAction","getCloseError","protocol_protocol","connection_extends","connection_Connection","Connection","send_event","listeners","activity","closed","handleCloseEvent","listener","connection_connection","handshake_Handshake","Handshake","connection_handshake","pusher_authorizer_PusherAuthorizer","PusherAuthorizer","authTransport","getAuthorizers","auth","authorize","authorizers","pusher_authorizer","timeline_sender_TimelineSender","TimelineSender","isEmpty","TimelineTransport","timeline_sender","errors_extends","BadEventName","_newTarget","RequestTimedOut","TransportPriorityTooLow","TransportClosed","UnsupportedFeature","UnsupportedTransport","UnsupportedStrategy","channel_extends","channel_Channel","Channel","pusher","subscribed","subscriptionPending","subscriptionCancelled","trigger","disconnect","handleEvent","handleSubscriptionSucceededEvent","unsubscribe","subscribe","channel_data","cancelSubscription","reinstateSubscription","channels_channel","private_channel_extends","private_channel_PrivateChannel","PrivateChannel","authorizer","createAuthorizer","config","private_channel","members_Members","Members","reset","members","each","member","setMyID","myID","onSubscription","subscriptionData","presence","count","me","addMember","memberData","user_info","removeMember","presence_channel_extends","presence_channel_PresenceChannel","PresenceChannel","authData","channelData","handleInternalEvent","addedMember","removedMember","presence_channel","nacl_fast","nacl_util","encrypted_channel_extends","encrypted_channel_EncryptedChannel","EncryptedChannel","sharedSecret","errorMsg","handleEncryptedEvent","ciphertext","cipherText","emitJSON","encrypted_channel","connection_manager_extends","connection_manager_ConnectionManager","ConnectionManager","usingTLS","errorCallbacks","buildErrorCallbacks","connectionCallbacks","buildConnectionCallbacks","handshakeCallbacks","buildHandshakeCallbacks","Network","getNetwork","netinfo","retryIn","sendActivityCheck","updateStrategy","runner","strategy","updateState","startConnecting","setUnavailableTimer","disconnectInternally","isUsingTLS","handshake","handshakeError","abortConnecting","abort","clearRetryTimer","clearUnavailableTimer","abandonConnection","getStrategy","round","retryTimer","unavailableTimer","unavailableTimeout","stopActivityCheck","activityTimer","pongTimeout","pong_timed_out","resetActivityCheck","shouldRetry","connected","Infinity","setConnection","withErrorEmitted","tls_only","refused","backoff","retry","newState","previousState","newStateDescription","previous","current","connection_manager","channels_Channels","Channels","channels","createChannel","all","find","createEncryptedChannel","createPrivateChannel","createPresenceChannel","Factory","createChannels","createConnectionManager","createTimelineSender","createHandshake","createAssistantToTheTransportManager","transport_manager_TransportManager","TransportManager","livesLeft","lives","getAssistant","transport_manager","sequential_strategy_SequentialStrategy","SequentialStrategy","strategies","loop","failFast","timeout","timeoutLimit","minPriority","tryNextStrategy","tryStrategy","forceMinPriority","sequential_strategy","best_connected_ever_strategy_BestConnectedEverStrategy","BestConnectedEverStrategy","runners","allRunnersFailed","best_connected_ever_strategy","callbackBuilder","rs","abortRunner","aborted","cached_strategy_CachedStrategy","CachedStrategy","ttl","fetchTransportCache","timestamp","cached","latency","startTimestamp","pop","cb","flushTransportCache","storeTransportCache","cached_strategy","getTransportCacheKey","storage","getLocalStorage","serializedCache","delayed_strategy_DelayedStrategy","DelayedStrategy","_a","delayed_strategy","IfStrategy","trueBranch","falseBranch","branch","if_strategy","FirstConnectedStrategy","first_connected_strategy","testSupportsStrategy","getDefaultStrategy","defineTransport","definedTransports","defineTransportStrategy","ws_options","wsHost","wsPort","wssPort","wsPath","wss_options","sockjs_options","httpHost","httpPort","httpsPort","timeouts","ws_manager","streaming_manager","ws_transport","wss_transport","sockjs_transport","xhr_streaming_transport","xdr_streaming_transport","xhr_polling_transport","xdr_polling_transport","ws_loop","wss_loop","sockjs_loop","streaming_loop","polling_loop","http_loop","http_fallback_loop","wsStrategy","default_strategy","transport_connection_initializer","http_xdomain_request_hooks","getRequest","xdr","XDomainRequest","ontimeout","onprogress","onChunk","abortRequest","http_xdomain_request","http_request_extends","MAX_BUFFER_LENGTH","http_request_HTTPRequest","HTTPRequest","start","payload","position","unloader","addUnloadListener","removeUnloadListener","chunk","advanceBuffer","isBufferTooLong","unreadData","endOfLinePosition","http_request","State","autoIncrement","http_socket_HTTPSocket","HTTPSocket","session","randomNumber","randomString","getLocation","CONNECTING","openStream","sendRaw","sendHeartbeat","OPEN","createSocketRequest","getUniqueURL","getSendURL","reconnect","closeStream","CLOSED","onEvent","onHeartbeat","hostname","replaceHost","stream","getReceiveURL","onFinished","parts","exec","separator","urlParts","random","http_socket","http_streaming_socket_hooks","http_streaming_socket","http_polling_socket_hooks","http_polling_socket","http_xhr_request_hooks","Constructor","getXHRAPI","http_xhr_request","HTTP","createSocket","createRequest","http_http","createXDR","web_http_http","Runtime","XMLHttpRequest","WebSocket","MozWebSocket","setup","PusherClass","Pusher","initializeOnDocumentBody","onDocumentBody","ready","getProtocol","body","localStorage","createXMLHttpRequest","createMicrosoftXHR","ActiveXObject","withCredentials","documentProtocol","removeEventListener","detachEvent","TimelineLevel","timeline_level","timeline_Timeline","Timeline","events","sent","uniqueID","level","limit","shift","ERROR","INFO","DEBUG","sendfn","bundle","lib","cluster","features","timeline_timeline","transport_strategy_TransportStrategy","TransportStrategy","failAttempt","onInitialized","serializedTransport","transport_strategy","strategy_builder_Transports","strategy_builder_defineTransport","transportClass","enabled","enabledTransports","disabledTransports","strategy_builder_UnsupportedStrategy","deferred","getGlobalConfig","statsHost","getClusterConfig","clusterName","pusher_Pusher","app_key","checkAppKey","enableStats","disableStats","global_emitter","sessionID","getClientFeatures","timelineParams","timelineSender","shouldUseTLS","subscribeAll","internal","err","instances","isReady","allChannels","timelineSenderTimer","event_name","channelName","channel_name","forceTLS","encrypted"],"mappings":"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","sourcesContent":["/*!\n * Pusher JavaScript Library v5.1.1\n * https://pusher.com/\n *\n * Copyright 2017, Pusher\n * Released under the MIT licence.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Pusher\"] = factory();\n\telse\n\t\troot[\"Pusher\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (true) {\n    // Node.js.\n    crypto = __webpack_require__(3);\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})( true && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if ( true && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// required so we don't have to do require('pusher').default etc.\nmodule.exports = __webpack_require__(4).default;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\nvar ScriptReceiverFactory = (function () {\n    function ScriptReceiverFactory(prefix, name) {\n        this.lastId = 0;\n        this.prefix = prefix;\n        this.name = name;\n    }\n    ScriptReceiverFactory.prototype.create = function (callback) {\n        this.lastId++;\n        var number = this.lastId;\n        var id = this.prefix + number;\n        var name = this.name + '[' + number + ']';\n        var called = false;\n        var callbackWrapper = function () {\n            if (!called) {\n                callback.apply(null, arguments);\n                called = true;\n            }\n        };\n        this[number] = callbackWrapper;\n        return { number: number, id: id, name: name, callback: callbackWrapper };\n    };\n    ScriptReceiverFactory.prototype.remove = function (receiver) {\n        delete this[receiver.number];\n    };\n    return ScriptReceiverFactory;\n}());\n\nvar ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers');\n\n// CONCATENATED MODULE: ./src/core/defaults.ts\nvar Defaults = {\n    VERSION: \"5.1.1\",\n    PROTOCOL: 7,\n    host: 'ws.pusherapp.com',\n    ws_port: 80,\n    wss_port: 443,\n    ws_path: '',\n    sockjs_host: 'sockjs.pusher.com',\n    sockjs_http_port: 80,\n    sockjs_https_port: 443,\n    sockjs_path: '/pusher',\n    stats_host: 'stats.pusher.com',\n    channel_auth_endpoint: '/pusher/auth',\n    channel_auth_transport: 'ajax',\n    activity_timeout: 120000,\n    pong_timeout: 30000,\n    unavailable_timeout: 10000,\n    cdn_http: \"http://js.pusher.com\",\n    cdn_https: \"https://js.pusher.com\",\n    dependency_suffix: \"\"\n};\n/* harmony default export */ var defaults = (Defaults);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n\nvar dependency_loader_DependencyLoader = (function () {\n    function DependencyLoader(options) {\n        this.options = options;\n        this.receivers = options.receivers || ScriptReceivers;\n        this.loading = {};\n    }\n    DependencyLoader.prototype.load = function (name, options, callback) {\n        var self = this;\n        if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n        }\n        else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n                self.receivers.remove(receiver);\n                if (self.loading[name]) {\n                    var callbacks = self.loading[name];\n                    delete self.loading[name];\n                    var successCallback = function (wasSuccessful) {\n                        if (!wasSuccessful) {\n                            request.cleanup();\n                        }\n                    };\n                    for (var i = 0; i < callbacks.length; i++) {\n                        callbacks[i](error, successCallback);\n                    }\n                }\n            });\n            request.send(receiver);\n        }\n    };\n    DependencyLoader.prototype.getRoot = function (options) {\n        var cdn;\n        var protocol = runtime.getDocument().location.protocol;\n        if ((options && options.useTLS) || protocol === 'https:') {\n            cdn = this.options.cdn_https;\n        }\n        else {\n            cdn = this.options.cdn_http;\n        }\n        return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n    };\n    DependencyLoader.prototype.getPath = function (name, options) {\n        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n    };\n    return DependencyLoader;\n}());\n/* harmony default export */ var dependency_loader = (dependency_loader_DependencyLoader);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n\n\nvar DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');\nvar Dependencies = new dependency_loader({\n    cdn_http: defaults.cdn_http,\n    cdn_https: defaults.cdn_https,\n    version: defaults.VERSION,\n    suffix: defaults.dependency_suffix,\n    receivers: DependenciesReceivers\n});\n\n// CONCATENATED MODULE: ./src/core/base64.ts\nfunction encode(s) {\n    return btoa(utob(s));\n}\nvar fromCharCode = String.fromCharCode;\nvar b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\nfor (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n    b64tab[b64chars.charAt(base64_i)] = base64_i;\n}\nvar cb_utob = function (c) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80\n        ? c\n        : cc < 0x800\n            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n                fromCharCode(0x80 | (cc & 0x3f));\n};\nvar utob = function (u) {\n    return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\nvar cb_encode = function (ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3];\n    var ord = (ccc.charCodeAt(0) << 16) |\n        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n    var chars = [\n        b64chars.charAt(ord >>> 18),\n        b64chars.charAt((ord >>> 12) & 63),\n        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n        padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n    ];\n    return chars.join('');\n};\nvar btoa = window.btoa ||\n    function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n\n// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\nvar Timer = (function () {\n    function Timer(set, clear, delay, callback) {\n        var _this = this;\n        this.clear = clear;\n        this.timer = set(function () {\n            if (_this.timer) {\n                _this.timer = callback(_this.timer);\n            }\n        }, delay);\n    }\n    Timer.prototype.isRunning = function () {\n        return this.timer !== null;\n    };\n    Timer.prototype.ensureAborted = function () {\n        if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n        }\n    };\n    return Timer;\n}());\n/* harmony default export */ var abstract_timer = (Timer);\n\n// CONCATENATED MODULE: ./src/core/utils/timers/index.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nfunction timers_clearTimeout(timer) {\n    window.clearTimeout(timer);\n}\nfunction timers_clearInterval(timer) {\n    window.clearInterval(timer);\n}\nvar OneOffTimer = (function (_super) {\n    __extends(OneOffTimer, _super);\n    function OneOffTimer(delay, callback) {\n        return _super.call(this, setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n        }) || this;\n    }\n    return OneOffTimer;\n}(abstract_timer));\n\nvar PeriodicTimer = (function (_super) {\n    __extends(PeriodicTimer, _super);\n    function PeriodicTimer(delay, callback) {\n        return _super.call(this, setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n        }) || this;\n    }\n    return PeriodicTimer;\n}(abstract_timer));\n\n\n// CONCATENATED MODULE: ./src/core/util.ts\n\nvar Util = {\n    now: function () {\n        if (Date.now) {\n            return Date.now();\n        }\n        else {\n            return new Date().valueOf();\n        }\n    },\n    defer: function (callback) {\n        return new OneOffTimer(0, callback);\n    },\n    method: function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var boundArguments = Array.prototype.slice.call(arguments, 1);\n        return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n        };\n    }\n};\n/* harmony default export */ var util = (Util);\n\n// CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n\nfunction extend(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < sources.length; i++) {\n        var extensions = sources[i];\n        for (var property in extensions) {\n            if (extensions[property] &&\n                extensions[property].constructor &&\n                extensions[property].constructor === Object) {\n                target[property] = extend(target[property] || {}, extensions[property]);\n            }\n            else {\n                target[property] = extensions[property];\n            }\n        }\n    }\n    return target;\n}\nfunction stringify() {\n    var m = ['Pusher'];\n    for (var i = 0; i < arguments.length; i++) {\n        if (typeof arguments[i] === 'string') {\n            m.push(arguments[i]);\n        }\n        else {\n            m.push(safeJSONStringify(arguments[i]));\n        }\n    }\n    return m.join(' : ');\n}\nfunction arrayIndexOf(array, item) {\n    var nativeIndexOf = Array.prototype.indexOf;\n    if (array === null) {\n        return -1;\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction objectApply(object, f) {\n    for (var key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n        }\n    }\n}\nfunction keys(object) {\n    var keys = [];\n    objectApply(object, function (_, key) {\n        keys.push(key);\n    });\n    return keys;\n}\nfunction values(object) {\n    var values = [];\n    objectApply(object, function (value) {\n        values.push(value);\n    });\n    return values;\n}\nfunction apply(array, f, context) {\n    for (var i = 0; i < array.length; i++) {\n        f.call(context || window, array[i], i, array);\n    }\n}\nfunction map(array, f) {\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        result.push(f(array[i], i, array, result));\n    }\n    return result;\n}\nfunction mapObject(object, f) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        result[key] = f(value);\n    });\n    return result;\n}\nfunction filter(array, test) {\n    test =\n        test ||\n            function (value) {\n                return !!value;\n            };\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n        }\n    }\n    return result;\n}\nfunction filterObject(object, test) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        if ((test && test(value, key, object, result)) || Boolean(value)) {\n            result[key] = value;\n        }\n    });\n    return result;\n}\nfunction flatten(object) {\n    var result = [];\n    objectApply(object, function (value, key) {\n        result.push([key, value]);\n    });\n    return result;\n}\nfunction any(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction collections_all(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (!test(array[i], i, array)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction encodeParamsObject(data) {\n    return mapObject(data, function (value) {\n        if (typeof value === 'object') {\n            value = safeJSONStringify(value);\n        }\n        return encodeURIComponent(encode(value.toString()));\n    });\n}\nfunction buildQueryString(data) {\n    var params = filterObject(data, function (value) {\n        return value !== undefined;\n    });\n    var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');\n    return query;\n}\nfunction decycleObject(object) {\n    var objects = [], paths = [];\n    return (function derez(value, path) {\n        var i, name, nu;\n        switch (typeof value) {\n            case 'object':\n                if (!value) {\n                    return null;\n                }\n                for (i = 0; i < objects.length; i += 1) {\n                    if (objects[i] === value) {\n                        return { $ref: paths[i] };\n                    }\n                }\n                objects.push(value);\n                paths.push(path);\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    nu = [];\n                    for (i = 0; i < value.length; i += 1) {\n                        nu[i] = derez(value[i], path + '[' + i + ']');\n                    }\n                }\n                else {\n                    nu = {};\n                    for (name in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, name)) {\n                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                        }\n                    }\n                }\n                return nu;\n            case 'number':\n            case 'string':\n            case 'boolean':\n                return value;\n        }\n    })(object, '$');\n}\nfunction safeJSONStringify(source) {\n    try {\n        return JSON.stringify(source);\n    }\n    catch (e) {\n        return JSON.stringify(decycleObject(source));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/logger.ts\n\n\nvar logger_Logger = (function () {\n    function Logger() {\n        this.globalLog = function (message) {\n            if (window.console && window.console.log) {\n                window.console.log(message);\n            }\n        };\n    }\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLog, args);\n    };\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLogWarn, args);\n    };\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLogError, args);\n    };\n    Logger.prototype.globalLogWarn = function (message) {\n        if (window.console && window.console.warn) {\n            window.console.warn(message);\n        }\n        else {\n            this.globalLog(message);\n        }\n    };\n    Logger.prototype.globalLogError = function (message) {\n        if (window.console && window.console.error) {\n            window.console.error(message);\n        }\n        else {\n            this.globalLogWarn(message);\n        }\n    };\n    Logger.prototype.log = function (defaultLoggingFunction) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var message = stringify.apply(this, arguments);\n        if (core_pusher.log) {\n            core_pusher.log(message);\n        }\n        else if (core_pusher.logToConsole) {\n            var log = defaultLoggingFunction.bind(this);\n            log(message);\n        }\n    };\n    return Logger;\n}());\n/* harmony default export */ var logger = (new logger_Logger());\n\n// CONCATENATED MODULE: ./src/core/utils/url_store.ts\nvar urlStore = {\n    baseUrl: 'https://pusher.com',\n    urls: {\n        authenticationEndpoint: {\n            path: '/docs/authenticating_users'\n        },\n        javascriptQuickStart: {\n            path: '/docs/javascript_quick_start'\n        },\n        triggeringClientEvents: {\n            path: '/docs/client_api_guide/client_events#trigger-events'\n        }\n    }\n};\nvar buildLogSuffix = function (key) {\n    var urlPrefix = 'See:';\n    var urlObj = urlStore.urls[key];\n    if (!urlObj)\n        return '';\n    var url;\n    if (urlObj.fullUrl) {\n        url = urlObj.fullUrl;\n    }\n    else if (urlObj.path) {\n        url = urlStore.baseUrl + urlObj.path;\n    }\n    if (!url)\n        return '';\n    return urlPrefix + \" \" + url;\n};\n/* harmony default export */ var url_store = ({ buildLogSuffix: buildLogSuffix });\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n\n\nvar ajax = function (context, socketId, callback) {\n    var self = this, xhr;\n    xhr = runtime.createXHR();\n    xhr.open('POST', self.options.authEndpoint, true);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    for (var headerName in this.authOptions.headers) {\n        xhr.setRequestHeader(headerName, this.authOptions.headers[headerName]);\n    }\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                var data, parsed = false;\n                try {\n                    data = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (e) {\n                    callback(true, 'JSON returned from auth endpoint was invalid, yet status code was 200. Data was: ' +\n                        xhr.responseText);\n                }\n                if (parsed) {\n                    callback(false, data);\n                }\n            }\n            else {\n                var suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                logger.error('Unable to retrieve auth string from auth endpoint - ' +\n                    (\"received status \" + xhr.status + \" from \" + self.options.authEndpoint + \". \") +\n                    (\"Clients must be authenticated to join private or presence channels. \" + suffix));\n                callback(true, xhr.status);\n            }\n        }\n    };\n    xhr.send(this.composeQuery(socketId));\n    return xhr;\n};\n/* harmony default export */ var xhr_auth = (ajax);\n\n// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\nvar jsonp = function (context, socketId, callback) {\n    if (this.authOptions.headers !== undefined) {\n        logger.warn('To send headers with the auth request, you must use AJAX, rather than JSONP.');\n    }\n    var callbackName = context.nextAuthCallbackID.toString();\n    context.nextAuthCallbackID++;\n    var document = context.getDocument();\n    var script = document.createElement('script');\n    context.auth_callbacks[callbackName] = function (data) {\n        callback(false, data);\n    };\n    var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n    script.src =\n        this.options.authEndpoint +\n            '?callback=' +\n            encodeURIComponent(callback_name) +\n            '&' +\n            this.composeQuery(socketId);\n    var head = document.getElementsByTagName('head')[0] || document.documentElement;\n    head.insertBefore(script, head.firstChild);\n};\n/* harmony default export */ var jsonp_auth = (jsonp);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\nvar ScriptRequest = (function () {\n    function ScriptRequest(src) {\n        this.src = src;\n    }\n    ScriptRequest.prototype.send = function (receiver) {\n        var self = this;\n        var errorString = 'Error loading ' + self.src;\n        self.script = document.createElement('script');\n        self.script.id = receiver.id;\n        self.script.src = self.src;\n        self.script.type = 'text/javascript';\n        self.script.charset = 'UTF-8';\n        if (self.script.addEventListener) {\n            self.script.onerror = function () {\n                receiver.callback(errorString);\n            };\n            self.script.onload = function () {\n                receiver.callback(null);\n            };\n        }\n        else {\n            self.script.onreadystatechange = function () {\n                if (self.script.readyState === 'loaded' ||\n                    self.script.readyState === 'complete') {\n                    receiver.callback(null);\n                }\n            };\n        }\n        if (self.script.async === undefined &&\n            document.attachEvent &&\n            /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement('script');\n            self.errorScript.id = receiver.id + '_error';\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n        }\n        else {\n            self.script.async = true;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        head.insertBefore(self.script, head.firstChild);\n        if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n        }\n    };\n    ScriptRequest.prototype.cleanup = function () {\n        if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n        }\n        if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n        }\n        if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n        }\n        this.script = null;\n        this.errorScript = null;\n    };\n    return ScriptRequest;\n}());\n/* harmony default export */ var script_request = (ScriptRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n\nvar jsonp_request_JSONPRequest = (function () {\n    function JSONPRequest(url, data) {\n        this.url = url;\n        this.data = data;\n    }\n    JSONPRequest.prototype.send = function (receiver) {\n        if (this.request) {\n            return;\n        }\n        var query = buildQueryString(this.data);\n        var url = this.url + '/' + receiver.number + '?' + query;\n        this.request = runtime.createScriptRequest(url);\n        this.request.send(receiver);\n    };\n    JSONPRequest.prototype.cleanup = function () {\n        if (this.request) {\n            this.request.cleanup();\n        }\n    };\n    return JSONPRequest;\n}());\n/* harmony default export */ var jsonp_request = (jsonp_request_JSONPRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n\nvar getAgent = function (sender, useTLS) {\n    return function (data, callback) {\n        var scheme = 'http' + (useTLS ? 's' : '') + '://';\n        var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n        var request = runtime.createJSONPRequest(url, data);\n        var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n            if (result && result.host) {\n                sender.host = result.host;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        request.send(receiver);\n    };\n};\nvar jsonp_timeline_jsonp = {\n    name: 'jsonp',\n    getAgent: getAgent\n};\n/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);\n\n// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\nfunction getGenericURL(baseScheme, params, path) {\n    var scheme = baseScheme + (params.useTLS ? 's' : '');\n    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n    return scheme + '://' + host + path;\n}\nfunction getGenericPath(key, queryString) {\n    var path = '/app/' + key;\n    var query = '?protocol=' +\n        defaults.PROTOCOL +\n        '&client=js' +\n        '&version=' +\n        defaults.VERSION +\n        (queryString ? '&' + queryString : '');\n    return path + query;\n}\nvar ws = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n        return getGenericURL('ws', params, path);\n    }\n};\nvar http = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '/pusher') + getGenericPath(key);\n        return getGenericURL('http', params, path);\n    }\n};\nvar sockjs = {\n    getInitial: function (key, params) {\n        return getGenericURL('http', params, params.httpPath || '/pusher');\n    },\n    getPath: function (key, params) {\n        return getGenericPath(key);\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\nvar callback_registry_CallbackRegistry = (function () {\n    function CallbackRegistry() {\n        this._callbacks = {};\n    }\n    CallbackRegistry.prototype.get = function (name) {\n        return this._callbacks[prefix(name)];\n    };\n    CallbackRegistry.prototype.add = function (name, callback, context) {\n        var prefixedEventName = prefix(name);\n        this._callbacks[prefixedEventName] =\n            this._callbacks[prefixedEventName] || [];\n        this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context\n        });\n    };\n    CallbackRegistry.prototype.remove = function (name, callback, context) {\n        if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n        }\n        var names = name ? [prefix(name)] : keys(this._callbacks);\n        if (callback || context) {\n            this.removeCallback(names, callback, context);\n        }\n        else {\n            this.removeAllCallbacks(names);\n        }\n    };\n    CallbackRegistry.prototype.removeCallback = function (names, callback, context) {\n        apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n                return ((callback && callback !== binding.fn) ||\n                    (context && context !== binding.context));\n            });\n            if (this._callbacks[name].length === 0) {\n                delete this._callbacks[name];\n            }\n        }, this);\n    };\n    CallbackRegistry.prototype.removeAllCallbacks = function (names) {\n        apply(names, function (name) {\n            delete this._callbacks[name];\n        }, this);\n    };\n    return CallbackRegistry;\n}());\n/* harmony default export */ var callback_registry = (callback_registry_CallbackRegistry);\nfunction prefix(name) {\n    return '_' + name;\n}\n\n// CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\nvar dispatcher_Dispatcher = (function () {\n    function Dispatcher(failThrough) {\n        this.callbacks = new callback_registry();\n        this.global_callbacks = [];\n        this.failThrough = failThrough;\n    }\n    Dispatcher.prototype.bind = function (eventName, callback, context) {\n        this.callbacks.add(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.bind_global = function (callback) {\n        this.global_callbacks.push(callback);\n        return this;\n    };\n    Dispatcher.prototype.unbind = function (eventName, callback, context) {\n        this.callbacks.remove(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.unbind_global = function (callback) {\n        if (!callback) {\n            this.global_callbacks = [];\n            return this;\n        }\n        this.global_callbacks = filter(this.global_callbacks || [], function (c) { return c !== callback; });\n        return this;\n    };\n    Dispatcher.prototype.unbind_all = function () {\n        this.unbind();\n        this.unbind_global();\n        return this;\n    };\n    Dispatcher.prototype.emit = function (eventName, data, metadata) {\n        for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n        }\n        var callbacks = this.callbacks.get(eventName);\n        var args = [];\n        if (metadata) {\n            args.push(data, metadata);\n        }\n        else if (data) {\n            args.push(data);\n        }\n        if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n        }\n        else if (this.failThrough) {\n            this.failThrough(eventName, data);\n        }\n        return this;\n    };\n    return Dispatcher;\n}());\n/* harmony default export */ var dispatcher = (dispatcher_Dispatcher);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\nvar transport_connection_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar transport_connection_TransportConnection = (function (_super) {\n    transport_connection_extends(TransportConnection, _super);\n    function TransportConnection(hooks, name, priority, key, options) {\n        var _this = _super.call(this) || this;\n        _this.initialize = runtime.transportConnectionInitializer;\n        _this.hooks = hooks;\n        _this.name = name;\n        _this.priority = priority;\n        _this.key = key;\n        _this.options = options;\n        _this.state = 'new';\n        _this.timeline = options.timeline;\n        _this.activityTimeout = options.activityTimeout;\n        _this.id = _this.timeline.generateUniqueID();\n        return _this;\n    }\n    TransportConnection.prototype.handlesActivityChecks = function () {\n        return Boolean(this.hooks.handlesActivityChecks);\n    };\n    TransportConnection.prototype.supportsPing = function () {\n        return Boolean(this.hooks.supportsPing);\n    };\n    TransportConnection.prototype.connect = function () {\n        var _this = this;\n        if (this.socket || this.state !== 'initialized') {\n            return false;\n        }\n        var url = this.hooks.urls.getInitial(this.key, this.options);\n        try {\n            this.socket = this.hooks.getSocket(url, this.options);\n        }\n        catch (e) {\n            util.defer(function () {\n                _this.onError(e);\n                _this.changeState('closed');\n            });\n            return false;\n        }\n        this.bindListeners();\n        logger.debug('Connecting', { transport: this.name, url: url });\n        this.changeState('connecting');\n        return true;\n    };\n    TransportConnection.prototype.close = function () {\n        if (this.socket) {\n            this.socket.close();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.send = function (data) {\n        var _this = this;\n        if (this.state === 'open') {\n            util.defer(function () {\n                if (_this.socket) {\n                    _this.socket.send(data);\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.ping = function () {\n        if (this.state === 'open' && this.supportsPing()) {\n            this.socket.ping();\n        }\n    };\n    TransportConnection.prototype.onOpen = function () {\n        if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n        }\n        this.changeState('open');\n        this.socket.onopen = undefined;\n    };\n    TransportConnection.prototype.onError = function (error) {\n        this.emit('error', { type: 'WebSocketError', error: error });\n        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n    };\n    TransportConnection.prototype.onClose = function (closeEvent) {\n        if (closeEvent) {\n            this.changeState('closed', {\n                code: closeEvent.code,\n                reason: closeEvent.reason,\n                wasClean: closeEvent.wasClean\n            });\n        }\n        else {\n            this.changeState('closed');\n        }\n        this.unbindListeners();\n        this.socket = undefined;\n    };\n    TransportConnection.prototype.onMessage = function (message) {\n        this.emit('message', message);\n    };\n    TransportConnection.prototype.onActivity = function () {\n        this.emit('activity');\n    };\n    TransportConnection.prototype.bindListeners = function () {\n        var _this = this;\n        this.socket.onopen = function () {\n            _this.onOpen();\n        };\n        this.socket.onerror = function (error) {\n            _this.onError(error);\n        };\n        this.socket.onclose = function (closeEvent) {\n            _this.onClose(closeEvent);\n        };\n        this.socket.onmessage = function (message) {\n            _this.onMessage(message);\n        };\n        if (this.supportsPing()) {\n            this.socket.onactivity = function () {\n                _this.onActivity();\n            };\n        }\n    };\n    TransportConnection.prototype.unbindListeners = function () {\n        if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n            if (this.supportsPing()) {\n                this.socket.onactivity = undefined;\n            }\n        }\n    };\n    TransportConnection.prototype.changeState = function (state, params) {\n        this.state = state;\n        this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params\n        }));\n        this.emit(state, params);\n    };\n    TransportConnection.prototype.buildTimelineMessage = function (message) {\n        return extend({ cid: this.id }, message);\n    };\n    return TransportConnection;\n}(dispatcher));\n/* harmony default export */ var transport_connection = (transport_connection_TransportConnection);\n\n// CONCATENATED MODULE: ./src/core/transports/transport.ts\n\nvar transport_Transport = (function () {\n    function Transport(hooks) {\n        this.hooks = hooks;\n    }\n    Transport.prototype.isSupported = function (environment) {\n        return this.hooks.isSupported(environment);\n    };\n    Transport.prototype.createConnection = function (name, priority, key, options) {\n        return new transport_connection(this.hooks, name, priority, key, options);\n    };\n    return Transport;\n}());\n/* harmony default export */ var transports_transport = (transport_Transport);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n\n\n\nvar WSTransport = new transports_transport({\n    urls: ws,\n    handlesActivityChecks: false,\n    supportsPing: false,\n    isInitialized: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    isSupported: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    getSocket: function (url) {\n        return runtime.createWebSocket(url);\n    }\n});\nvar httpConfiguration = {\n    urls: http,\n    handlesActivityChecks: false,\n    supportsPing: true,\n    isInitialized: function () {\n        return true;\n    }\n};\nvar streamingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createStreamingSocket(url);\n    }\n}, httpConfiguration);\nvar pollingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createPollingSocket(url);\n    }\n}, httpConfiguration);\nvar xhrConfiguration = {\n    isSupported: function () {\n        return runtime.isXHRSupported();\n    }\n};\nvar XHRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xhrConfiguration)));\nvar XHRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xhrConfiguration));\nvar Transports = {\n    ws: WSTransport,\n    xhr_streaming: XHRStreamingTransport,\n    xhr_polling: XHRPollingTransport\n};\n/* harmony default export */ var transports = (Transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n\n\n\n\n\nvar SockJSTransport = new transports_transport({\n    file: 'sockjs',\n    urls: sockjs,\n    handlesActivityChecks: true,\n    supportsPing: false,\n    isSupported: function () {\n        return true;\n    },\n    isInitialized: function () {\n        return window.SockJS !== undefined;\n    },\n    getSocket: function (url, options) {\n        return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath('sockjs', {\n                useTLS: options.useTLS\n            }),\n            ignore_null_origin: options.ignoreNullOrigin\n        });\n    },\n    beforeOpen: function (socket, path) {\n        socket.send(JSON.stringify({\n            path: path\n        }));\n    }\n});\nvar xdrConfiguration = {\n    isSupported: function (environment) {\n        var yes = runtime.isXDRSupported(environment.useTLS);\n        return yes;\n    }\n};\nvar XDRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xdrConfiguration)));\nvar XDRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xdrConfiguration));\ntransports.xdr_streaming = XDRStreamingTransport;\ntransports.xdr_polling = XDRPollingTransport;\ntransports.sockjs = SockJSTransport;\n/* harmony default export */ var transports_transports = (transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\nvar net_info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NetInfo = (function (_super) {\n    net_info_extends(NetInfo, _super);\n    function NetInfo() {\n        var _this = _super.call(this) || this;\n        var self = _this;\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('online', function () {\n                self.emit('online');\n            }, false);\n            window.addEventListener('offline', function () {\n                self.emit('offline');\n            }, false);\n        }\n        return _this;\n    }\n    NetInfo.prototype.isOnline = function () {\n        if (window.navigator.onLine === undefined) {\n            return true;\n        }\n        else {\n            return window.navigator.onLine;\n        }\n    };\n    return NetInfo;\n}(dispatcher));\n\nvar net_info_Network = new NetInfo();\n\n// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n\nvar assistant_to_the_transport_manager_AssistantToTheTransportManager = (function () {\n    function AssistantToTheTransportManager(manager, transport, options) {\n        this.manager = manager;\n        this.transport = transport;\n        this.minPingDelay = options.minPingDelay;\n        this.maxPingDelay = options.maxPingDelay;\n        this.pingDelay = undefined;\n    }\n    AssistantToTheTransportManager.prototype.createConnection = function (name, priority, key, options) {\n        var _this = this;\n        options = extend({}, options, {\n            activityTimeout: this.pingDelay\n        });\n        var connection = this.transport.createConnection(name, priority, key, options);\n        var openTimestamp = null;\n        var onOpen = function () {\n            connection.unbind('open', onOpen);\n            connection.bind('closed', onClosed);\n            openTimestamp = util.now();\n        };\n        var onClosed = function (closeEvent) {\n            connection.unbind('closed', onClosed);\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n                _this.manager.reportDeath();\n            }\n            else if (!closeEvent.wasClean && openTimestamp) {\n                var lifespan = util.now() - openTimestamp;\n                if (lifespan < 2 * _this.maxPingDelay) {\n                    _this.manager.reportDeath();\n                    _this.pingDelay = Math.max(lifespan / 2, _this.minPingDelay);\n                }\n            }\n        };\n        connection.bind('open', onOpen);\n        return connection;\n    };\n    AssistantToTheTransportManager.prototype.isSupported = function (environment) {\n        return this.manager.isAlive() && this.transport.isSupported(environment);\n    };\n    return AssistantToTheTransportManager;\n}());\n/* harmony default export */ var assistant_to_the_transport_manager = (assistant_to_the_transport_manager_AssistantToTheTransportManager);\n\n// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\nvar Protocol = {\n    decodeMessage: function (messageEvent) {\n        try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n            if (typeof pusherEventData === 'string') {\n                try {\n                    pusherEventData = JSON.parse(messageData.data);\n                }\n                catch (e) { }\n            }\n            var pusherEvent = {\n                event: messageData.event,\n                channel: messageData.channel,\n                data: pusherEventData\n            };\n            if (messageData.user_id) {\n                pusherEvent.user_id = messageData.user_id;\n            }\n            return pusherEvent;\n        }\n        catch (e) {\n            throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n        }\n    },\n    encodeMessage: function (event) {\n        return JSON.stringify(event);\n    },\n    processHandshake: function (messageEvent) {\n        var message = Protocol.decodeMessage(messageEvent);\n        if (message.event === 'pusher:connection_established') {\n            if (!message.data.activity_timeout) {\n                throw 'No activity timeout specified in handshake';\n            }\n            return {\n                action: 'connected',\n                id: message.data.socket_id,\n                activityTimeout: message.data.activity_timeout * 1000\n            };\n        }\n        else if (message.event === 'pusher:error') {\n            return {\n                action: this.getCloseAction(message.data),\n                error: this.getCloseError(message.data)\n            };\n        }\n        else {\n            throw 'Invalid handshake';\n        }\n    },\n    getCloseAction: function (closeEvent) {\n        if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n                return 'backoff';\n            }\n            else {\n                return null;\n            }\n        }\n        else if (closeEvent.code === 4000) {\n            return 'tls_only';\n        }\n        else if (closeEvent.code < 4100) {\n            return 'refused';\n        }\n        else if (closeEvent.code < 4200) {\n            return 'backoff';\n        }\n        else if (closeEvent.code < 4300) {\n            return 'retry';\n        }\n        else {\n            return 'refused';\n        }\n    },\n    getCloseError: function (closeEvent) {\n        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n                type: 'PusherError',\n                data: {\n                    code: closeEvent.code,\n                    message: closeEvent.reason || closeEvent.message\n                }\n            };\n        }\n        else {\n            return null;\n        }\n    }\n};\n/* harmony default export */ var protocol_protocol = (Protocol);\n\n// CONCATENATED MODULE: ./src/core/connection/connection.ts\nvar connection_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar connection_Connection = (function (_super) {\n    connection_extends(Connection, _super);\n    function Connection(id, transport) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.transport = transport;\n        _this.activityTimeout = transport.activityTimeout;\n        _this.bindListeners();\n        return _this;\n    }\n    Connection.prototype.handlesActivityChecks = function () {\n        return this.transport.handlesActivityChecks();\n    };\n    Connection.prototype.send = function (data) {\n        return this.transport.send(data);\n    };\n    Connection.prototype.send_event = function (name, data, channel) {\n        var event = { event: name, data: data };\n        if (channel) {\n            event.channel = channel;\n        }\n        logger.debug('Event sent', event);\n        return this.send(protocol_protocol.encodeMessage(event));\n    };\n    Connection.prototype.ping = function () {\n        if (this.transport.supportsPing()) {\n            this.transport.ping();\n        }\n        else {\n            this.send_event('pusher:ping', {});\n        }\n    };\n    Connection.prototype.close = function () {\n        this.transport.close();\n    };\n    Connection.prototype.bindListeners = function () {\n        var _this = this;\n        var listeners = {\n            message: function (messageEvent) {\n                var pusherEvent;\n                try {\n                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n                }\n                catch (e) {\n                    _this.emit('error', {\n                        type: 'MessageParseError',\n                        error: e,\n                        data: messageEvent.data\n                    });\n                }\n                if (pusherEvent !== undefined) {\n                    logger.debug('Event recd', pusherEvent);\n                    switch (pusherEvent.event) {\n                        case 'pusher:error':\n                            _this.emit('error', {\n                                type: 'PusherError',\n                                data: pusherEvent.data\n                            });\n                            break;\n                        case 'pusher:ping':\n                            _this.emit('ping');\n                            break;\n                        case 'pusher:pong':\n                            _this.emit('pong');\n                            break;\n                    }\n                    _this.emit('message', pusherEvent);\n                }\n            },\n            activity: function () {\n                _this.emit('activity');\n            },\n            error: function (error) {\n                _this.emit('error', { type: 'WebSocketError', error: error });\n            },\n            closed: function (closeEvent) {\n                unbindListeners();\n                if (closeEvent && closeEvent.code) {\n                    _this.handleCloseEvent(closeEvent);\n                }\n                _this.transport = null;\n                _this.emit('closed');\n            }\n        };\n        var unbindListeners = function () {\n            objectApply(listeners, function (listener, event) {\n                _this.transport.unbind(event, listener);\n            });\n        };\n        objectApply(listeners, function (listener, event) {\n            _this.transport.bind(event, listener);\n        });\n    };\n    Connection.prototype.handleCloseEvent = function (closeEvent) {\n        var action = protocol_protocol.getCloseAction(closeEvent);\n        var error = protocol_protocol.getCloseError(closeEvent);\n        if (error) {\n            this.emit('error', error);\n        }\n        if (action) {\n            this.emit(action, { action: action, error: error });\n        }\n    };\n    return Connection;\n}(dispatcher));\n/* harmony default export */ var connection_connection = (connection_Connection);\n\n// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n\n\nvar handshake_Handshake = (function () {\n    function Handshake(transport, callback) {\n        this.transport = transport;\n        this.callback = callback;\n        this.bindListeners();\n    }\n    Handshake.prototype.close = function () {\n        this.unbindListeners();\n        this.transport.close();\n    };\n    Handshake.prototype.bindListeners = function () {\n        var _this = this;\n        this.onMessage = function (m) {\n            _this.unbindListeners();\n            var result;\n            try {\n                result = protocol_protocol.processHandshake(m);\n            }\n            catch (e) {\n                _this.finish('error', { error: e });\n                _this.transport.close();\n                return;\n            }\n            if (result.action === 'connected') {\n                _this.finish('connected', {\n                    connection: new connection_connection(result.id, _this.transport),\n                    activityTimeout: result.activityTimeout\n                });\n            }\n            else {\n                _this.finish(result.action, { error: result.error });\n                _this.transport.close();\n            }\n        };\n        this.onClosed = function (closeEvent) {\n            _this.unbindListeners();\n            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';\n            var error = protocol_protocol.getCloseError(closeEvent);\n            _this.finish(action, { error: error });\n        };\n        this.transport.bind('message', this.onMessage);\n        this.transport.bind('closed', this.onClosed);\n    };\n    Handshake.prototype.unbindListeners = function () {\n        this.transport.unbind('message', this.onMessage);\n        this.transport.unbind('closed', this.onClosed);\n    };\n    Handshake.prototype.finish = function (action, params) {\n        this.callback(extend({ transport: this.transport, action: action }, params));\n    };\n    return Handshake;\n}());\n/* harmony default export */ var connection_handshake = (handshake_Handshake);\n\n// CONCATENATED MODULE: ./src/core/auth/pusher_authorizer.ts\n\nvar pusher_authorizer_PusherAuthorizer = (function () {\n    function PusherAuthorizer(channel, options) {\n        this.channel = channel;\n        var authTransport = options.authTransport;\n        if (typeof runtime.getAuthorizers()[authTransport] === 'undefined') {\n            throw \"'\" + authTransport + \"' is not a recognized auth transport\";\n        }\n        this.type = authTransport;\n        this.options = options;\n        this.authOptions = (options || {}).auth || {};\n    }\n    PusherAuthorizer.prototype.composeQuery = function (socketId) {\n        var query = 'socket_id=' +\n            encodeURIComponent(socketId) +\n            '&channel_name=' +\n            encodeURIComponent(this.channel.name);\n        for (var i in this.authOptions.params) {\n            query +=\n                '&' +\n                    encodeURIComponent(i) +\n                    '=' +\n                    encodeURIComponent(this.authOptions.params[i]);\n        }\n        return query;\n    };\n    PusherAuthorizer.prototype.authorize = function (socketId, callback) {\n        PusherAuthorizer.authorizers =\n            PusherAuthorizer.authorizers || runtime.getAuthorizers();\n        PusherAuthorizer.authorizers[this.type].call(this, runtime, socketId, callback);\n    };\n    return PusherAuthorizer;\n}());\n/* harmony default export */ var pusher_authorizer = (pusher_authorizer_PusherAuthorizer);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\nvar timeline_sender_TimelineSender = (function () {\n    function TimelineSender(timeline, options) {\n        this.timeline = timeline;\n        this.options = options || {};\n    }\n    TimelineSender.prototype.send = function (useTLS, callback) {\n        if (this.timeline.isEmpty()) {\n            return;\n        }\n        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n    };\n    return TimelineSender;\n}());\n/* harmony default export */ var timeline_sender = (timeline_sender_TimelineSender);\n\n// CONCATENATED MODULE: ./src/core/errors.ts\nvar errors_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar BadEventName = (function (_super) {\n    errors_extends(BadEventName, _super);\n    function BadEventName(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return BadEventName;\n}(Error));\n\nvar RequestTimedOut = (function (_super) {\n    errors_extends(RequestTimedOut, _super);\n    function RequestTimedOut(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return RequestTimedOut;\n}(Error));\n\nvar TransportPriorityTooLow = (function (_super) {\n    errors_extends(TransportPriorityTooLow, _super);\n    function TransportPriorityTooLow(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportPriorityTooLow;\n}(Error));\n\nvar TransportClosed = (function (_super) {\n    errors_extends(TransportClosed, _super);\n    function TransportClosed(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportClosed;\n}(Error));\n\nvar UnsupportedFeature = (function (_super) {\n    errors_extends(UnsupportedFeature, _super);\n    function UnsupportedFeature(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedFeature;\n}(Error));\n\nvar UnsupportedTransport = (function (_super) {\n    errors_extends(UnsupportedTransport, _super);\n    function UnsupportedTransport(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedTransport;\n}(Error));\n\nvar UnsupportedStrategy = (function (_super) {\n    errors_extends(UnsupportedStrategy, _super);\n    function UnsupportedStrategy(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedStrategy;\n}(Error));\n\n\n// CONCATENATED MODULE: ./src/core/channels/channel.ts\nvar channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar channel_Channel = (function (_super) {\n    channel_extends(Channel, _super);\n    function Channel(name, pusher) {\n        var _this = _super.call(this, function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n        }) || this;\n        _this.name = name;\n        _this.pusher = pusher;\n        _this.subscribed = false;\n        _this.subscriptionPending = false;\n        _this.subscriptionCancelled = false;\n        return _this;\n    }\n    Channel.prototype.authorize = function (socketId, callback) {\n        return callback(false, { auth: '' });\n    };\n    Channel.prototype.trigger = function (event, data) {\n        if (event.indexOf('client-') !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n        }\n        if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix('triggeringClientEvents');\n            logger.warn(\"Client event triggered before channel 'subscription_succeeded' event . \" + suffix);\n        }\n        return this.pusher.send_event(event, data, this.name);\n    };\n    Channel.prototype.disconnect = function () {\n        this.subscribed = false;\n        this.subscriptionPending = false;\n    };\n    Channel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName === 'pusher_internal:subscription_succeeded') {\n            this.handleSubscriptionSucceededEvent(event);\n        }\n        else if (eventName.indexOf('pusher_internal:') !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n        }\n    };\n    Channel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.emit('pusher:subscription_succeeded', event.data);\n        }\n    };\n    Channel.prototype.subscribe = function () {\n        var _this = this;\n        if (this.subscribed) {\n            return;\n        }\n        this.subscriptionPending = true;\n        this.subscriptionCancelled = false;\n        this.authorize(this.pusher.connection.socket_id, function (error, data) {\n            if (error) {\n                logger.error(data);\n                _this.emit('pusher:subscription_error', data);\n            }\n            else {\n                data = data;\n                _this.pusher.send_event('pusher:subscribe', {\n                    auth: data.auth,\n                    channel_data: data.channel_data,\n                    channel: _this.name\n                });\n            }\n        });\n    };\n    Channel.prototype.unsubscribe = function () {\n        this.subscribed = false;\n        this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name\n        });\n    };\n    Channel.prototype.cancelSubscription = function () {\n        this.subscriptionCancelled = true;\n    };\n    Channel.prototype.reinstateSubscription = function () {\n        this.subscriptionCancelled = false;\n    };\n    return Channel;\n}(dispatcher));\n/* harmony default export */ var channels_channel = (channel_Channel);\n\n// CONCATENATED MODULE: ./src/core/channels/private_channel.ts\nvar private_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar private_channel_PrivateChannel = (function (_super) {\n    private_channel_extends(PrivateChannel, _super);\n    function PrivateChannel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PrivateChannel.prototype.authorize = function (socketId, callback) {\n        var authorizer = factory.createAuthorizer(this, this.pusher.config);\n        return authorizer.authorize(socketId, callback);\n    };\n    return PrivateChannel;\n}(channels_channel));\n/* harmony default export */ var private_channel = (private_channel_PrivateChannel);\n\n// CONCATENATED MODULE: ./src/core/channels/members.ts\n\nvar members_Members = (function () {\n    function Members() {\n        this.reset();\n    }\n    Members.prototype.get = function (id) {\n        if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n                id: id,\n                info: this.members[id]\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    Members.prototype.each = function (callback) {\n        var _this = this;\n        objectApply(this.members, function (member, id) {\n            callback(_this.get(id));\n        });\n    };\n    Members.prototype.setMyID = function (id) {\n        this.myID = id;\n    };\n    Members.prototype.onSubscription = function (subscriptionData) {\n        this.members = subscriptionData.presence.hash;\n        this.count = subscriptionData.presence.count;\n        this.me = this.get(this.myID);\n    };\n    Members.prototype.addMember = function (memberData) {\n        if (this.get(memberData.user_id) === null) {\n            this.count++;\n        }\n        this.members[memberData.user_id] = memberData.user_info;\n        return this.get(memberData.user_id);\n    };\n    Members.prototype.removeMember = function (memberData) {\n        var member = this.get(memberData.user_id);\n        if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n        }\n        return member;\n    };\n    Members.prototype.reset = function () {\n        this.members = {};\n        this.count = 0;\n        this.myID = null;\n        this.me = null;\n    };\n    return Members;\n}());\n/* harmony default export */ var members = (members_Members);\n\n// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\nvar presence_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar presence_channel_PresenceChannel = (function (_super) {\n    presence_channel_extends(PresenceChannel, _super);\n    function PresenceChannel(name, pusher) {\n        var _this = _super.call(this, name, pusher) || this;\n        _this.members = new members();\n        return _this;\n    }\n    PresenceChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (!error) {\n                authData = authData;\n                if (authData.channel_data === undefined) {\n                    var suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                    logger.error(\"Invalid auth response for channel '\" + _this.name + \"',\" +\n                        (\"expected 'channel_data' field. \" + suffix));\n                    callback('Invalid auth response');\n                    return;\n                }\n                var channelData = JSON.parse(authData.channel_data);\n                _this.members.setMyID(channelData.user_id);\n            }\n            callback(error, authData);\n        });\n    };\n    PresenceChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        if (eventName.indexOf('pusher_internal:') === 0) {\n            this.handleInternalEvent(event);\n        }\n        else {\n            var data = event.data;\n            var metadata = {};\n            if (event.user_id) {\n                metadata.user_id = event.user_id;\n            }\n            this.emit(eventName, data, metadata);\n        }\n    };\n    PresenceChannel.prototype.handleInternalEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        switch (eventName) {\n            case 'pusher_internal:subscription_succeeded':\n                this.handleSubscriptionSucceededEvent(event);\n                break;\n            case 'pusher_internal:member_added':\n                var addedMember = this.members.addMember(data);\n                this.emit('pusher:member_added', addedMember);\n                break;\n            case 'pusher_internal:member_removed':\n                var removedMember = this.members.removeMember(data);\n                if (removedMember) {\n                    this.emit('pusher:member_removed', removedMember);\n                }\n                break;\n        }\n    };\n    PresenceChannel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.members.onSubscription(event.data);\n            this.emit('pusher:subscription_succeeded', this.members);\n        }\n    };\n    PresenceChannel.prototype.disconnect = function () {\n        this.members.reset();\n        _super.prototype.disconnect.call(this);\n    };\n    return PresenceChannel;\n}(private_channel));\n/* harmony default export */ var presence_channel = (presence_channel_PresenceChannel);\n\n// EXTERNAL MODULE: ./node_modules/tweetnacl/nacl-fast.js\nvar nacl_fast = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/tweetnacl-util/nacl-util.js\nvar nacl_util = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\nvar encrypted_channel_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar encrypted_channel_EncryptedChannel = (function (_super) {\n    encrypted_channel_extends(EncryptedChannel, _super);\n    function EncryptedChannel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.key = null;\n        return _this;\n    }\n    EncryptedChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (error) {\n                callback(true, authData);\n                return;\n            }\n            var sharedSecret = authData['shared_secret'];\n            if (!sharedSecret) {\n                var errorMsg = \"No shared_secret key in auth payload for encrypted channel: \" + _this.name;\n                callback(true, errorMsg);\n                return;\n            }\n            _this.key = Object(nacl_util[\"decodeBase64\"])(sharedSecret);\n            delete authData['shared_secret'];\n            callback(false, authData);\n        });\n    };\n    EncryptedChannel.prototype.trigger = function (event, data) {\n        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n    };\n    EncryptedChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName.indexOf('pusher_internal:') === 0 ||\n            eventName.indexOf('pusher:') === 0) {\n            _super.prototype.handleEvent.call(this, event);\n            return;\n        }\n        this.handleEncryptedEvent(eventName, data);\n    };\n    EncryptedChannel.prototype.handleEncryptedEvent = function (event, data) {\n        var _this = this;\n        if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n        }\n        if (!data.ciphertext || !data.nonce) {\n            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +\n                data);\n            return;\n        }\n        var cipherText = Object(nacl_util[\"decodeBase64\"])(data.ciphertext);\n        if (cipherText.length < nacl_fast[\"secretbox\"].overheadLength) {\n            logger.error(\"Expected encrypted event ciphertext length to be \" + nacl_fast[\"secretbox\"].overheadLength + \", got: \" + cipherText.length);\n            return;\n        }\n        var nonce = Object(nacl_util[\"decodeBase64\"])(data.nonce);\n        if (nonce.length < nacl_fast[\"secretbox\"].nonceLength) {\n            logger.error(\"Expected encrypted event nonce length to be \" + nacl_fast[\"secretbox\"].nonceLength + \", got: \" + nonce.length);\n            return;\n        }\n        var bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, this.key);\n        if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, function (error, authData) {\n                if (error) {\n                    logger.error(\"Failed to make a request to the authEndpoint: \" + authData + \". Unable to fetch new key, so dropping encrypted event\");\n                    return;\n                }\n                bytes = nacl_fast[\"secretbox\"].open(cipherText, nonce, _this.key);\n                if (bytes === null) {\n                    logger.error(\"Failed to decrypt event with new key. Dropping encrypted event\");\n                    return;\n                }\n                _this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n                return;\n            });\n            return;\n        }\n        this.emitJSON(event, Object(nacl_util[\"encodeUTF8\"])(bytes));\n    };\n    EncryptedChannel.prototype.emitJSON = function (eventName, data) {\n        try {\n            this.emit(eventName, JSON.parse(data));\n        }\n        catch (e) {\n            this.emit(eventName, data);\n        }\n        return this;\n    };\n    return EncryptedChannel;\n}(private_channel));\n/* harmony default export */ var encrypted_channel = (encrypted_channel_EncryptedChannel);\n\n// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\nvar connection_manager_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar connection_manager_ConnectionManager = (function (_super) {\n    connection_manager_extends(ConnectionManager, _super);\n    function ConnectionManager(key, options) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.options = options || {};\n        _this.state = 'initialized';\n        _this.connection = null;\n        _this.usingTLS = !!options.useTLS;\n        _this.timeline = _this.options.timeline;\n        _this.errorCallbacks = _this.buildErrorCallbacks();\n        _this.connectionCallbacks = _this.buildConnectionCallbacks(_this.errorCallbacks);\n        _this.handshakeCallbacks = _this.buildHandshakeCallbacks(_this.errorCallbacks);\n        var Network = runtime.getNetwork();\n        Network.bind('online', function () {\n            _this.timeline.info({ netinfo: 'online' });\n            if (_this.state === 'connecting' || _this.state === 'unavailable') {\n                _this.retryIn(0);\n            }\n        });\n        Network.bind('offline', function () {\n            _this.timeline.info({ netinfo: 'offline' });\n            if (_this.connection) {\n                _this.sendActivityCheck();\n            }\n        });\n        _this.updateStrategy();\n        return _this;\n    }\n    ConnectionManager.prototype.connect = function () {\n        if (this.connection || this.runner) {\n            return;\n        }\n        if (!this.strategy.isSupported()) {\n            this.updateState('failed');\n            return;\n        }\n        this.updateState('connecting');\n        this.startConnecting();\n        this.setUnavailableTimer();\n    };\n    ConnectionManager.prototype.send = function (data) {\n        if (this.connection) {\n            return this.connection.send(data);\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectionManager.prototype.send_event = function (name, data, channel) {\n        if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectionManager.prototype.disconnect = function () {\n        this.disconnectInternally();\n        this.updateState('disconnected');\n    };\n    ConnectionManager.prototype.isUsingTLS = function () {\n        return this.usingTLS;\n    };\n    ConnectionManager.prototype.startConnecting = function () {\n        var _this = this;\n        var callback = function (error, handshake) {\n            if (error) {\n                _this.runner = _this.strategy.connect(0, callback);\n            }\n            else {\n                if (handshake.action === 'error') {\n                    _this.emit('error', {\n                        type: 'HandshakeError',\n                        error: handshake.error\n                    });\n                    _this.timeline.error({ handshakeError: handshake.error });\n                }\n                else {\n                    _this.abortConnecting();\n                    _this.handshakeCallbacks[handshake.action](handshake);\n                }\n            }\n        };\n        this.runner = this.strategy.connect(0, callback);\n    };\n    ConnectionManager.prototype.abortConnecting = function () {\n        if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n        }\n    };\n    ConnectionManager.prototype.disconnectInternally = function () {\n        this.abortConnecting();\n        this.clearRetryTimer();\n        this.clearUnavailableTimer();\n        if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n        }\n    };\n    ConnectionManager.prototype.updateStrategy = function () {\n        this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS\n        });\n    };\n    ConnectionManager.prototype.retryIn = function (delay) {\n        var _this = this;\n        this.timeline.info({ action: 'retry', delay: delay });\n        if (delay > 0) {\n            this.emit('connecting_in', Math.round(delay / 1000));\n        }\n        this.retryTimer = new OneOffTimer(delay || 0, function () {\n            _this.disconnectInternally();\n            _this.connect();\n        });\n    };\n    ConnectionManager.prototype.clearRetryTimer = function () {\n        if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n        }\n    };\n    ConnectionManager.prototype.setUnavailableTimer = function () {\n        var _this = this;\n        this.unavailableTimer = new OneOffTimer(this.options.unavailableTimeout, function () {\n            _this.updateState('unavailable');\n        });\n    };\n    ConnectionManager.prototype.clearUnavailableTimer = function () {\n        if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n        }\n    };\n    ConnectionManager.prototype.sendActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        this.connection.ping();\n        this.activityTimer = new OneOffTimer(this.options.pongTimeout, function () {\n            _this.timeline.error({ pong_timed_out: _this.options.pongTimeout });\n            _this.retryIn(0);\n        });\n    };\n    ConnectionManager.prototype.resetActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new OneOffTimer(this.activityTimeout, function () {\n                _this.sendActivityCheck();\n            });\n        }\n    };\n    ConnectionManager.prototype.stopActivityCheck = function () {\n        if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n        }\n    };\n    ConnectionManager.prototype.buildConnectionCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            message: function (message) {\n                _this.resetActivityCheck();\n                _this.emit('message', message);\n            },\n            ping: function () {\n                _this.send_event('pusher:pong', {});\n            },\n            activity: function () {\n                _this.resetActivityCheck();\n            },\n            error: function (error) {\n                _this.emit('error', { type: 'WebSocketError', error: error });\n            },\n            closed: function () {\n                _this.abandonConnection();\n                if (_this.shouldRetry()) {\n                    _this.retryIn(1000);\n                }\n            }\n        });\n    };\n    ConnectionManager.prototype.buildHandshakeCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            connected: function (handshake) {\n                _this.activityTimeout = Math.min(_this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n                _this.clearUnavailableTimer();\n                _this.setConnection(handshake.connection);\n                _this.socket_id = _this.connection.id;\n                _this.updateState('connected', { socket_id: _this.socket_id });\n            }\n        });\n    };\n    ConnectionManager.prototype.buildErrorCallbacks = function () {\n        var _this = this;\n        var withErrorEmitted = function (callback) {\n            return function (result) {\n                if (result.error) {\n                    _this.emit('error', { type: 'WebSocketError', error: result.error });\n                }\n                callback(result);\n            };\n        };\n        return {\n            tls_only: withErrorEmitted(function () {\n                _this.usingTLS = true;\n                _this.updateStrategy();\n                _this.retryIn(0);\n            }),\n            refused: withErrorEmitted(function () {\n                _this.disconnect();\n            }),\n            backoff: withErrorEmitted(function () {\n                _this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(function () {\n                _this.retryIn(0);\n            })\n        };\n    };\n    ConnectionManager.prototype.setConnection = function (connection) {\n        this.connection = connection;\n        for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n        }\n        this.resetActivityCheck();\n    };\n    ConnectionManager.prototype.abandonConnection = function () {\n        if (!this.connection) {\n            return;\n        }\n        this.stopActivityCheck();\n        for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n        }\n        var connection = this.connection;\n        this.connection = null;\n        return connection;\n    };\n    ConnectionManager.prototype.updateState = function (newState, data) {\n        var previousState = this.state;\n        this.state = newState;\n        if (previousState !== newState) {\n            var newStateDescription = newState;\n            if (newStateDescription === 'connected') {\n                newStateDescription += ' with new socket ID ' + data.socket_id;\n            }\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({ state: newState, params: data });\n            this.emit('state_change', { previous: previousState, current: newState });\n            this.emit(newState, data);\n        }\n    };\n    ConnectionManager.prototype.shouldRetry = function () {\n        return this.state === 'connecting' || this.state === 'connected';\n    };\n    return ConnectionManager;\n}(dispatcher));\n/* harmony default export */ var connection_manager = (connection_manager_ConnectionManager);\n\n// CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n\n\nvar channels_Channels = (function () {\n    function Channels() {\n        this.channels = {};\n    }\n    Channels.prototype.add = function (name, pusher) {\n        if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n        }\n        return this.channels[name];\n    };\n    Channels.prototype.all = function () {\n        return values(this.channels);\n    };\n    Channels.prototype.find = function (name) {\n        return this.channels[name];\n    };\n    Channels.prototype.remove = function (name) {\n        var channel = this.channels[name];\n        delete this.channels[name];\n        return channel;\n    };\n    Channels.prototype.disconnect = function () {\n        objectApply(this.channels, function (channel) {\n            channel.disconnect();\n        });\n    };\n    return Channels;\n}());\n/* harmony default export */ var channels = (channels_Channels);\nfunction createChannel(name, pusher) {\n    if (name.indexOf('private-encrypted-') === 0) {\n        if (false) { var errorMsg; }\n        return factory.createEncryptedChannel(name, pusher);\n    }\n    else if (name.indexOf('private-') === 0) {\n        return factory.createPrivateChannel(name, pusher);\n    }\n    else if (name.indexOf('presence-') === 0) {\n        return factory.createPresenceChannel(name, pusher);\n    }\n    else {\n        return factory.createChannel(name, pusher);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n\n\n\n\n\n\n\n\nvar Factory = {\n    createChannels: function () {\n        return new channels();\n    },\n    createConnectionManager: function (key, options) {\n        return new connection_manager(key, options);\n    },\n    createChannel: function (name, pusher) {\n        return new channels_channel(name, pusher);\n    },\n    createPrivateChannel: function (name, pusher) {\n        return new private_channel(name, pusher);\n    },\n    createPresenceChannel: function (name, pusher) {\n        return new presence_channel(name, pusher);\n    },\n    createEncryptedChannel: function (name, pusher) {\n        return new encrypted_channel(name, pusher);\n    },\n    createTimelineSender: function (timeline, options) {\n        return new timeline_sender(timeline, options);\n    },\n    createAuthorizer: function (channel, options) {\n        if (options.authorizer) {\n            return options.authorizer(channel, options);\n        }\n        return new pusher_authorizer(channel, options);\n    },\n    createHandshake: function (transport, callback) {\n        return new connection_handshake(transport, callback);\n    },\n    createAssistantToTheTransportManager: function (manager, transport, options) {\n        return new assistant_to_the_transport_manager(manager, transport, options);\n    }\n};\n/* harmony default export */ var factory = (Factory);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\nvar transport_manager_TransportManager = (function () {\n    function TransportManager(options) {\n        this.options = options || {};\n        this.livesLeft = this.options.lives || Infinity;\n    }\n    TransportManager.prototype.getAssistant = function (transport) {\n        return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay\n        });\n    };\n    TransportManager.prototype.isAlive = function () {\n        return this.livesLeft > 0;\n    };\n    TransportManager.prototype.reportDeath = function () {\n        this.livesLeft -= 1;\n    };\n    return TransportManager;\n}());\n/* harmony default export */ var transport_manager = (transport_manager_TransportManager);\n\n// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n\n\nvar sequential_strategy_SequentialStrategy = (function () {\n    function SequentialStrategy(strategies, options) {\n        this.strategies = strategies;\n        this.loop = Boolean(options.loop);\n        this.failFast = Boolean(options.failFast);\n        this.timeout = options.timeout;\n        this.timeoutLimit = options.timeoutLimit;\n    }\n    SequentialStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method('isSupported'));\n    };\n    SequentialStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        var strategies = this.strategies;\n        var current = 0;\n        var timeout = this.timeout;\n        var runner = null;\n        var tryNextStrategy = function (error, handshake) {\n            if (handshake) {\n                callback(null, handshake);\n            }\n            else {\n                current = current + 1;\n                if (_this.loop) {\n                    current = current % strategies.length;\n                }\n                if (current < strategies.length) {\n                    if (timeout) {\n                        timeout = timeout * 2;\n                        if (_this.timeoutLimit) {\n                            timeout = Math.min(timeout, _this.timeoutLimit);\n                        }\n                    }\n                    runner = _this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: _this.failFast }, tryNextStrategy);\n                }\n                else {\n                    callback(true);\n                }\n            }\n        };\n        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    SequentialStrategy.prototype.tryStrategy = function (strategy, minPriority, options, callback) {\n        var timer = null;\n        var runner = null;\n        if (options.timeout > 0) {\n            timer = new OneOffTimer(options.timeout, function () {\n                runner.abort();\n                callback(true);\n            });\n        }\n        runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n                return;\n            }\n            if (timer) {\n                timer.ensureAborted();\n            }\n            callback(error, handshake);\n        });\n        return {\n            abort: function () {\n                if (timer) {\n                    timer.ensureAborted();\n                }\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                runner.forceMinPriority(p);\n            }\n        };\n    };\n    return SequentialStrategy;\n}());\n/* harmony default export */ var sequential_strategy = (sequential_strategy_SequentialStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n\nvar best_connected_ever_strategy_BestConnectedEverStrategy = (function () {\n    function BestConnectedEverStrategy(strategies) {\n        this.strategies = strategies;\n    }\n    BestConnectedEverStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method('isSupported'));\n    };\n    BestConnectedEverStrategy.prototype.connect = function (minPriority, callback) {\n        return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n                runners[i].error = error;\n                if (error) {\n                    if (allRunnersFailed(runners)) {\n                        callback(true);\n                    }\n                    return;\n                }\n                apply(runners, function (runner) {\n                    runner.forceMinPriority(handshake.transport.priority);\n                });\n                callback(null, handshake);\n            };\n        });\n    };\n    return BestConnectedEverStrategy;\n}());\n/* harmony default export */ var best_connected_ever_strategy = (best_connected_ever_strategy_BestConnectedEverStrategy);\nfunction connect(strategies, minPriority, callbackBuilder) {\n    var runners = map(strategies, function (strategy, i, _, rs) {\n        return strategy.connect(minPriority, callbackBuilder(i, rs));\n    });\n    return {\n        abort: function () {\n            apply(runners, abortRunner);\n        },\n        forceMinPriority: function (p) {\n            apply(runners, function (runner) {\n                runner.forceMinPriority(p);\n            });\n        }\n    };\n}\nfunction allRunnersFailed(runners) {\n    return collections_all(runners, function (runner) {\n        return Boolean(runner.error);\n    });\n}\nfunction abortRunner(runner) {\n    if (!runner.error && !runner.aborted) {\n        runner.abort();\n        runner.aborted = true;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/cached_strategy.ts\n\n\n\n\nvar cached_strategy_CachedStrategy = (function () {\n    function CachedStrategy(strategy, transports, options) {\n        this.strategy = strategy;\n        this.transports = transports;\n        this.ttl = options.ttl || 1800 * 1000;\n        this.usingTLS = options.useTLS;\n        this.timeline = options.timeline;\n    }\n    CachedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    CachedStrategy.prototype.connect = function (minPriority, callback) {\n        var usingTLS = this.usingTLS;\n        var info = fetchTransportCache(usingTLS);\n        var strategies = [this.strategy];\n        if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n            if (transport) {\n                this.timeline.info({\n                    cached: true,\n                    transport: info.transport,\n                    latency: info.latency\n                });\n                strategies.push(new sequential_strategy([transport], {\n                    timeout: info.latency * 2 + 1000,\n                    failFast: true\n                }));\n            }\n        }\n        var startTimestamp = util.now();\n        var runner = strategies\n            .pop()\n            .connect(minPriority, function cb(error, handshake) {\n            if (error) {\n                flushTransportCache(usingTLS);\n                if (strategies.length > 0) {\n                    startTimestamp = util.now();\n                    runner = strategies.pop().connect(minPriority, cb);\n                }\n                else {\n                    callback(error);\n                }\n            }\n            else {\n                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp);\n                callback(null, handshake);\n            }\n        });\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return CachedStrategy;\n}());\n/* harmony default export */ var cached_strategy = (cached_strategy_CachedStrategy);\nfunction getTransportCacheKey(usingTLS) {\n    return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n}\nfunction fetchTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n            if (serializedCache) {\n                return JSON.parse(serializedCache);\n            }\n        }\n        catch (e) {\n            flushTransportCache(usingTLS);\n        }\n    }\n    return null;\n}\nfunction storeTransportCache(usingTLS, transport, latency) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n                timestamp: util.now(),\n                transport: transport,\n                latency: latency\n            });\n        }\n        catch (e) {\n        }\n    }\n}\nfunction flushTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            delete storage[getTransportCacheKey(usingTLS)];\n        }\n        catch (e) {\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\nvar delayed_strategy_DelayedStrategy = (function () {\n    function DelayedStrategy(strategy, _a) {\n        var number = _a.delay;\n        this.strategy = strategy;\n        this.options = { delay: number };\n    }\n    DelayedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    DelayedStrategy.prototype.connect = function (minPriority, callback) {\n        var strategy = this.strategy;\n        var runner;\n        var timer = new OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n        });\n        return {\n            abort: function () {\n                timer.ensureAborted();\n                if (runner) {\n                    runner.abort();\n                }\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return DelayedStrategy;\n}());\n/* harmony default export */ var delayed_strategy = (delayed_strategy_DelayedStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\nvar IfStrategy = (function () {\n    function IfStrategy(test, trueBranch, falseBranch) {\n        this.test = test;\n        this.trueBranch = trueBranch;\n        this.falseBranch = falseBranch;\n    }\n    IfStrategy.prototype.isSupported = function () {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.isSupported();\n    };\n    IfStrategy.prototype.connect = function (minPriority, callback) {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.connect(minPriority, callback);\n    };\n    return IfStrategy;\n}());\n/* harmony default export */ var if_strategy = (IfStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\nvar FirstConnectedStrategy = (function () {\n    function FirstConnectedStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    FirstConnectedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    FirstConnectedStrategy.prototype.connect = function (minPriority, callback) {\n        var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n                runner.abort();\n            }\n            callback(error, handshake);\n        });\n        return runner;\n    };\n    return FirstConnectedStrategy;\n}());\n/* harmony default export */ var first_connected_strategy = (FirstConnectedStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n\n\n\n\n\n\n\nfunction testSupportsStrategy(strategy) {\n    return function () {\n        return strategy.isSupported();\n    };\n}\nvar getDefaultStrategy = function (config, defineTransport) {\n    var definedTransports = {};\n    function defineTransportStrategy(name, type, priority, options, manager) {\n        var transport = defineTransport(config, name, type, priority, options, manager);\n        definedTransports[name] = transport;\n        return transport;\n    }\n    var ws_options = {\n        hostNonTLS: config.wsHost + ':' + config.wsPort,\n        hostTLS: config.wsHost + ':' + config.wssPort,\n        httpPath: config.wsPath\n    };\n    var wss_options = extend({}, ws_options, {\n        useTLS: true\n    });\n    var sockjs_options = {\n        hostNonTLS: config.httpHost + ':' + config.httpPort,\n        hostTLS: config.httpHost + ':' + config.httpsPort,\n        httpPath: config.httpPath\n    };\n    var timeouts = {\n        loop: true,\n        timeout: 15000,\n        timeoutLimit: 60000\n    };\n    var ws_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activity_timeout\n    });\n    var streaming_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activity_timeout\n    });\n    var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);\n    var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);\n    var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);\n    var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);\n    var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);\n    var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);\n    var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);\n    var ws_loop = new sequential_strategy([ws_transport], timeouts);\n    var wss_loop = new sequential_strategy([wss_transport], timeouts);\n    var sockjs_loop = new sequential_strategy([sockjs_transport], timeouts);\n    var streaming_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)\n    ], timeouts);\n    var polling_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)\n    ], timeouts);\n    var http_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy([\n            streaming_loop,\n            new delayed_strategy(polling_loop, { delay: 4000 })\n        ]), polling_loop)\n    ], timeouts);\n    var http_fallback_loop = new if_strategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n    var wsStrategy;\n    if (config.useTLS) {\n        wsStrategy = new best_connected_ever_strategy([\n            ws_loop,\n            new delayed_strategy(http_fallback_loop, { delay: 2000 })\n        ]);\n    }\n    else {\n        wsStrategy = new best_connected_ever_strategy([\n            ws_loop,\n            new delayed_strategy(wss_loop, { delay: 2000 }),\n            new delayed_strategy(http_fallback_loop, { delay: 5000 })\n        ]);\n    }\n    return new cached_strategy(new first_connected_strategy(new if_strategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n        ttl: 1800000,\n        timeline: config.timeline,\n        useTLS: config.useTLS\n    });\n};\n/* harmony default export */ var default_strategy = (getDefaultStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n/* harmony default export */ var transport_connection_initializer = (function () {\n    var self = this;\n    self.timeline.info(self.buildTimelineMessage({\n        transport: self.name + (self.options.useTLS ? 's' : '')\n    }));\n    if (self.hooks.isInitialized()) {\n        self.changeState('initialized');\n    }\n    else if (self.hooks.file) {\n        self.changeState('initializing');\n        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n                self.changeState('initialized');\n                callback(true);\n            }\n            else {\n                if (error) {\n                    self.onError(error);\n                }\n                self.onClose();\n                callback(false);\n            }\n        });\n    }\n    else {\n        self.onClose();\n    }\n});\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\nvar http_xdomain_request_hooks = {\n    getRequest: function (socket) {\n        var xdr = new window.XDomainRequest();\n        xdr.ontimeout = function () {\n            socket.emit('error', new RequestTimedOut());\n            socket.close();\n        };\n        xdr.onerror = function (e) {\n            socket.emit('error', e);\n            socket.close();\n        };\n        xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n        };\n        xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n            socket.emit('finished', 200);\n            socket.close();\n        };\n        return xdr;\n    },\n    abortRequest: function (xdr) {\n        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n        xdr.abort();\n    }\n};\n/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_request.ts\nvar http_request_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MAX_BUFFER_LENGTH = 256 * 1024;\nvar http_request_HTTPRequest = (function (_super) {\n    http_request_extends(HTTPRequest, _super);\n    function HTTPRequest(hooks, method, url) {\n        var _this = _super.call(this) || this;\n        _this.hooks = hooks;\n        _this.method = method;\n        _this.url = url;\n        return _this;\n    }\n    HTTPRequest.prototype.start = function (payload) {\n        var _this = this;\n        this.position = 0;\n        this.xhr = this.hooks.getRequest(this);\n        this.unloader = function () {\n            _this.close();\n        };\n        runtime.addUnloadListener(this.unloader);\n        this.xhr.open(this.method, this.url, true);\n        if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader('Content-Type', 'application/json');\n        }\n        this.xhr.send(payload);\n    };\n    HTTPRequest.prototype.close = function () {\n        if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n        }\n        if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n        }\n    };\n    HTTPRequest.prototype.onChunk = function (status, data) {\n        while (true) {\n            var chunk = this.advanceBuffer(data);\n            if (chunk) {\n                this.emit('chunk', { status: status, data: chunk });\n            }\n            else {\n                break;\n            }\n        }\n        if (this.isBufferTooLong(data)) {\n            this.emit('buffer_too_long');\n        }\n    };\n    HTTPRequest.prototype.advanceBuffer = function (buffer) {\n        var unreadData = buffer.slice(this.position);\n        var endOfLinePosition = unreadData.indexOf('\\n');\n        if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n        }\n        else {\n            return null;\n        }\n    };\n    HTTPRequest.prototype.isBufferTooLong = function (buffer) {\n        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n    };\n    return HTTPRequest;\n}(dispatcher));\n/* harmony default export */ var http_request = (http_request_HTTPRequest);\n\n// CONCATENATED MODULE: ./src/core/http/state.ts\nvar State;\n(function (State) {\n    State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    State[State[\"OPEN\"] = 1] = \"OPEN\";\n    State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n})(State || (State = {}));\n/* harmony default export */ var state = (State);\n\n// CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n\n\nvar autoIncrement = 1;\nvar http_socket_HTTPSocket = (function () {\n    function HTTPSocket(hooks, url) {\n        this.hooks = hooks;\n        this.session = randomNumber(1000) + '/' + randomString(8);\n        this.location = getLocation(url);\n        this.readyState = state.CONNECTING;\n        this.openStream();\n    }\n    HTTPSocket.prototype.send = function (payload) {\n        return this.sendRaw(JSON.stringify([payload]));\n    };\n    HTTPSocket.prototype.ping = function () {\n        this.hooks.sendHeartbeat(this);\n    };\n    HTTPSocket.prototype.close = function (code, reason) {\n        this.onClose(code, reason, true);\n    };\n    HTTPSocket.prototype.sendRaw = function (payload) {\n        if (this.readyState === state.OPEN) {\n            try {\n                runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n                return true;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    HTTPSocket.prototype.reconnect = function () {\n        this.closeStream();\n        this.openStream();\n    };\n    HTTPSocket.prototype.onClose = function (code, reason, wasClean) {\n        this.closeStream();\n        this.readyState = state.CLOSED;\n        if (this.onclose) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: wasClean\n            });\n        }\n    };\n    HTTPSocket.prototype.onChunk = function (chunk) {\n        if (chunk.status !== 200) {\n            return;\n        }\n        if (this.readyState === state.OPEN) {\n            this.onActivity();\n        }\n        var payload;\n        var type = chunk.data.slice(0, 1);\n        switch (type) {\n            case 'o':\n                payload = JSON.parse(chunk.data.slice(1) || '{}');\n                this.onOpen(payload);\n                break;\n            case 'a':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                for (var i = 0; i < payload.length; i++) {\n                    this.onEvent(payload[i]);\n                }\n                break;\n            case 'm':\n                payload = JSON.parse(chunk.data.slice(1) || 'null');\n                this.onEvent(payload);\n                break;\n            case 'h':\n                this.hooks.onHeartbeat(this);\n                break;\n            case 'c':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                this.onClose(payload[0], payload[1], true);\n                break;\n        }\n    };\n    HTTPSocket.prototype.onOpen = function (options) {\n        if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n                this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n            this.readyState = state.OPEN;\n            if (this.onopen) {\n                this.onopen();\n            }\n        }\n        else {\n            this.onClose(1006, 'Server lost session', true);\n        }\n    };\n    HTTPSocket.prototype.onEvent = function (event) {\n        if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({ data: event });\n        }\n    };\n    HTTPSocket.prototype.onActivity = function () {\n        if (this.onactivity) {\n            this.onactivity();\n        }\n    };\n    HTTPSocket.prototype.onError = function (error) {\n        if (this.onerror) {\n            this.onerror(error);\n        }\n    };\n    HTTPSocket.prototype.openStream = function () {\n        var _this = this;\n        this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n        this.stream.bind('chunk', function (chunk) {\n            _this.onChunk(chunk);\n        });\n        this.stream.bind('finished', function (status) {\n            _this.hooks.onFinished(_this, status);\n        });\n        this.stream.bind('buffer_too_long', function () {\n            _this.reconnect();\n        });\n        try {\n            this.stream.start();\n        }\n        catch (error) {\n            util.defer(function () {\n                _this.onError(error);\n                _this.onClose(1006, 'Could not start streaming', false);\n            });\n        }\n    };\n    HTTPSocket.prototype.closeStream = function () {\n        if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n        }\n    };\n    return HTTPSocket;\n}());\nfunction getLocation(url) {\n    var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n    return {\n        base: parts[1],\n        queryString: parts[2]\n    };\n}\nfunction getSendURL(url, session) {\n    return url.base + '/' + session + '/xhr_send';\n}\nfunction getUniqueURL(url) {\n    var separator = url.indexOf('?') === -1 ? '?' : '&';\n    return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n}\nfunction replaceHost(url, hostname) {\n    var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n    return urlParts[1] + hostname + urlParts[3];\n}\nfunction randomNumber(max) {\n    return Math.floor(Math.random() * max);\n}\nfunction randomString(length) {\n    var result = [];\n    for (var i = 0; i < length; i++) {\n        result.push(randomNumber(32).toString(32));\n    }\n    return result.join('');\n}\n/* harmony default export */ var http_socket = (http_socket_HTTPSocket);\n\n// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\nvar http_streaming_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n    },\n    onHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n    }\n};\n/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\nvar http_polling_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr' + url.queryString;\n    },\n    onHeartbeat: function () {\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        if (status === 200) {\n            socket.reconnect();\n        }\n        else {\n            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n        }\n    }\n};\n/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\nvar http_xhr_request_hooks = {\n    getRequest: function (socket) {\n        var Constructor = runtime.getXHRAPI();\n        var xhr = new Constructor();\n        xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n                case 3:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    break;\n                case 4:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    socket.emit('finished', xhr.status);\n                    socket.close();\n                    break;\n            }\n        };\n        return xhr;\n    },\n    abortRequest: function (xhr) {\n        xhr.onreadystatechange = null;\n        xhr.abort();\n    }\n};\n/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n\n\n\n\nvar HTTP = {\n    createStreamingSocket: function (url) {\n        return this.createSocket(http_streaming_socket, url);\n    },\n    createPollingSocket: function (url) {\n        return this.createSocket(http_polling_socket, url);\n    },\n    createSocket: function (hooks, url) {\n        return new http_socket(hooks, url);\n    },\n    createXHR: function (method, url) {\n        return this.createRequest(http_xhr_request, method, url);\n    },\n    createRequest: function (hooks, method, url) {\n        return new http_request(hooks, method, url);\n    }\n};\n/* harmony default export */ var http_http = (HTTP);\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n\nhttp_http.createXDR = function (method, url) {\n    return this.createRequest(http_xdomain_request, method, url);\n};\n/* harmony default export */ var web_http_http = (http_http);\n\n// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar Runtime = {\n    nextAuthCallbackID: 1,\n    auth_callbacks: {},\n    ScriptReceivers: ScriptReceivers,\n    DependenciesReceivers: DependenciesReceivers,\n    getDefaultStrategy: default_strategy,\n    Transports: transports_transports,\n    transportConnectionInitializer: transport_connection_initializer,\n    HTTPFactory: web_http_http,\n    TimelineTransport: jsonp_timeline,\n    getXHRAPI: function () {\n        return window.XMLHttpRequest;\n    },\n    getWebSocketAPI: function () {\n        return window.WebSocket || window.MozWebSocket;\n    },\n    setup: function (PusherClass) {\n        var _this = this;\n        window.Pusher = PusherClass;\n        var initializeOnDocumentBody = function () {\n            _this.onDocumentBody(PusherClass.ready);\n        };\n        if (!window.JSON) {\n            Dependencies.load('json2', {}, initializeOnDocumentBody);\n        }\n        else {\n            initializeOnDocumentBody();\n        }\n    },\n    getDocument: function () {\n        return document;\n    },\n    getProtocol: function () {\n        return this.getDocument().location.protocol;\n    },\n    getAuthorizers: function () {\n        return { ajax: xhr_auth, jsonp: jsonp_auth };\n    },\n    onDocumentBody: function (callback) {\n        var _this = this;\n        if (document.body) {\n            callback();\n        }\n        else {\n            setTimeout(function () {\n                _this.onDocumentBody(callback);\n            }, 0);\n        }\n    },\n    createJSONPRequest: function (url, data) {\n        return new jsonp_request(url, data);\n    },\n    createScriptRequest: function (src) {\n        return new script_request(src);\n    },\n    getLocalStorage: function () {\n        try {\n            return window.localStorage;\n        }\n        catch (e) {\n            return undefined;\n        }\n    },\n    createXHR: function () {\n        if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n        }\n        else {\n            return this.createMicrosoftXHR();\n        }\n    },\n    createXMLHttpRequest: function () {\n        var Constructor = this.getXHRAPI();\n        return new Constructor();\n    },\n    createMicrosoftXHR: function () {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n    getNetwork: function () {\n        return net_info_Network;\n    },\n    createWebSocket: function (url) {\n        var Constructor = this.getWebSocketAPI();\n        return new Constructor(url);\n    },\n    createSocketRequest: function (method, url) {\n        if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n        }\n        else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n        }\n        else {\n            throw 'Cross-origin HTTP requests are not supported';\n        }\n    },\n    isXHRSupported: function () {\n        var Constructor = this.getXHRAPI();\n        return (Boolean(Constructor) && new Constructor().withCredentials !== undefined);\n    },\n    isXDRSupported: function (useTLS) {\n        var protocol = useTLS ? 'https:' : 'http:';\n        var documentProtocol = this.getProtocol();\n        return (Boolean(window['XDomainRequest']) && documentProtocol === protocol);\n    },\n    addUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('unload', listener, false);\n        }\n        else if (window.attachEvent !== undefined) {\n            window.attachEvent('onunload', listener);\n        }\n    },\n    removeUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.removeEventListener('unload', listener, false);\n        }\n        else if (window.detachEvent !== undefined) {\n            window.detachEvent('onunload', listener);\n        }\n    }\n};\n/* harmony default export */ var runtime = (Runtime);\n\n// CONCATENATED MODULE: ./src/core/timeline/level.ts\nvar TimelineLevel;\n(function (TimelineLevel) {\n    TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n    TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n    TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n})(TimelineLevel || (TimelineLevel = {}));\n/* harmony default export */ var timeline_level = (TimelineLevel);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n\n\nvar timeline_Timeline = (function () {\n    function Timeline(key, session, options) {\n        this.key = key;\n        this.session = session;\n        this.events = [];\n        this.options = options || {};\n        this.sent = 0;\n        this.uniqueID = 0;\n    }\n    Timeline.prototype.log = function (level, event) {\n        if (level <= this.options.level) {\n            this.events.push(extend({}, event, { timestamp: util.now() }));\n            if (this.options.limit && this.events.length > this.options.limit) {\n                this.events.shift();\n            }\n        }\n    };\n    Timeline.prototype.error = function (event) {\n        this.log(timeline_level.ERROR, event);\n    };\n    Timeline.prototype.info = function (event) {\n        this.log(timeline_level.INFO, event);\n    };\n    Timeline.prototype.debug = function (event) {\n        this.log(timeline_level.DEBUG, event);\n    };\n    Timeline.prototype.isEmpty = function () {\n        return this.events.length === 0;\n    };\n    Timeline.prototype.send = function (sendfn, callback) {\n        var _this = this;\n        var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: 'js',\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events\n        }, this.options.params);\n        this.events = [];\n        sendfn(data, function (error, result) {\n            if (!error) {\n                _this.sent++;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        return true;\n    };\n    Timeline.prototype.generateUniqueID = function () {\n        this.uniqueID++;\n        return this.uniqueID;\n    };\n    return Timeline;\n}());\n/* harmony default export */ var timeline_timeline = (timeline_Timeline);\n\n// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n\n\n\nvar transport_strategy_TransportStrategy = (function () {\n    function TransportStrategy(name, priority, transport, options) {\n        this.name = name;\n        this.priority = priority;\n        this.transport = transport;\n        this.options = options || {};\n    }\n    TransportStrategy.prototype.isSupported = function () {\n        return this.transport.isSupported({\n            useTLS: this.options.useTLS\n        });\n    };\n    TransportStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n        }\n        else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n        }\n        var connected = false;\n        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n        var handshake = null;\n        var onInitialized = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.connect();\n        };\n        var onOpen = function () {\n            handshake = factory.createHandshake(transport, function (result) {\n                connected = true;\n                unbindListeners();\n                callback(null, result);\n            });\n        };\n        var onError = function (error) {\n            unbindListeners();\n            callback(error);\n        };\n        var onClosed = function () {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n        };\n        var unbindListeners = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.unbind('open', onOpen);\n            transport.unbind('error', onError);\n            transport.unbind('closed', onClosed);\n        };\n        transport.bind('initialized', onInitialized);\n        transport.bind('open', onOpen);\n        transport.bind('error', onError);\n        transport.bind('closed', onClosed);\n        transport.initialize();\n        return {\n            abort: function () {\n                if (connected) {\n                    return;\n                }\n                unbindListeners();\n                if (handshake) {\n                    handshake.close();\n                }\n                else {\n                    transport.close();\n                }\n            },\n            forceMinPriority: function (p) {\n                if (connected) {\n                    return;\n                }\n                if (_this.priority < p) {\n                    if (handshake) {\n                        handshake.close();\n                    }\n                    else {\n                        transport.close();\n                    }\n                }\n            }\n        };\n    };\n    return TransportStrategy;\n}());\n/* harmony default export */ var transport_strategy = (transport_strategy_TransportStrategy);\nfunction failAttempt(error, callback) {\n    util.defer(function () {\n        callback(error);\n    });\n    return {\n        abort: function () { },\n        forceMinPriority: function () { }\n    };\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n\n\n\nvar strategy_builder_Transports = runtime.Transports;\nvar strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {\n    var transportClass = strategy_builder_Transports[type];\n    if (!transportClass) {\n        throw new UnsupportedTransport(type);\n    }\n    var enabled = (!config.enabledTransports ||\n        arrayIndexOf(config.enabledTransports, name) !== -1) &&\n        (!config.disabledTransports ||\n            arrayIndexOf(config.disabledTransports, name) === -1);\n    var transport;\n    if (enabled) {\n        transport = new transport_strategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, extend({\n            key: config.key,\n            useTLS: config.useTLS,\n            timeline: config.timeline,\n            ignoreNullOrigin: config.ignoreNullOrigin\n        }, options));\n    }\n    else {\n        transport = strategy_builder_UnsupportedStrategy;\n    }\n    return transport;\n};\nvar strategy_builder_UnsupportedStrategy = {\n    isSupported: function () {\n        return false;\n    },\n    connect: function (_, callback) {\n        var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n        });\n        return {\n            abort: function () {\n                deferred.ensureAborted();\n            },\n            forceMinPriority: function () { }\n        };\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/config.ts\n\nvar getGlobalConfig = function () {\n    return {\n        wsHost: defaults.host,\n        wsPort: defaults.ws_port,\n        wssPort: defaults.wss_port,\n        wsPath: defaults.ws_path,\n        httpHost: defaults.sockjs_host,\n        httpPort: defaults.sockjs_http_port,\n        httpsPort: defaults.sockjs_https_port,\n        httpPath: defaults.sockjs_path,\n        statsHost: defaults.stats_host,\n        authEndpoint: defaults.channel_auth_endpoint,\n        authTransport: defaults.channel_auth_transport,\n        activity_timeout: defaults.activity_timeout,\n        pong_timeout: defaults.pong_timeout,\n        unavailable_timeout: defaults.unavailable_timeout\n    };\n};\nvar getClusterConfig = function (clusterName) {\n    return {\n        wsHost: 'ws-' + clusterName + '.pusher.com',\n        httpHost: 'sockjs-' + clusterName + '.pusher.com'\n    };\n};\n\n// CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar pusher_Pusher = (function () {\n    function Pusher(app_key, options) {\n        var _this = this;\n        checkAppKey(app_key);\n        options = options || {};\n        if (!options.cluster && !(options.wsHost || options.httpHost)) {\n            var suffix = url_store.buildLogSuffix('javascriptQuickStart');\n            logger.warn(\"You should always specify a cluster when connecting. \" + suffix);\n        }\n        if ('disableStats' in options) {\n            logger.warn('The disableStats option is deprecated in favor of enableStats');\n            if (!('enableStats' in options)) {\n                options.enableStats = !options.disableStats;\n            }\n        }\n        this.key = app_key;\n        this.config = extend(getGlobalConfig(), options.cluster ? getClusterConfig(options.cluster) : {}, options);\n        this.channels = factory.createChannels();\n        this.global_emitter = new dispatcher();\n        this.sessionID = Math.floor(Math.random() * 1000000000);\n        this.timeline = new timeline_timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION\n        });\n        if (this.config.enableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n                host: this.config.statsHost,\n                path: '/timeline/v2/' + runtime.TimelineTransport.name\n            });\n        }\n        var getStrategy = function (options) {\n            var config = extend({}, _this.config, options);\n            return runtime.getDefaultStrategy(config, strategy_builder_defineTransport);\n        };\n        this.connection = factory.createConnectionManager(this.key, extend({\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activity_timeout,\n            pongTimeout: this.config.pong_timeout,\n            unavailableTimeout: this.config.unavailable_timeout\n        }, this.config, { useTLS: this.shouldUseTLS() }));\n        this.connection.bind('connected', function () {\n            _this.subscribeAll();\n            if (_this.timelineSender) {\n                _this.timelineSender.send(_this.connection.isUsingTLS());\n            }\n        });\n        this.connection.bind('message', function (event) {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n            if (event.channel) {\n                var channel = _this.channel(event.channel);\n                if (channel) {\n                    channel.handleEvent(event);\n                }\n            }\n            if (!internal) {\n                _this.global_emitter.emit(event.event, event.data);\n            }\n        });\n        this.connection.bind('connecting', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('disconnected', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('error', function (err) {\n            logger.warn(err);\n        });\n        Pusher.instances.push(this);\n        this.timeline.info({ instances: Pusher.instances.length });\n        if (Pusher.isReady) {\n            this.connect();\n        }\n    }\n    Pusher.ready = function () {\n        Pusher.isReady = true;\n        for (var i = 0, l = Pusher.instances.length; i < l; i++) {\n            Pusher.instances[i].connect();\n        }\n    };\n    Pusher.getClientFeatures = function () {\n        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {\n            return t.isSupported({});\n        }));\n    };\n    Pusher.prototype.channel = function (name) {\n        return this.channels.find(name);\n    };\n    Pusher.prototype.allChannels = function () {\n        return this.channels.all();\n    };\n    Pusher.prototype.connect = function () {\n        this.connection.connect();\n        if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n                var usingTLS = this.connection.isUsingTLS();\n                var timelineSender = this.timelineSender;\n                this.timelineSenderTimer = new PeriodicTimer(60000, function () {\n                    timelineSender.send(usingTLS);\n                });\n            }\n        }\n    };\n    Pusher.prototype.disconnect = function () {\n        this.connection.disconnect();\n        if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n        }\n    };\n    Pusher.prototype.bind = function (event_name, callback, context) {\n        this.global_emitter.bind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.unbind = function (event_name, callback, context) {\n        this.global_emitter.unbind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.bind_global = function (callback) {\n        this.global_emitter.bind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_global = function (callback) {\n        this.global_emitter.unbind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_all = function (callback) {\n        this.global_emitter.unbind_all();\n        return this;\n    };\n    Pusher.prototype.subscribeAll = function () {\n        var channelName;\n        for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n                this.subscribe(channelName);\n            }\n        }\n    };\n    Pusher.prototype.subscribe = function (channel_name) {\n        var channel = this.channels.add(channel_name, this);\n        if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n        }\n        else if (!channel.subscriptionPending &&\n            this.connection.state === 'connected') {\n            channel.subscribe();\n        }\n        return channel;\n    };\n    Pusher.prototype.unsubscribe = function (channel_name) {\n        var channel = this.channels.find(channel_name);\n        if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n        }\n        else {\n            channel = this.channels.remove(channel_name);\n            if (channel && this.connection.state === 'connected') {\n                channel.unsubscribe();\n            }\n        }\n    };\n    Pusher.prototype.send_event = function (event_name, data, channel) {\n        return this.connection.send_event(event_name, data, channel);\n    };\n    Pusher.prototype.shouldUseTLS = function () {\n        if (runtime.getProtocol() === 'https:') {\n            return true;\n        }\n        else if (this.config.forceTLS === true) {\n            return true;\n        }\n        else {\n            return Boolean(this.config.encrypted);\n        }\n    };\n    Pusher.instances = [];\n    Pusher.isReady = false;\n    Pusher.logToConsole = false;\n    Pusher.Runtime = runtime;\n    Pusher.ScriptReceivers = runtime.ScriptReceivers;\n    Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\n    Pusher.auth_callbacks = runtime.auth_callbacks;\n    return Pusher;\n}());\n/* harmony default export */ var core_pusher = __webpack_exports__[\"default\"] = (pusher_Pusher);\nfunction checkAppKey(key) {\n    if (key === null || key === undefined) {\n        throw 'You must pass your app key when you instantiate Pusher.';\n    }\n}\nruntime.setup(pusher_Pusher);\n\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}